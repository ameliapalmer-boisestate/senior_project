\documentclass[12pt]{article}
\usepackage{amsmath}
\usepackage{graphicx}
\usepackage{hyperref}
\usepackage[utf8]{inputenc}
\usepackage{mathrsfs}
\usepackage{amssymb}

\title{Introduction to Topological Groups}
\author{Dikran Dikranjan}

\begin{document}

\maketitle

\begin{abstract}
    These notes provide a brief introduction to topological groups with a special emphasis on Pontryagin-
van Kampen's duality theorem for locally compact abelian groups. We give a completely self-contained 
elementary proof of the theorem following the line from [36]. According to the classical tradition, the
structure theory of the locally compact abelian groups is built parallelly.
\end{abstract}

\section{Introduction}


    Let $L$ denote the category of locally compact abelian groups and continuous homomorphisms and let $ \mathbb{T} = \mathbb{R} / \mathbb{Z} $
be the unit circle group. For $G \in L$ denote by $ \widehat{G} $ the group of continuous homomorphisms (characters) $ G \to \mathbb{T} $
equipped with the compact-open topology\footnote[1]{having as a base of the neighborhoods of 0 the family of sets $ W(K, U) = {\chi \in \widehat{G} : x(K) \subseteq U} $, where $ K \subseteq G $ is compact and
$U$ is an open neighborhood of 0 in $T$.}. Then the assignment


$G \mapsto \widehat{G}$


is a contravariant endofunctor $ \widehat{}: L \to L $. The celebrated Pontryagin-van Kampen duality theorem ([82]) says
that this functor is, up to natural equivalence, an involution i.e., $ \widehat{\widehat{G}} \cong G $ (see Theorem 7.36 for more detail).
Moreover, this functor sends compact groups to discrete ones and viceversa, i.e., it defines a duality between
the subcategory $ C $ of compact abelian groups and the subcategory $ D $ of discrete abelian groups. This allows for
a very efficient and fruitful tool for the study of compact abelian groups, reducing all problems to the related
problems in the category of discrete groups. The reader is advised to give a look at the Mackey's beautiful
survey [75] for the connection of charactres and Pontryagin-van Kampen duality to number theory, physics and
elsewhere. This duality inspired a huge amount of related research also in category theory, a brief comment on
a specific categorical aspect (uniqueness and representability) can be found in $ \S $8.1 of the Appendix.


    The aim of these notes is to provide a self-contained proof of this remarkable duality theorem, providing all
necessary steps, including basic background on topological groups and the structure theory of locally compact
abelian groups. Peter-Weyl's theorem asserting that the continuous characters of the compact abelian groups
separate the points of the groups (see Theorem 6.4) is certainly the most important tool in proving the duality
theorem. The usual proof of Peter-Weyl's theorem involves Haar integration in order to produce sufficiently
many finite-dimensional unitary representations. In the case of abelian groups the irreducible ones turn out the
be one-dimensional. i.e., charactres. We prefer here a different approach. Namely, Peter-Weyl's theorem can be
obtained as an immediate corollary of a theorem of Folner (Theorem 5.12) whose elementary proof uses nothing
beyond elementary properties of the finite abelian groups, a local version of the Stone-Weierstraß approximation
theorem proved in $ \S $2 and the Stone-Cech compactification of discrete spaces. As another application of Folner's ˇ
theorem we describe the precompact groups (i.e., the subgroups of the compact groups) as having a topology
generated by continuous characters. As a third application of Folner's theorem one can obtain the existence of
the Haar integral on locally compact abelian groups for free (see [36, $ \S $2.4, Theorem 2.4.5]).
    

    The notes are organized as follows. In Section 2 we recall basic results and notions on abelian groups and
general topology, which will be used in the rest of the paper. Section 3 contains background on topological
groups, starting from scratch. Various ways of introducing a group topology are considered ($ \S $3.2), of which the
prominent one is by means of characters ($ \S $3.2.3). In $ \S $3.6 we recall the construction of Protasov and Zelenyuk
[88] of topologies arising from a given sequence that is required to be convergent to 0. Connectedness and
related properties in topological groups are discussed in $ \S $3.5. In $ \S $3.7 the Markov's problems on the existence
of non-discrete Hausdorff group topologies is discussed. In $ \S $3.7.1 we introduce two topologies, the Markov
topology and the Zariski topology, that allow for an easier understanding of Markov's problems. In $ \S $3.7.2 we
describe the Markov topology of the infinite permutation groups, while $ \S $7.3.3 contains the first two examples
of non-topologizable groups, given by Shelah and Ol'shanskii, respectively. The problems arising in extension
of group topologies are the topic of $ \S $7.3.4. Several cardinal invariants (weight, character and density character)
are introduced in $ \S $3.8, whereas $ \S $3.9 discuses completeness and completions. Further general information on
topological groups can be found in the monographs or surveys [3, 26, 27, 28, 36, 70, 79, 82].


    Section 4 is dedicated to specific properties of the (locally) compact groups used essentially in these notes.
The most important property we recall in $ \S $4.1 is the open mapping theorem In $ \S $4.2 we give an internal
description of the precompact groups using the notion of a big (large) set of the group. In $ \S $4.3 we recall
(with complete proofs) the structure of the closed subgroups of $ \mathbb{R}^n $ as well as the description of the closure of an
arbitrary subgroup of $ \mathbb{R}^n $. These groups play an important role in the whole theory of locally compact abelian
groups. In $ \S $5 we expose the proof of Folner's theorem (see Theorem 5.12). The proof, follows the line of [36].
An important ingredient of the proof is also the crucial idea, due to Prodanov, that consists in elimination of
all discontinuous characters in the uniform approximation of continuous functions via linear combinations of
characters obtained by means of Stone-Weierstra$\beta$ approximation theorem (Prodanov's lemma 5.10).


    In Section 6 we give various applications of Folner's theorem. The main one is an immediate proof of Peter-
Weyl's theorem. In this chapter we give also several other applications of Folner's theorem and Peter-Weyl's
theorem: a description of the precompact group topologies of the abelian groups ($ \S $6.1) and the structure of
the compactly generated locally compact abelian groups ($ \S $6.3). Here we consider also a precompact version of
Protasov and Zelenyuk's construction [88] of topologies making a fixed sequence converge to 0.


    Section 7 is dedicated to Pontryagin-van Kampen duality. In $ \S\S $7.1-7.3 we construct all tools for proving the
duality theorem 7.36. More specifically, $ \S\S $7.1 and 7.2 contain various properties of the dual groups that allow
for an easier computation of the dual in many cases. Using further the properties of the dual, we see in $ \S $7.3 that
many specific groups G satisfy the duality theorem, i.e., $ G \cong \widehat{\widehat{G}} $. In $ \S $7.4 we stress the fact that the isomorphism
$ G \cong \widehat{\widehat{G}} $ is natural by studying in detail the natural transformation $ \omega G : G \to \widehat{\widehat{G}} $ connecting the group with
its bidual. It is shown in several steps that $ \omega G $ is an isomorphism, considering larger and larger classes of
locally compact abelian groups $ G $ where the duality theorem holds (elementary locally compact abelian groups,
compact abelian groups, discrete abelian groups, compactly generated locally compact abelian groups). The
last step uses the fact that the duality functor is exact, this permits us to use all previous steps in the general
case.


    In the Appendix we dedicate some time to several topics that are not discussed in the main body of the
notes: uniqueness of the duality, dualities for non-abelian or non-locally compact-groups, some connection to
the topological properties of compact group and dynamical systems.


    A large number of exercises is given in the text to ease the understanding of the basic properties of group
topologies and the various aspects of the duality theorem.
   

    These notes are born out of two courses in the framework of the PhD programs at the Department of
Mathematics at Milan University and the Department of Geometry and Topology at the Complutense University
of Madrid held in April/May 2007. Among the participants there were various groups, interested in different
fields. To partially satisfy the interest of the audience I included various parts that can be eventually skipped,
at least during the first reading. For example, the reader who is not interested in non-abelian groups can skip
$ \S\S $3.2.4, the entire $ \S $3.7 and take all groups abelian in $ \S\S $3 and 4 (conversely, the reader interested in non-abelian
groups or rings may dedicate more time to $ \S\S $3.2.4, 3.7 and consider the non-abelian case also in the first half of
$ \S $4.2, see the footnote at the beginning of $ \S $4.2). For the category theorists $ \S\S $4.3, 5.1-5.3, 6.2-6.3 may have less
interest, compared to $ \S\S $3.1-3.9, 4.2, 6.1, 7.1-7.4 and 8.1-8.2. Finally, those interested to get as fast as possible
to the proof of the duality theorem can skip $ \S\S $3.2.3, 3.2.4 and 3.6-3.9 (in particular, the route $ \S\S $5-7 is possible
for the reader with sufficient knowledge of topological groups).


    Several favorable circumstances helped in creating these notes. My sincere thanks go to my colleagues V.
Zambelli, E. Mart \'in-Peinador, S. Kazangian, M. J. Chasco, M. G. Bianchi, L. Au$ \beta $enhofer, X. Dom \'ingues,
M. Bruguera, S. Trevijano, and E. Pacifici who made this course possible. The younger participants of the
course motivated me with their constant activity and challenging questions. I thank them for their interst
and patience. I thank also my PhD student at Udine University Anna Giordano Bruno who prepared a very
preliminary version of these notes in 2005.


    This notes are dedicated to the memory of Ivan Prodanov whose original contributions to Pontryagin-van
Kampen duality can hardly by overestimated. The line adopted here follows his approach from [84] and [36].


\tableofcontents


\subsection{Notation and Terminology}
        We denote by $\mathbb{P}$, $\mathbb{N}$ and $\mathbb{N}_+$ respectively the set of primes, the set of natural numbers and the set of positive
    integers. The symbol $c$ stands for the cardinality of the continuum. The symbols $\mathbb{Z}$, $\mathbb{Q}$, $\mathbb{R}$, $\mathbb{C}$ will denote the
    integers, the rationals, the reals and the complex numbers, respectively.
    

        The quotient $\mathbb{T} = \mathbb{R}/\mathbb{Z}$ is a compact divisible abelian group, topologically isomorphic to the unitary circle $\mathbb{S}$
    (i.e., the subgroup of all $z \in \mathbb{C}$ with $|z| = 1$). For $\mathbb{S}$ we use the multiplicative notation, while for $\mathbb{T}$ we use the
    additive notation.
    

        For an abelian group G we denote by Hom $(G,\mathbb{T})$ the group of all homomorphisms from $G$ to $\mathbb{T}$ written
    additively. The multiplicative form $G^* = \text{Hom} (G, \mathbb{S}) \cong \text{Hom} (G,\mathbb{T})$ will be used when necessary (e.g., concerning
    easier computation in $\mathbb{C}$, etc.). We call the elements of Hom $(G,\mathbb{T}) \cong \text{Hom} (G, \mathbb{S})$ \emph{characters}.
    

        For a topological group $G$ we denote by $c(G)$ the connected component of the identity 1 in $G$. If $c(G)$ is
    trivial, the group $G$ is said to be totally disconnected. If $M$ is a subset of $G$ then $\langle M \rangle$ is the smallest subgroup
    of $G$ containing $M$ and $\bar{M}$ is the closure of $M$ in $G$. The symbol $w(G)$ stands for the weight of $\tilde{G}$. Moreover G
    stands for the completion of a Hausdorff topological abelian group $G$ (see $\S$3.9).


\section{Background on topological spaces and abstract groups}


\subsection{Background and abelian groups}


Generally a group $G$ will be written multiplicatively and the neutral element will be denoted by $e_G$ or simply $e$
or 1 when there is no danger of confusion. For a subset $A, A_1, A_2, \dotsc , A_n$ of a group $G$ we write


$A^{-1} = {a^{-1} : a \in A}, and A_1 A_2 \dotsc A_n = {a_1 . . . a_n : a_i \in A_i, i = 1, 2, \dotsc , n}$    $ (*) $


and we write $A_n$ for $A_1 A_2 \dotsc A_n$ if all $A_i = A$. Moreover, for$ A \subseteq G $we denote by $c_{G}(A)$ the centralizer of $A$,
i.e., the subgroup ${x \in G : xa = ax for every a \in A}$.


    We use additive notation for abelian groups, consequently 0 will denote the neutral element in such a case.
Clearly, the counterpart of $(*)$ will be $-A, A_1 + A_2 + \dotsc + A_n$ and $nA$.


    A standard reference for abelian groups is the monograph [46]. We give here only those facts or definitions
that appear very frequently in the sequel.


    For $m \in N_+$, we use $\mathbb{Z}m$ or $\mathbb{Z}(m)$ for the finite cyclic group of order $m$. Let $G$ be an abelian group. The
subgroup of torsion elements of $G$ is $t(G)$ and for $m \in N_+$


$G[m] = {x \in G : mx = 0}$ and $mG = {mx : x \in G}$.


    For a family $ {G_i : i \in I} $ of groups we denote by $ \Pi_{i \in I} G_i $ the direct product $ G $ of the groups $ G_i $. The underlying
set of $ G $ is the Cartesian product $ \Pi_{i \in I} G_i $ and the operation is defined coordinatewise. The direct sum $ \bigoplus_{i \in I} G_i $
is the subgroup of $\Pi_{i \in I} G_i$ consisting of all elements of finite support. If all $ G_i $ are isomorphic to the same
group $ G $ and $ |I| = \alpha $, we write $ \bigoplus_{\alpha} G $ (or $ G^{(\alpha)} $, or $ \bigoplus_I G $) for the direct sum $ \bigoplus_{i \in I} G_i $


    A subset $X$ of an abelian group $G$ is independent, if $ \sum_{i=1}^{n} k_i x_i = 0 $ with $ k_i \in \mathbb{Z} $ and distinct elements $ x_i $ of
$ X, i = 1, 2, . . . , n $, imply $ k_1 = k_2 = . . . = k_n = 0 $. The maximum size of an independent subset of $ G $ is called
\emph{free-rank} of $ G $ and denoted by $r_{0} (G) $. An abelian group $G$ is \emph{free} , if $ G $ has an independent set of generators $ X $.
In such a case $ G \cong \bigoplus_{|X|} \mathbb{Z} $.


    For an abelian group $ G $ and a prime number p the subgroup $ G_[p] $ is a vector space over the finite field $ \mathbb{Z} /p \mathbb{Z} $.
We denote by $r_{p} (G)$ its dimension over $ \mathbb{Z} /p \mathbb{Z} $ and call it \emph{p-rank} of $G$.


    Let us start with the structure theorem for finitely generated abelian groups.


\textbf{Theorem 2.1.} \emph{If $ G $ is a finitely generated abelian group, then $ G $ is a finite direct product of cyclic groups.
Moreover, if $ G $ has $ m $ generators, then every subgroup of $ G $ is finitely generated as well and has at most $ m $
generators.}


\textbf{Definition 2.2.} \emph{An abelian group $G$ is}

    \begin{itemize}

        \item (a) \emph{torsion if $t(G) = G$;}
    
        \item (b) \emph{torsion-free if $t(G) = 0$;}
    
        \item (c) \emph{bounded if $mG = 0$ for some $m > 0$;}
    
        \item (d) \emph{divisible if $G = mG$ for every $m > 0$;}
        
        \item (e) \emph{reduced if the only divisible subgroup of $G$ is the trivial one.}
    
    \end{itemize}


\textbf{Example 2.3.}


    \begin{itemize}

        \item (a) \emph{The groups $ \mathbb{Z} $, $ \mathbb{Q} $, $ \mathbb{R} $, and $ \mathbb{C} $ are torsion-free. The class of torsion-free groups is stable
        under taking direct products and subgroups.}

        \item (b) \emph{The groups $Z_m \mathbb{Q} / \mathbb{Z}$ are torsion. The class of torsion groups is stable under taking direct sums, subgroups
        and quotients.}

        \item (c) \emph{ Let $m_1, m_2, \dotsb , m_k > 1$ be naturals and let $\alpha_1, \alpha_2, \dotsb , \alpha_k$ be cardinal numbers. Then the group $ \bigoplus^{k}_{i=1} \mathbb{Z}^{(\alpha_{i})}_{m_{i}} $
        is bounded. According to a theorem of Prufer every bounded abelian group has this form [46]. This generalizes the Frobenius-Stickelberger theorem about the structure of the finite abelian groups (see Theorem
        2.1).}

    \end{itemize}


\textbf{Example 2.4.}


    \begin{itemize}

        \item \emph{The groups $ \mathbb{Q} $, $ \mathbb{R} $, $ \mathbb{C} $, and $ \mathbb{T} $ are divisible.}

        \item \emph{For $ p \in \mathbb{P} $ we denote be $ \mathbb{Z} (p^{\infty}) $ the Prufer group, namely the $p$-primary component of the torsion group
        $ \mathbb{Q} / \mathbb{Z} $ (so that $ \mathbb{Z} (p^{\infty})$ has generators $ c_n = 1/p^{n} + \mathbb{Z}, n \in \mathbb{N} $). The group $ \mathbb{Z}(p^{\infty}) $ is divisible.}

        \item \emph{The class of divisible groups is stable under taking direct products, direct sums and quotients.
        In particular, every abelian group has a maximal divisible subgroup $d(G)$.}

        \item \emph{[46] Every divisible group $ G $ has the form $(\bigoplus_{ r_{0} (G) } Q) \oplus (\bigoplus_{p \in P} \mathbb{Z} (p^{\infty})^ {(rp(G))} )$ .}

    \end{itemize}


    If $X$ is a set, a set $Y$ of functions of $X$ to a set $Z$ \emph{separates the points} of $X$ if for every $x, y \in X$ with $x \neq y$,
there exists $f \in Y$ such that $f(x) \neq f(y)$. Now we see that the characters separate the points of a discrete
abelian groups.


\textbf{Theorem 2.5.} \emph{Let $ G $ be an abelian group, $ H $ a subgroup of $ G $ and $ D $ a divisible abelian group. Then for every
homomorphism $ f : H \to D $ there exists a homomorphism $ \bar{f} : G \to D $ such that $ \bar{f} \upharpoonright_{H} = f $.}


    \emph{If $ a \in G / H $ and $ D $ contains elements of arbitrary finite order, then $ \bar{f} $ can be chosen such that $ \bar{f} (a) \neq 0 $.}


    \emph{Proof}. Let $ H' $ be a subgroup of $ G $ such that $H' \supseteq H $ and suppose that $ g : H' \to D $ is such that $ g \upharpoonright_{H} = f $. We
prove that for every $ x \in G $, defining $ N = H' + \langle x \rangle $, there exists $ \bar{g} : N \to D $ such that  $ \bar{g} \upharpoonright_{H'} = g $. There are two
cases.


    If $ \langle x \rangle \cap H' = \{0\} $, then take any $ y \in D $ and define $ \bar{g}(h + kx) = g(h) + ky $ for every $ h \in H' $ and $ k \in \mathbb{Z} $. Then
$ \bar{g} $ is a homomorphism. This definition is correct because every element of $ N $ can be represented in a unique way
as $ h + kx $, where $ h \in H' $ and $ k \in \mathbb{Z} $.


    If $ C = \langle x \rangle \cap H' \neq {0} $, then $ C $ is cyclic, being a subgroup of a cyclic group. So $ C = \langle lx \rangle $ for some $l \in \mathbb{Z} $.
In particular, $ lx \in H' $ and we can consider the element $ a = g(lx) \in D $. Since $ D $ is divisible, there exists $ y \in D $
such that $ly = a$. Now define $ \bar{g} : N \to D $ putting $ \bar{g}(h + ky) = g(h) + ky $ for every $ h + kx \in N $, where $ h \in H' $
and $ k \in \mathbb{Z} $. To see that this definition is correct, suppose that $h + kx = h' + k'x$ for $ h, h' \in H' $ and $ k, k' \in \mathbb{Z} $.
Then $ h - h' = k'x - kx = (k' - k)x \in C $. So $k - k' = sl$ for some $ s \in \mathbb{Z} $. Since $ g : H' \to D $ is a homomorphism
and $ lx \in H' $, we have


$ g(h) - g(h') = g(h - h') = g(s(lx)) = sg(lx) = sa = sly = (k' - k)y = k'y - ky $.


    Thus, from $ g(h) - g(h') = k'y - ky $ we conclude that $ g(h) + ky = g(h') + k'y $. Therefore $ \bar{g} $ is correctly defined.
Moreover $ \bar{g} $ is a homomorphism and extends $ g $.


    Let $ M $ be the family of all subgroups $ H_i $ of $ G $ such that $ H \leq H_i $ and of all homomorphisms $ f_i : H_i \to D $
that extend $ f : H \to D $. For $ (H_i, f_i),(H_j , f_j ) \in M $ put $ (H_i, f_i) \leq (Hj , fj ) $ if $ H_i \leq H_j $ and $ f_j $ extends $ f_i $. In this
way $ (M, \leq) $ is partially ordered. Let $ {(H_i, f_i)}_{i \in I} $ a totally ordered subset of $ (M, \leq) $. Then $ H_0 = \bigcup_{i \in I} H_i $ is a
subgroup of $ G $ and $ f_0 : H_0 \to D $ defined by $ f_0 (x) = f_i (x) $ whenever $ x \in H_i $, is a homomorphism that extends
$ f_i $ for every $ i \in I $. This proves that $ (M, \leq) $ is inductive and so we can apply Zorn's lemma to find a maximal
element $ (H_{max}, f_{max}) $ of $ (M, \leq) $. It is easy to see that $ H_{max} = G $.


    Suppose now that $ D $ contains elements of arbitrary finite order. If $ a \in G / H $, we can extend $ f $ to $ H + \langle a \rangle $
defining it as in the first part of the proof. If $ \langle a \rangle \cap H = \{0\}$ then $ \bar{f}(h + ka) = f(h) + ky $ for every $ k \in \mathbb{Z} $, where
$ y \in D / \{0\} $. If $ \langle a \rangle \cap H \neq \{0\} $, since $ D $ contains elements of arbitrary order, we can choose $ y \in D $ such that
$ \bar{f}(h + ka) = f(h) + ky $ with $ y \neq 0 $. In both cases $ \bar{f}(a) = y \neq 0 $.


\textbf{Corollary 2.6.} \emph{Let $ G $ be an abelian group and $ H $ a subgroup of $ G $. If $ \chi \in Hom (H,\mathbb{T}) $ and a $ \in G / H $, then $ \chi $
can be extended to $ \bar{\chi} \in Hom (G,\mathbb{T}) $, with $ \bar{\chi}(a) \neq 0 $.}


\textbf{Corollary 2.7.} \emph{If $ G $ is an abelian group, then $ Hom (G,\mathbb{T}) $ separates the points of $ G $}


\textbf{Corollary 2.8.} \emph{If $ G $ is an abelian group and $ D $ a divisible subgroup of $ G $, then there exists a subgroup $ B $ of $ G $
such that $ G = D \times B $.}


\emph{Proof.} Consider the homomorphism $ f : D \to G $ defined by $ f(x) = x $ for every $ x \in D $. By Theorem 2.5 we can
extend $ f $ to $ f : G \to G $. Then put $ B = ker \bar{f} $ and observe that $ G = D + B $ and $ D \cap B = \{0\} $; consequently
$ G \cong D \times B $.


\textbf{Corollary 2.9.} \emph{Every abelian group $ G $ can be written as $ G = d(G) \times R $, where $ RT $ is a reduced subgroup of $ G $.}


\emph{Proof.} By Corollary 2.8 there exists a subgroup $ R $ of $ G $ such that $ G = d(G) \times R $. To conclude that $ R $ is reduced
it suffices to apply the definition of $ d(G) $.


    The ring of endomorphisms of the group $ Z(p^{\infty}) $ will be denoted by $ \mathbb{J}_p $, it is isomorphic the inverse limit
$ \underleftarrow{lim} \mathbb{Z} / p^{n} \mathbb{Z} $, known also as the ring of \emph{p-adic integers}. The field of quotients of $ \mathbb{J}_p $ (i.e., the field of \emph{p-adic
numbers}) will be denoted by $ \mathbb{Q}_p $. Sometimes we shall consider only the underlying groups of these rings (and
speak of ”the group \emph{p}-adic integers”, or ”the group \emph{p}-adic numbers).


\subsection{Background on topological spaces}


    We assume the reader is familiar with the basic definitions and notions related to topological spaces. For the
sake of completeness we recall here some frequently used properties related to compactness.

\textbf{Definition 2.10.} \emph{A topological space $ X $ is }


    \begin{itemize}

        \item compact \emph{if for every open cover of $ X $ there exists a finite subcover};
        
        \item Lindeloff \emph{if for every open cover of $ X $ there exists a countable subcover};

        \item locally compact \emph{if every point of $ X $ has compact neighborhood in $ X $};
     
        \item $\sigma$-compact \emph{if $ X $ is the union of countably many compact subsets};
        
        \item of first category, \emph{if $ X = \bigcup^{\infty}_{n=1} A_n $ and every $ A_n $ is a closed subset of $ X $ with empty interior};
        
        \item of second category, \emph{if $ X $ is not of first category};
        
        \item connected \emph{if for every proper open subset of $ X $ with open complement is empty}.

    \end{itemize}


        Here we recall properties of maps:


\textbf{Definition 2.11.} For a map $ f : (X, \tau) \to (Y, \tau') $ between topological spaces and a point $ x \in X $ we say:


        \begin{itemize}

            \item $ f $ is \emph{continuous} at $ x $ if for every neighborhood $ U $ of $ f(x) $ in $ Y $ there exists a neighborhood $ V $ of $ x $ in $ X $
            such that $ f(V) \subseteq U $,
            
            \item $ f $ is open in $ x \in X $ if for every neighborhood $ V $ of $ x $ in $ X $ there exists a neighborhood $ U $ of $ f(x) $ in $ Y $ such
            that $ f(V) \supseteq U $,

            \item $ f $ is continuous (resp., open) if $ f $ is continuous (resp., open) at every point $ x \in X $.
            
            \item $ f $ is closed if the subset $ f(A) $ of $ Y $ is closed for every closed subset $ A \subseteq X $.
            
        \end{itemize}


            Some basic properties relating spaces to continuous maps are collected in the next lemma:



\textbf{Lemma 2.12.} 


        \begin{itemize}

            \item \emph{If $ f : X \to Y $ is a continuous surjective map, then $ Y $ is compact (resp., Lindeloff, $\sigma$-compact,
            connected) whenever $ X $ has the same property.}
                
            \item \emph{If $ X $ is a closed subspace of a space $ Y $ , then $ X $ is compact (resp., Lindeloff, $\sigma$-compact, locally compact)
            whenever $ Y $ has the same property}

            \item If $ X = \Pi_{i \in I} X_i $, then $ X $ is compact (resp., connected) iff every space $ X_i $ has the same property. If $ I $ is
            finite, the same holds for local compactness and $\sigma$-compactness.
                
        \end{itemize}


        A partially ordered set $ (A, \leq) $ is \emph{directed} if for every $ \chi $, $ \beta \in A $ there exists $ \gamma \in A $ such that $ \gamma \leq \alpha $ and $ \gamma \leq \beta $.
    A subset $ B $ of $ A $ is \emph{cofinal}, if for every $ \alpha \in A $ there exists $ \beta \in B $ with $ \beta \geq \alpha $.
    

        A \emph{net} in a topological space $ X $ is a map from a directed set $ A $ to $ X $. We write $ x_\alpha $ for the image of $ \alpha \in A $ so
    that the net can be written in the form $ N = \{x_{\alpha}\}_{\alpha \in A} $. A \emph{subnet} of a net $ N $ is $ S = \{x_{\beta}\}_{\beta \in B} $ such that $ B $ is a
    cofinal subset of $ A $.
    

        A net ${x_{alpha}}_{\alpha \in A}$ in $ X $ converges to $ x \in X $ if for every neighborhood $ U $ of $ x $ in $ X $ there exists $ \beta \in A $ such that
    $ \alpha \in A $ and $ \alpha \geq \beta $ implies $ \alpha \in U $.    


\textbf{Lemma 2.13.} Let $ X $ \emph{a topological space.}


    \begin{itemize}

        \item (a) \emph{If $ Z $ is a subset of $ X $, then $ x \in bar{Z} $ if and only if there exists a net in $ Z $ converging to $ x $.}
            
        \item (b) \emph{$ X $ is compact if and only if every net in $ X $ has a convergent subnet}.

        \item (c) \emph{A function $ f : X \to Y $ (where $ Y $ is a topological space) is continuous if and only if $ f(x_{\alpha}) \to f(x) $ in $ Y $ for 
        every net $ \{ x_{\alpha} \}_{\alpha \in A} $ in $ X $ with $ x_{\alpha} \to x $}

        \item (d) \emph{The space $ X $ is Hausdorff if and only if every net in $ X $ converges to at most one point in X}.
            
    \end{itemize}


    Let us recall that the \emph{connected component} of a point $ x $ in a topological space $ X $ is the largest connected
subset of $ X $ containing $ x $. It is always a closed subset of $ X $. The space $ X $ is called \emph{totally disconnected} if all
connected components are singletons.
    
    
    In a topological space $ X $ the \emph{quasi-component} of a point $ x \in X $ is the intersection of all clopen sets of $ X $
containing $ x $. 


\textbf{Lemma 2.14.} (Shura-Bura) \emph{In a compact space X the quasi-components and the connected components coincide.}


    A topological space $ X $ \emph{zero-dimensional} if X has a base of clopen sets. Zero-dimensional $ T_2 $ spaces are totally
disconnected (as every point is an intersection of clopen sets).


\textbf{Theorem 2.15.} (Vedenissov) \emph{Every totally disconnected locally compact space is zero-dimensional.}


    By $\beta X$ we denote the \emph{Cech-Stone compactification} of a topological Tychonov space $ X $, that is the compact
space $\beta X$ together with the dense immersion $i : X \to \beta X$, such that for every function $f : X \to [0, 1]$ there
exists $f^{\beta} : \beta X → [0, 1]$ which extends $ f $ (this is equivalent to ask that every function of $ X $ to a compact space
$ Y $ can be extended to $\beta X$). Here $\beta X$ will be used only for a discrete space $ X $.


\textbf{Theorem 2.16 (Baire category theorem).} \emph{A Hausdorff locally compact space $ X $ is of second category.}


    \emph{Proof.} Suppose that $ X = \bigcup^{\infty}_{n=1} A_n $ and assume that every $ A_n $ is closed with empty interior. Then the sets
$ D_n = G / A_n $ are open and dense in $ X $. To get a contradiction, we show that $ \bigcap^{\infty}_{n=1} D_n $ is dense, in particular
non-empty (so $ G \neq \bigcup^{\infty}_{n=1} A_n $, a contradiction).


    We use the fact that a Hausdorff locally compact space is regular. Pick an arbitrary open set $ V \neq \varnothing $. Then
there exists an open set $ U_0 \neq \varnothing $ with $ \bar{U}_0 $ compact and $ \bar{U}_0 \subseteq V $ . Since $ D_1 $ is dense, $ U_0 \cap D_1 \neq \varnothing $. Pick $ x_1 \in U_0 \cap D_1 $
and an open set $ U_1 \ni x_1 $ in $ X $ with $ \bar{U}_1 $ compact and $ U_1 \subseteq U_0 \cap D_1 $ . Proceeding in this way, for every $ n \in N_+ $
we can find an open set $ U_n \neq \varnothing $ in $ G $ with $\bar{U}_n$ compact and $ \bar{U}_n \subseteq U_{n-1} \cap D_n $. By the compactness of every $ \bar{U}_n $
there exists a point $ x \in \bigcap^{\infty}_{n=1} \bar{U}_n $. Obviously, $ x \in V \cap \bigcap^{\infty}_{n=1} D_n $.


\textbf{Lemma 2.17.} \emph{If $ G $ is a locally compact $\sigma$-compact space, then $ G $ is a Lindeloff space.}


\emph{Proof.} Let $ G = \bigcup_{\alpha \in I} U_{\alpha} $. Since $ G $ is $\sigma$-compact, $ G = \bigcup^{\infty}_{n=1} K_n $ where each $ K_n $ is a compact subset of $ G $.
Thus for every $ n \in \mathbb{N}_+ $ there exists a finite subset $ F_n $ of $ I $ such that $ K_n \subseteq \bigcup_{n \in F_n} U_n $. Now $ I_0 = \bigcup^{\infty}_{n=1} F_n $ is a
countable subset of $ I $ and $ K_n \subseteq \bigcup_{\alpha \in I_0} U_{\alpha} $ for every $ N \in \mathbb{N}_+ $ yields $ G = \bigcup_{\alpha \in I_0} U_{\alpha} $.
    

    Let X be a topological space. Let $ C(X, \mathbb{C}) $ be the $\mathbb{C}$-algebra of all continuous complex valued functions on
$ X $. If $ f \in C(X, \mathbb{C}) $ let


$\|f\|^{\infty} = sup\{|f(x)| : x \in X\}$.


\textbf{Theorem 2.18 (Stone-WeiersreaB theorem).} \emph{Let $ X $ be a compact topological space. A $\mathbb{C}$-subalgebra $ \mathcal{A} $ of
$ \mathcal{C}(X, \mathbb{C}) $ containing all constants and closed under conjugation is dense in $ \mathcal{C}(X, \mathbb{C}) $ for the norm $ \| \|_{\infty} $ if and
only if $ \mathcal{A} $ separates the points of $ X $.}


    We shall need in the sequel the following local form of Stone-WeierstraB theorem.


\textbf{Corollary 2.19.} \emph{Let $ X $ be a compact topological space and $ f \in \mathcal{C}(X, \mathbb{C}) $. Then $ f $ can be uniformly approximated
by a $ \mathbb{C} $-subalgebra $ \mathcal{A} $ of $ \mathcal{C}(X, \mathbb{C}) $ containing all constants and closed under the complex conjugation if and only
if $ \mathcal{A} $ separates the points of $ X $ separated by $ f \in \mathcal{C}(X, \mathbb{C}) $.}


\emph{Proof.} Denote by $ G : X \to \mathbb{C}^A $ the diagonal map of the family $\{g : g \in A\}$. Then $ Y = G(X) $ is a compact
subspace of $ \mathbb{C}^A $ and by the compactness of $ X $, its subspace topology coincides with the quotient topology of
the map $ G : X \to Y $ . The equivalence relation ~ in $ X $ determined by this quotient is as follows: $ x ~ y $ for
$ x, y \in X $ by if and only if $ G(x) = G(y) $ (if and only if $ g(x) = g(y) $ for every $ g \in A $). Clearly, every continuous
function $ h : X \to \mathbb{C} $, such that $ h(x) = h(y) $ for every pair $ x, y $ with $ x ~ y $, can be factorized as $ h = \bar{h} \circ q $, where
$\bar{h} \in C(Y, \mathbb{C})$. In particular, this holds true for all $ g \in A $ and for $ f $ (for the latter case this follows from our
hypothesis). The $\mathbb{C}$-subalgebra $ A \subseteq C(Y, \mathbb{C}) $ is closed under the complex conjugation and contains all constants.
It is easy to see that it separates the points of $ Y $. Hence we can apply Stone - WeierstraB theorem 2.18 to $ Y $
and $ \bar{A} $ to deduce that we can uniformly approximate the function $ \bar{f} $ by functions of $ \bar{A} $. This produces uniform
approximation of the function $ f $ by functions of $ A $.



\section{General properties of topological groups}


\subsection{Definition of a topological group}


Let us start with the following fundamental concept:


\textbf{Let $ G $ be a geoup}
    

    \begin{itemize}

        \item A topology $\tau$ on $ G $ is said to be a \emph{group topology} if the map $ f : G \times G \to G $ defined by $f(x, y) = xy^{-1}$
        is continuous.

        \item A \emph{topological group} is a pair $ (G, \tau) $ of a group $ G $ and a group topology $\tau$ on $ G $.
    \end{itemize}
    

    If $ \tau $ is Hausdorff (resp., compact, locally compact, connected, etc.), then the topological group $ (G, \tau) $ is
called Hausdorff (resp., compact, locally compact, connected, etc.). Analogously, if $ G $ is cyclic (resp., abelian,
nilpotent, etc.) the topological group $ (G, \tau) $ is called cyclic (resp. abelian, nilpotent, etc.). Obviously, a topology
$ \tau $ on a group $ G $ is a group topology iff the maps 


$ \mu : G\times G \to G $ and $\iota : G \to G$


defined by $ \mu(x, y) = xy $ and $ \iota(x) = x^{-1} $ are continuous when $ G \times G $ carries the product topology.
Here are some examples, starting with two trivial ones: for every group $ G $ the discrete topology and the
indiscrete topology on $ G $ are group topologies. Non-trivial examples of a topological group are provided by the
additive group $ \mathbb{R} $ of the reals and by the multiplicative group $ \mathbb{S} $ of the complex numbers $ z $ with $ |z| = 1 $, equipped
both with their usual topology. This extends to all powers $ \mathbb{R}^n $ and $ \mathbb{S}^n$. These are abelian topological groups.
For every $ n $ the linear group $GL_n (\mathbb{R})$ equipped with the topology induced by $R^{n^2}$ is a non-abelian topological
group. The groups $\mathbb{R}^n$ and $GL_n (R)$ are locally compact, while $\mathbb{S}$ is compact.


\textbf{Example 3.2.} For every prime $ p $ the group $\mathbb{J}_p$ of $p$-adic integers carries the topology induced by $ \Pi^{\infty}_{n=1} \mathbb{Z}(p^n) $,
when we consider it as the inverse limit $\underleftarrow{lim} \mathbb{Z}/p^n \mathbb{Z}$. The same topology can be obtained also when we consider $\mathbb{J}_p$
as the ring of all endomorphims of the group $\mathbb{Z}(p^{\infty})$. Now $\mathbb{J}_p$ embeds into the product $\mathbb{Z}(p^{\infty})^{\mathbb{Z}(p^{\infty})}$ carrying the
product topology, while $\mathbb{Z}(p^{\infty})$ is discrete. We leave to the reader the verification that this is a compact group
topology on $\mathbb{J}_p$. Basic open neighborhoods of 0 in this topology are the subgroups $ p^n \mathbb{J}_p of (\mathbb{J}_p, +) $ (actually,
these are ideals of the ring $\mathbb{J}_p$) for $n \in N$. The field $\mathbb{Q}_p$ becomes a locally compact group by declaring $\mathbb{J}_p$ open
in $\mathbb{Q}_p$ (i.e., an element $x \in \mathbb{Q}_p$ has as typical neighborhoods the cosets $x + p^n \mathbb{J}_p, n \in \mathbb{N}$.


    Other examples of group topologies will be given in $\S$3.2.


    If $G$ is a topological group written multiplicatively and $a \in G$, then the translations $x \mapsto ax$ and $x \mapsto xa$
as well as the \emph{internal automorphism} $x \mapsto axa^{-1}$ are homeomorphisms. Consequently, the group $G$ is discrete
iff the point 1 is isolated, i.e., the singleton \{1\} is open. In the sequel $aM$ will denote the image of a subset
$M \subseteq G$ under the (left) translation $x \mapsto ax$, i.e., $aM := {am : m \in M}$. This notation will be extended also to
families of subsets of $G$, in particular, for every filter $\mathcal{F}$ we denote by $a \mathcal{F}$ the filter ${aF : F \in \mathcal{F}}$.


    Making use of the homeomorphisms $x \mapsto ax$ one can prove:


\textbf{Exercise 3.3.} \emph{Let $f : G \to H$ be a homomorphism between topological groups. Prove that $f$ is continuous
(resp., open) iff $f$ is continuous (resp., open) at $1 \in G$.}



    PAGE TEN BELOW



    For a topological group $G$ and $g \in G$ we denote by $\mathcal{V}_G,\tau (g)$ the filter of all neighborhoods of the element $g$
of $G$. When no confusion is possible, we shall write briefly also $\mathcal{V}_G(g), \mathcal{V}_{\tau} (g)$ or even $\mathcal{V}(g)$. Among these filters
the filter $V_{G,\tau} (1)$, obtained for the neutral element $g = 1$, plays a central role. It is useful to note that for every
$a \in G$ the filter $\mathcal{V}_G (a)$ coincides with $a \mathcal{V}_G (1) = \mathcal{V}_G (1) a$. More precisely, we have the following:


\textbf{Theorem 3.4.} \emph{Let $G$ be a group and let $\mathcal{V}(1)$ be the filter of all neighborhoods of 1 in some group topology $\tau$
on G. Then:}


\begin{itemize}

    \item (a) for every $U \in \mathcal{V}(1)$ there exists$ V \in V(1)$ with $V \times V \subseteq U$;

    \item (b) for every $U \in \mathcal{V}(1)$ there exists $V \in V(1)$ with $V^{-1} \subseteq U$;

    \item (c) for every $U \in \mathcal{V}(1)$ and for every $a \in G$ there exists $V \in \mathcal{V}(1)$ with $aV a^{-1} \subseteq U$.

\end{itemize}


    Conversely, if $\mathcal{V}$ is a filter on $G$ satisfying (a), (b) and (c), then there exists a unique group topology $\tau$ on
$G$ such that $\mathcal{V}$ coincides with the filter of all $\tau$-neighborhoods of 1 in $G$.


\emph{Proof.} To prove (a) it suffices to apply the definition of the continuity of the multiplication $\mu : G \times G \to G$ at
$(1, 1) \in G \times G$. Analogously, for (b) use the continuity of the map $\iota : G \to G$ at $1 \in G$. For item (c) use the
continuity of the internal automorphism $x \mapsto axa^{-1}$ at $1 \in G$.


Let $\mathcal{V}$ be a filter on $G$ satisfying all conditions (a), (b) and (c). Let us see first that every $U \in \mathcal{V}$ contains 1.
In fact, take $W \in \mathcal{V}$ with $W \times W \subseteq U$ and choose $V \in V(1)$ with $V \subseteq W$ and $V^{-1} \subseteq W$. Then $1 \in V · V^{-1} \subseteq U$.


Now define a topology $\tau$ on $G$ whose open sets $O$ are defined by the following property:


$\tau := \{O \subseteq G : (\forall a \in \mathcal{O})(\exists U \in \mathcal{V})$ such that $aU \subseteq O\}$.


    It is easy to see that $\tau$ is a topology on $G$. Let us see now that for every $g \in G$ the filter $g \mathcal{V}$ coincides with the filter
$V_{(G,\tau)}(g)$ of all $\tau$-neighborhoods of $g$ in $(G, \tau)$. The inclusion $g\mathcal{V} \supseteq \mathcal{V}(G,\tau)(g)$ is obvious. Assume $U \in \mathcal{V}$. To see
that $gU \in V_{(G,\tau)}(g)$ we have to find a $\tau$-open $O \subseteq gU$ that contains $g$. Let $O := {h \in gU : (\exists W \in V) hW \subseteq gU}$.
Obviously $g \in O$. To see that $O \in \tau$ pick $x \in O$. Then there exists $W \in \mathcal{V}$ with $xW \subseteq gU$. Let $V \in \mathcal{V}$ with
$V \times V \subseteq W$, then $xV \subseteq O$ since $xvV \subseteq gU$ for every $v \in V$.


    We have seen that $\tau$ is a topology on $G$ such that the $\tau$-neighborhoods of any $x \in G$ are given by the filter
$x \mathcal{V}$. It remains to see that $\tau$ is a group topology. To this end we have to prove that the map $(x, y) \mapsto xy^{-1}$ is
continuous. Fix $x, y$ and pick a $U \in \mathcal{V}$. By (c) there exists a $W \in \mathcal{V}$ with $W y^{-1} \subseteq y^{-1}U$. Now choose $V \in \mathcal{V}$
with $V · V^{-1} \subseteq W$. Then $O = xV \times yV$ is a neighborhood of $(x, y)$ in $G \times G$ and $f(O) \subseteq xV \times V^{-1}y^{-1} \subseteq xW y^{-1} \subseteq xy^{-1}U$.


In the above theorem one can take instead of a filter $\mathcal{V}$ also a \emph{filter base}, i.e., a family $\mathcal{V}$ with the property


$(\forall U \in \mathcal{V})(\forall V \in \mathcal{V})(\exists W \in \mathcal{V})W \subseteq U \cap V$


beyond the proprieties $(a)-(c)$.


    A neighborhood $U \in \mathcal{V}(1)$ is \emph{symmetric}, if $U = U^{-1}$. Obviously, for every $U \in \mathcal{V}(1)$ the intersection
$U \cap U^{-1} \in \mathcal{V}(1)$ is a symmetric neighborhood, hence every neighborhood of 1 contains a symmetric one.


Let $\{\tau_i : i \in I\}$ be a family of group topologies on a group $G$. Then their supremum $\tau = \sup_{i \in I} \tau_i$ is a group
topology on $G$ with a base of neighborhoods of 1 formed by the family of all finite intersection $U_1 \cap U_2 \cap \dots \cap U_n$,
where $U_k \in V_{\tau_{i_k}}(1)$ for $k = 1, 2, \dots, n$ and the $n$-tuple $i_1, i_2, \dots , i_n$ runs over all finite subsets if $I$.


\textbf{Exercise 3.5.} \emph{If ($a_n$) is a sequence in $G$ such that $a_n \to 1$ for every member $\tau_i$ of a family $\{\tau_i: i \in I\}$ of group
topologies on a group $G$, then $a_n \to 1$ also for the supremum $\sup_{i \in I} \tau_i$.}


\subsection{3.2 Examples of group topologies}


    Now we give several series of examples of group topologies, introducing them by means of the filter $\mathcal{V}(1)$ of
neighborhoods of 1 as explained above. However, in all cases we avoid the treat the whole filter $\mathcal{V}(1)$ and
we prefer to deal with an essential part of it, namely a base. Let us recall the precise definition of a base of
neighborhoods.


\textbf{Definition 3.6. } Let $G$ be a topological group. A family $\mathcal{B} \subseteq \mathcal{V}(1)$ is said to be a \emph{base of neighborhoods} of 1 (or
briefly, \emph{a base at} 1) if for every $U \in \mathcal(1)$ there exists a $V \in \mathcal{B}$ contained in $U$ (such a family will necessarily be
a filterbase).


\subsubsection{Linear topologies}


    Let $\mathcal{V} = \{N_i : i \in I\}$ be a filter base consisting of normal subgroups of a group $G$. Then $\mathcal{V}$ satisfies $(a)-(c)$,
hence generates a group topology on $G$ having as basic neighborhoods of a point $g \in G$ the family of cosets
${gN_i: i \in I}$. Group topologies of this type will be called \emph{linear topologies}. Let us see now various examples of
linear topologies.


\textbf{Example 3.7} Let $G$ be a group and let $p$ be a prime:


\begin{itemize}
    \item the \emph{pro-finite} topology, with $\{N_i : i \in I\}$ all normal subgroups of finite index of $G$;
    
    \item the \emph{pro-p-finite} topology, with $\{N_i : i \in I\}$ all normal subgroups of $G$ of finite index that is a power of $p$;

    \item the \emph{p-adic} topology, with $I = \mathbb{N}$ and for $n \in \mathbb{N}, N_n$ is the subgroup (necessarily normal)
        of $G$ generated by all powers $\{g^n : g \in G\}$.

    \item the \emph{pro-countable} topology, with $\{N_i : i \in I\}$ all normal subgroups of at most countable index $[G : N_i]$.

\end{itemize}


The next simple construction belongs to Taimanov. Now neighborhoods of 1 are subgroups, that are not necessarily normal.

\textbf{Excercise}Let $G$ be a group with trivial center. Then $G$ can be considered as a subgroup of $Aut (G)$ making
    use of the internal automorphisms. Identify $Aut (G)$ with a subgroup of the power $G^G$ and equip $Aut (G)$ with
    the group topology $\tau$ induced by the product topology of $G^G$, where $G$ carries the discrete topology. Prove that:


    \begin{itemize}

        \item the filter of all $\tau$ -neighborhoods of 1 has as base the family of centralizers $\{c_G(F)\}$, where $F$ runs over all
        finite subsets of $G$;
        
        \item $\tau$ is Hausdorff;
        
        \item $\tau$ is discrete iff there exists a finite subset of $G$ with trivial centralizer.

    \end{itemize}


\subsubsection{Topologies generated by characters}


Let $G$ be an abelian group. A \emph{character} of $G$ is a homomorphism $\chi : G \to \mathbb{S}$. For characters $\chi_i , i = 1, . . . , n$, of
$G$ and $\delta > 0$ let


$U_G (\chi_1, \dots, \chi_n; \delta) := \{x \in G : |Arg (\chi_i(x))| < \delta, i = 1, . . . , n\},   (1)$


where the argument $Arg (z)$ of a complex number $z$ is taken in $(-\pi, \pi]$. 


\textbf{Exercise 3.9.} Let $G$ be an abelian group and let $H$ be a family of characters of $G$. Then the family


        $\{U_G(\chi_1, \dots, \chi_n; \delta): \delta > 0, \chi_i \in H, i = 1, \dots, n\}$


        is a filter base satisfying the conditions $(a)-(c)$ of Theorem 3.4, hence it gives rise to a group topology $T_H on G$
    (this is the initial topology of the family $H$, i.e., the coarsest topology that makes continuous all the characters
    of H).


We refer to the group topology $T_H$ as topology generated by the characters of $H$. The topology $T_{G^*}$, generated
by all characters of $G$, is called Bohr topology of $G$.


For an abelian group $G$ some of the linear topologies on $G$ are also generated by appropriate families of
characters.

\textbf{Excersize 3.10.} Let G be an abelian group.

    \begin{enumerate}
        \item Prove that the profinite topology of $G$ is contained in the Bohr topology of $G$. Give an example of a group
            $G$ where these two topologies differ.

        \item Let $H$ be the family of all characters $\chi$ of $G$ such that the subgroup $\chi(G)$ is finite. Prove that the topology
            $\mathcal{T}_H$ coincides with the pro-finite topology on $G$.

        \item Let $H$ be the family of all characters $\chi$ of $G$ such that the subgroup $\chi(G)$ is finite and contained in the
            subgroup $\mathbb{Z}(p^{\infty})$ of $\mathbb{T}$. Prove that the topology $T_H$ coincides with the pro-p-finite topology on $G$.

    \end{enumerate}


This exercise suggests to call a character $\chi : G \to \mathbb{T}$ torsion is there exists $n > 0$ such that $\chi$ vanishes on
the subgroup $nG := \{nx : x \in G\}$. (Equivalently, the character $n \times \chi$ coincides with the trivial character, where
the character $n \times \chi : G \to \mathbb{T}$ is defined by $(n \times \chi)(x) := n_{\chi}(x)$.)


\textbf{Exercise 3.11} Let G be an alebian group. Prove that:
    

    \begin{enumerate}
        
        \item  if $H$ is a family of characters of $G$, then the topology $T_H$ is contained in the pro-finite topology of $G$ iff
        every character of $H$ is torsion.            
        
        \item if $G$ is bounded, then the Bohr topology of $G$ coincides with the profinite topology of $G$.
        
        \item if the Bohr topology of $G$ coincides with the profinite topology of $G$, then $G$ is bounded.
    
    \end{enumerate}


\subsubsection{Pseudonorms and pseudometrics in a group}


    According to Markov a \emph{pseudonorm} in an abelian group $G$ is a map $\nu: G \to \mathbb{R}_+$ such that for every $x, y \in G$:


    \begin{enumerate}

        \item $\nu(0) = 0$;

        \item $\nu(x^{-1})=\nu(x)$;
        
        \item $\nu(xy) \leq \nu(x) + \nu(y)$;
        
    \end{enumerate}


    The norms defined in a real vector space are obviously pseudonorms (with the additional property, in additive
notation, $\nu(0) = 0$ iff $x = 0$).


    Every pseudonorm $\nu$ generates a pseudometric $d_\nu$ on $G$ defined by $d_\nu (x, y) := \nu(x^{-1} y)$. This pseudometric
is \emph{left invariant} in the sense that $d_\nu (ax, ay) = d\nu(x, y)$ for every $a, x, y \in G$. Denote by $\tau_\nu$ the topology induced
on $G$ by this pseudometric. A base of $\mathcal{V}_{\tau_\nu}(1)$ is given by the open balls ${B_{1/n}(1) : n \in N_+}$.


    In order to build metrics inducing the topology of a given topological group $(G, \tau)$ we need the following
lemma (for a proof see [67, 8.2], [79]). We say that a pseudometric $d$ on $G$ is \emph{continuous} if the map $d : G \times G \to R_+$
is continuous. This is equivalent to have the topology induced by the metric $d$ coarser than the topology $\tau$ (i.e.,
every open set with respect to the metric $d$ is $\tau$ -open).


\textbf{Lemma 3.12.} Let G be a topological group


    $U_0 \supseteq U_1 \supseteq \dots \supseteq U_n \supseteq \dots $


        be symmetric neighborhoods of $1$ with $U^3_n \subseteq U_{n-1}$ for every $n \in \mathbb{N}$. Then there exists a continuous left invariant
    pseudometric $d$ on $G$ such that $U_n \subseteq B_{1/n}(1) \subseteq U_{n-1}$ for every $n$.


\textbf{Exercise 3.13} Prove that in the previous lemma $H = \bigcap^{\infty}_{n=1} U_n$ is a closed subgroup of $G$ with the property
$H = \{x \in G : d(x, 1) = 0\}$. In particular, $d$ is a metric iff $H = \{1\}$.


    If the chain (2) has also the property $xU_n x ^{-1} \subseteq U_{n-1}$ for every $x \in G$ and for every $n$, the subgroup $H$ is
normal and $d$ defines a metric on the quotient group letting $\tilde{d}(xH, yH) := d(x, y)$. The metric $\tilde{d}$ induces the
quotient topology on $G/H$.


\subsubsection{Permutation Groups}


    Let $X$ be an infinite set and let $G$ briefly denotes the group $S(X)$ of all permutations of $X$. A very natural
    topology on $G$ is defined by taking as filter of neighborhoods of $1 = id_X$ the family of all subgroups of $G$ of the
    form 
    
    
        $S_F = \{f \in G : (\forall x \in F) f(x) = x\}$,
        
        
    where $F$ is a finite subset of $X$.


    This topology can be described also as the topology induced by the natural embedding of $G$ into the Cartesian
    power $X_X$ equipped with the product topology, where $X$ has the discrete topology.


    This topology is also the point-wise convergence topology on $G$. Namely, if $(f_i)_{i \in I}$ is a net in $G$, then $f_i$
    converges to $f \in G$ precisely when for every $x \in X$ there exists an $i_0 \in I$ such that for all $i \geq i_0$ in $I$ one has
    $f_i (x) = f(x)$.


    \textbf{Exercise 3.14.} If $S_\omega (X)$ denotes the subset of all permutations of finite support in $S(X)$ prove that $S_\omega$ is a
    dense normal subgroup of $G$.


    \textbf{Exercise 3.15.} Prove that $S(X)$ has no proper closed normal subgroups.


    \subsection{Subgroups and quotients of topological groups}


        Let $G$ be a topological group and let $H$ be a subgroup of $G$. Then $H$ becomes a topological group when endowed
    with the topology induced by $G$. Sometimes we refer to this situation by saying $H$ is a topological subgroup of
    $G$.


        Let $G$ and $H$ be topological groups and let $f : G \to H$ be a continuous homomorphism. If $f$ is simultaneously
    an isomorphism and a homeomorphism, then $f$ is called a \emph{topological isomorphism}. If $f : G \to f(G) \subseteq H$ is
    a topological isomorphism, where $f(G)$ carries the topology induced by $H$, then $f$ is called \emph{topological group}
    \emph{embedding}, or shortly \emph{embedding}.


    \textbf{Proposition 3.16.} Let $G$ be a topological group and let $H$ be a subgroup of $G$. Then:


        \begin{itemize}
            \item (a) $H$ is open in $G$ iff $H$ has a non-empty interior;

            \item (b) if $H$ is open, then $H$ is also closed;
            
            \item (c) if $H$ is discrete and $G$ is $T_1$, then $H$ is closed.
        \end{itemize}  


        \emph{Proof} (a) Let $\emptyset \neq V \subseteq H$ be an open set and let $h_0 \in V$. Then $1 \in h^{-1}_0 V \subseteq H = h^{-1}_0 H$. Now $U = h^{-1}_0 V$ is
        open, contains $1$ and $h \in hU \subseteq H$ for every $h \in H$. Therefore $H$ is open.


        (b) If $H$ is open then every coset $gH$ is open and consequently the complement $G / H$ is open. So $H$ is
            closed.

        (c) Since $H$ is discrete there exists $U \in \mathcal{V}(1)$ with $U \cap H = \{1\}$. Choose $V \in \mathcal{V}(1)$ with $V^{-1} \times V \subseteq U$. Then
        $|xV \cap H| \leq 1$ for every $x \in G$, as $h_1 = xv_1 \in xV \cap H$ and $h_2 = xv_2 \in xV \cap H$ give $h^{-1}_1 h_2 \in V^{-1} \times V \cap H = \{1\}$,
        hence $h_1 = h_2$. Therefore, if $x \notin H$ one can find a neighborhood $W \subseteq xV$ of $x$ with $W \cap H = \emptyset$, i.e., $x \notin H$.
        Indeed, if $xV \cap H = \emptyset$, just take $W = xV$. In case $xV \cap H = \{h\}$ for some $h \in H$, one has $h \neq x$ as $x \notin H$.
        Then $W = xV \\ \{x\}$ is the desired neighborhood of $x$.


    \textbf{Exercise 3.17.} Let $H$ be a discrete non-trivial group and let $G = H \times N$, where $N$ is an indiscrete non-trivial
    group. Prove that $H \times \{1\}$ is a discrete non-closed subgroup of $G$.
    
    
        Let us see now how the closure $\bar{H}$ of a subset $H$ of a topological group $G$ can be computed.
    

    \textbf{Lemma 3.18.} Let $H$ be a subset of $G$. Then with $\mathcal{V} = \mathcal{V}(1)$ one has

        \begin{itemize}

            \item (a) $\bar{H} = \bigcap_{U \in \mathcal{V}} UH = \bigcap_{U \in \mathcal{V}} HU = \bigcap_{U,V \in \mathcal{V}} UHV$;
            
            \item (b) if $H$ is a subgroup of $G$, then $\bar{H}$ is a subgroup of $G$; if $H$ a normal subgroup, then also $\bar{H}$ is normal subgroup;
            
            \item (c) $N = \bar{\{1\}}$ is a closed normal subgroup.

        \end{itemize}


        \emph{Proof.} (a) For $x \in G$ one has $x \notin \bar{H}$ iff there exists $U \in \mathcal{V}$ such that $xU \cap H = \emptyset = Ux \cap H$. Pick a symmetric $U$,
        i.e., $U = U^{-1}$. Then the latter property is equivalent to $x \notin UH \cup HU$. This proves $\bar{H} = \bigcap_{U \in \mathcal{V}} UH = \bigcap_{U \in \mathcal{V}} HU$.
        To prove the last equality in (a) note that the already established equalities yield


        $\bigcap_{U,V \in \mathcal{V}} UHV = \bigcap_{U \in \mathcal{V}}(\bigcap_{V \in \mathcal{V}} UHV) = \bigcap_{U \in \mathcal{V}} \bar{UH} \subseteq \bigcap_{U \in \mathcal{V}} U^2 H = \bigcap_{W \in \mathcal{V}} WH = \bar{H}$


        (b)) Let $x, y \in \bar{H}$. According to (a), to verify $xy \in \bar{H}$ it suffices to see that $xy \in UHU$ for every $U \in \mathcal{V}$. This
        follows from $x \in UH$ and $y \in HU$ for every $U \in \mathcal{V}$. If $H$ is normal, then for every $a in G$ and for $U \in \mathcal{V}$ there
        exists a symmetric $V \in \mathcal{V}$ with $aV \subseteq U a$ and $V a^{-1} \subseteq a^{-1}U$. Now for every $x \in \bar{H}$ one has $x \in V HV^{-1}$, hence
        $axa-1 \in aV HV^{-1} a^{-1} \subseteq U aHa^{-1} U \subseteq UHU$. This proves $axa^{-1} \in \bar{H}$ according to (a).


        (c) follows from (b) with $H = \{1\}$.


    \textbf{Exercise 3.19.} Prove that: 

        
        \begin{itemize}

                \item the subgroup $H \times {1}$ from Exercise 3.17 of $G$ is dense.
                
                \item for every infinite set $X$ and every group topology on the permutation group $S(X)$ the subgroups $S_x = \{f \in S(X) : f(x) = x\}, x \in X$,
                are either closed or dense. (Hint. Prove that $S_x$ is a maximal subgroup of
                $S(X)$, see Fact 3.56.)
        
            \end{itemize}

    
    \textbf{Exercise 3.20.} Prove that every proper closed subgroup of $\mathbb{R}$ is cyclic.

    
    (Hint. If $H$ is a proper closed non-trivial subgroup of $\mathbb{R}$ prove that the set $\{h \in H : h > 0\}$ has a greatest
lower bound $h_0$ and conclude that $H = \langle h_0 \rangle $.)


    Let $G$ be a topological group and $H$ a normal subgroup of $G$. Consider the quotient $G/H$ with the quotient
topology, namely the finest topology on $G/H$ that makes the canonical projection $q : G \to G/H$ continuous.
Since we have a group topology on $G$, the quotient topology consists of all sets $q(U)$, where $U$ runs over the
family of all open sets of $G$ (as $q^{-1}(q(U)$) is open in $G$ in such a case). In particular, the canonical projection
$q$ is open.


The next theorem is due to Frobenius.


\textbf{Theorem 3.21.} If $G$ and $H$ are topological groups, $f : G \to H$ is a continuous surjective homomorphism and
$q : G \to G / \ker f$ is the canonical homomorphism, then the unique homomorphism $f_1 : G/ \ker f \to H$, such that
$f = f_1 \circ q$, is a continuous isomorphism. Moreover, $f_1$ is a topological isomorphism iff $f$ is open


    Proof. Follows immediately from the definitions of quotient topology and open map.

        Independently on its simplicity, this theorem is very important since it produces topological isomorphisms.
    Openness of the map $f$ is its main ingredient, so from now on we shall be interested in providing conditions
    that ensure openness (see also $\S$4.1).


\textbf{Lemma 3.22.} Let $X, Y$ be topological spaces and let $\varphi : X \to Y$ be a continuous open map. Then for every
subspace $P$ of $Y$ with $P \cap \varphi(X) \neq \emptyset$ the restriction $\psi : H_1 \to P$ of the map $\varphi$ to the subspace $H_1 = \varphi^{-1} (P)$ is
open.


\emph{Proof} To see that $\psi$ is open choose a point $x \in H_1$ and a neighborhood $U$ of $x$ in $H_1$. Then there exists a
neighborhood $W$ of $x$ in $X$ such that $U = H_1 \cap W$. To see that $\psi(U)$ is a neighborhood of $\psi(x)$ in $P$ it suffices to
note that if $\varphi(w) \in P$ for $w \in W$, then $w \in H_1$, hence $w \cap H_1 \cap W = U$. Therefore $\varphi(W) \cap P \subseteq \varphi(U) = \psi(U)$.


    We shall apply this lemma when $X = G$ and $Y = H$ are topological group and $\varphi = q : G \to H$ is a
continuous open homomorphism. Then the restriction $q^{-1} (P) \to P$ of $q$ is open for every subgroup $P$ of $H$.
Nevertheless, even in the particular case when $q$ is surjective, the restriction $H_1 \to \varphi(H_1)$ of $q$ to an arbitrary
closed subgroup $H_1$ of $G$ need not be open.

    
    In the next theorem we see some isomorphisms related the quotient groups.


\emph{Teoema 3.23.} Let $G$ be a topological group, let $N$ be a normal closed subgroup of $G$ and let $p : G \to G/N$ be
the canonical homomorphism.

    \begin{itemize}
        
        \item (a) If $H$ is a subgroup of $G$, then the homomorphism $i : HN/N \to p(H)$, defined by $i(xN) = p(x)$, is a
        topological isomorphism.
        
        \item (b) If $H$ is a closed normal subgroup of $G$ with $N \subseteq H$, then $p(H) = H/N$ is a closed normal subgroup of $G/N$
        and the map $j : G/H \to (G/N)/(H/N)$, defined by $j(xH) = (xN).(H/N)$, is a topological isomorphism.
    
    \end{itemize}


    (Both in (a) and (b) the quotient groups are equipped with the quotient topology.)


    \emph(Proof) (a) As $HN = p^{-1}(p(H))$ we can apply Lemma 3.22 and conclude that $p'$ is an open map. Now Theorem
    3.21 applies to the restriction $p' : HN \to p(H)$ of $p$


    (b) Since $H = HN$, item (a) implies that the induced topology of $p(H)$ coincides with the quotient topology
    of $H/N$. Hence we can identify $H/N$ with the topological subgroup $p(H) of G/N$. Since $H = HN$, the set
    $(G/N) / p(HN) = p(G / HN)$ is open, hence $p(H)$ is closed. Finally note that the composition $f : G \to (G/N)/(H/N)$
    of $p$ with the canonical homomorphism $G/N \to (G/N)/(H/N)$ is open, being the latter open.
    Applying to the open homomorphism $f$ with ker $f = H$ Theorem 3.21 we can conclude that $j$ is a topological
    isomorphism.
    

\textbf{Exercise 3.24.} Let $G$ be an alebian group equipped with its Bohr topology and let $H$ be a subgroup of $G$. Prove
that:


    \begin{itemize}

        \item $H$ is closed in $G$;
       
        \item the topological subgroup topology of $H$ coincides with its Bohr topology

        \item the quotient topology of $G/H$ coincides with the Bohr topology of $G/H$.
       
        \item $^* G$ has no convergent sequences [36, $\S$3.4].
    
    \end{itemize}


\textbf{Exercise 3.25.} Let $H$ be a discrete subgroup of a topological group $G$. Prove that:


    \begin{itemize}

        \item $H \cap \bar{\{1\}} = \{1\}$;
    
        \item $\bar{H}$ is isomorphic to the semi-direct product of $H$ and $\bar{\{1\}}$, carrying the product topology, where $H$ is discrete
        and $\{1\}$ is indiscrete.
    
    \end{itemize}

\subsection{Separation axioms}


    Lemma 3.18 easily implies that every topological group is regular, hence:

    
\textbf{Proposition 3.36} For a topological group $G$ the following are equivalent:

    
    \begin{itemize}

        \item $G$ is Hausdorff;
       
        \item $G$ is $T_0$.

        \item $G$ is $T_3$ (where $T_3$ stands for ”regular and $T_1$”)
       
        \item $\bar{\{1\}} = \{1\}$.
    
    \end{itemize}


    A topological group $G$ is monothetic if there exists $x \in G$ with $\langle x \rangle$ dense in $G$.


\textbf{Exercise 3.27.} Prove that:


    \begin{itemize}

        \item a Hausdorff monothetic group is necessarily abelian.
    
        \item $\mathbb{T}$ is monothetic.

    \end{itemize}


    Is $\mathbb{T}^2$ monothetic? What about $\mathbb{T}^N$?


    Now we relate proprieties of the quotient $G/H$ to those of the subgroup $H$ of $G$


    \textbf{Theorem 3.29.} Every Hausdorff topological group is a Tychonov space.

        \emph{Proof}  Let $F$ be a closed set with $1 \notin F$. Then we can find a chain (2) of open neighborhoods of 1 as in Lemma
        3.12 such that $F \cap U_0 = \emptyset$. Let $d$ be the pseudometric defined in Lemma 3.12 and let $f_F (x) = d(x, F)$ be
        the distance function from $F$. This function is continuous in the topology induced by the pseudometric. By
        the continuity of $d$ it will be continuous also with respect to the topology of $G$. It suffices to note now that
        $f_F (F) = 0$, while $f_F (1) = 1$. This proves that the space $G$ is Tychonov, as the pseudometric is left invariant,
        so the same argument provides separation of a generic point $a \in G$ from a closed set $F$ that does not contain
        $a$.


            Let $G$ be an abelian group and let H be a family of characters of G. Then the characters of H separate the
        points of $G$ iff for every $x \in G$, $x \neq 0$, there exists a character $\chi \in H$ with $\chi(x) \neq 1$.


    \textbf{Exercise 3.30} Let $G$ be an abelian group and let $H$ be a family of characters of $G$. Prove that the topology
    $T_H$ is Hausdorff iff the characters of $H$ separate the points of $G$.


    \textbf{Proposition 3.31.} Let $G$ be an infinite abelian group and let $H = Hom(G,S)$. Then the following holds true:
    (a) the characters of $H$ separate the points of $G$,
    (b) the Bohr topology $T_H$ is Hausdorff and non-discrete. 
    
    Proof.
    (a) This is Corollary 2.7.
    (b) According to Exercise 3.30 item (a) implies
    that the topology $T_H$ is Hausdorff. Suppose, for a contradiction, that $T_H$ is discrete. Then there exist $\chi_i \in H, i = 1, . . . , n$ and
    $\delta > 0$ such that $U(\chi_1, . . . , \chi_n; \delta) = \{0\}$. In particular, $H = \bigcap^n_{i=1}$ ker $\chi_i = \{0\}$. Hence the diagonal homomorphism
    $f = \chi_1 \times . . . \times  \chi_n : G \to  \mathbb{S}^n$ is injective and $f(G) \cong G$ is an infinite discrete subgroup of $\mathbb{S}^n$. According to
    Proposition 3.16 $f(G)$ is closed in $\mathbb{S}^n$ and consequently, compact. The compact discrete spaces are finite, a contradiction.


    Most often the topological groups in the sequel will be assumed to be Hausdorff.


    \textbf{Example 3.32} Contrary to what we proved in Theorem 3.29 Hausdorff topological groups need not be normal
    as topological spaces (see Exercise 3.37). A nice “uniform” counter-example to this was given by Trigos: for
    every uncountable group $G$ the topological group $G^{\#}$ is not normal as a topological space (countable groups are
    ruled out since every every countable Hausdorff topological group is normal, being a regular Lindel¨ff space).
    

    \textbf{Theorem 3.33} (Birkhoff-Kakutani) A topological group is metrizable iff it has a countable base of
    neighborhoods of 1.


            Proof. The necessity is obvious as every point $x$ in a metric space has a countable base of neighborhoods. Suppose
        now that $G$ has countable base of neighborhoods of 1. Then one can build a chain (2) of neighborhoods of 1 as
        in Lemma 3.12 that form a base of $\mathcal{V}(1)$, in particular, $\bigcap^{\infty}_{n=1} U_n = \{1\}$. Then the pseudometric produced by the
        lemma is a metric that induces the topology of the group $G$ because of the inclusions $U_n \subseteq B_{1/n} \subseteq U_{n-1}$.


    \textbf{Exercise 3.34} Prove that subgroups and quotients of metrizable topological groups are metrizable.
    

    \textbf{Exercise 3.35} Prove that every topological abelian group admits a continuous isomorphism into a product of
    metrizable abelian groups.
    

    \textbf{Exercise 3.36} [Hint. For $x \in G, x \neq 0$ choose an open neighborhood $U$ of $0$ with $x \in U$. Build a sequence $\{U_n\}$ of
    symmetric open neighborhoods of 0 with $U_0 \subseteq U$ and $U_n + U_n \subseteq U_{n-1}$. Then $H_U = \bigcap^{\infty}_{n=1} U_n$ is a closed
    subgroup of $G$. Let $\tau_U$ be the group topology on the quotient $G/H_U$ having as a local base at 0 the family
    $\{f_U (U_n)\}$, where $f_U : F \to G/H_U$ is the canonical homomorphism. Show that $(G/H, \tau_U)$ is metrizable. Now
    take the product of all groups $(G/H, \tau_U )$. To conclude observe that the diagonal map of the family $f_U$ into the
    product of all groups $(G/H, \tau_U )$ is continuous and injective. ]
    
    
    \textbf{Exercise 3.37} $^*$ The group $\mathbb{Z}^{\aleph_1}$ equipped with the Tychonov topology (where Z is discrete) is not a normal
    space [67].


        Furstenberg used the natural topology $\upsilon $ of $\mathbb{Z}$ (see Example 3.7) to find a new proof of the infinitude of prime
    numbers.


    \textbf{Exercise 3.38} Prove that there are infinitely many primes in $\mathbb{Z}$ using the natural topology $\upsilon$ of $\mathbb{Z}$.


        (Hint. If $p_1, p_2, . . . , p_n$ were the only primes, then consider the union of the open subgroups $p_1 \mathbb{Z}, . . . , p_n \mathbb{Z}$
    and use the fact that every integer $n \neq 0, \pm 1$ has a prime divisor, so belongs to $\bigcup^n_{i=1} p_i \mathbb{Z}$.)


    \subsection{Connectedness in topological groups}
    For a topological group G we denote by $c(G)$ the connected component of 1 and we call it briefly \emph{connected
    component of $G$}.
        Before proving some basic facts about the connected component, we need an elementary property of the
    connected sets in a topological groups.


    \textbf{Lemma 3.39} Let G be a topological group.
    \begin{itemize}

        \item (a) If $C_1, C_2, . . . , C_n$ are connected sets in $G$, then also $C_1 C_2 . . . C_n$ is connected.

        \item (b) If $C$ is a connected set in $G$, then the set $C^{-1}$ as well as the subgroup generated by $C$ are connected.
    
    \end{itemize}


        Proof. (a) Let us conisder the case n = 2, the general case easily follows from this one by induction. The
    subset $C_1 \times C_2$ of $G \times G$ is connected. Now the map $\mu : G \times G \to G$ defined $\mu(x, y) = xy$ is continuous and
    $µ(C_1 \times C_2) = C_1 C_2$.


    (a) For the first part it suffices to note that $C^{-1}$ is a continuous image of $C$ under the continuous map
    $x \mapsto x^{-1}$.


        To prove the second assertion consider the set $C_1 = CC^{-1}$. It is connected by the previous lemma and
    obviously $1 \in C_1$. Moreover, $C^2_1 \supseteq C \cup C^{-1}$. It remains to note now that the subgroup generated by $C_1$
    coincides with the subgroup generated by $C$. Since the former is the union of all sets $C^n_1, n \in \mathbb{N}$ and each set
    $C^n_1$ is connected by item (a), we are done.


    \textbf{Proposition 3.40}. The connected component $c(G)$ a topological group $G$ is a closed normal subgroup of $G$.
    The connected component of an element $x \in G$ is simply the coset $xc(G) = c(G)x$.
    
    
    Proof. To prove that $c(G)$ is stable under multiplication it suffices to note that $c(G)c(G)$ is still connected
    (applying item (a) of the above lemma) and contains 1, so must be contained in the connected component $c(G)$.
    Similarly, an application of item (b) implies that $c(G)$ is stable also w.r.t. the operation $x \mapsto x^{-1}$, so $c(G)$ is a
    subgroup of $G$. Moreover, for every $a \in G$ the image $ac(G)a^{-1}$ under the conjugation is connected and contains
    1, so must be contains in the connected component $c(G)$. So $c(G)$ is stable also under conjugation. Therefore
    $c(G)$ is a normal subgroup. The fact that $c(G)$ is closed is well known.
    
    
    To prove the last assertion it suffices to recall that the maps $y \mapsto xy$ and $y \mapsto yx$ are homeomorphisms.
    
    
    Our next aim is to see that the quotient $G/c(G)$ is totally disconnected. We need first to see that connectedness and total
    connectedness are properties stable under extension:


    \textbf{Proposition 3.41}. Let $G$ be a topological group and let $N$ be a closed normal subgroup of $G$.
    \begin{itemize}

        \item (a) If both N and G/N are connected, then also G is connected

        \item (b) If both N and G/N are totally disconnected, then also G is totally disconnected.
    
    \end{itemize}

        Proof. Let $q : G \to G/N$ be the canonical homomorphism.


    (a) Let $A \neq \emptyset$ be a clopen set of $G$. As every coset $aN$ is connected, one has either $aN \subseteq A$ or $aN \cap A = \emptyset$.
    Hence, $A = q^{-1} (q(A))$. This implies that $q(A)$ is a non-empty clopen set of the connected group $G/N$. Thus
    $q(A) = G/N$. Consequently $A = G$.


    (b) Assume $C$ is a connected set in $G$. Then $q(C)$ is a connected set of $G/N$, so by our hypothesis, $q(C)$
    is a singleton. This means that $C$ is contained in some coset $xN$. Since $xN$ is totally disconnected as well, we
    conclude that $C$ is a singleton. This proves that $G$ is totally disconnected.


    \textbf{Lemma 3.42}. If G is a topological group, then the group G/c(G) is totally disconnected.


        Proof. Let $q : G \to G/c(G)$ be the canonical homomorphism and let $H$ be the inverse image of $c(G/c(G))$ under
    $q$. Now apply Proposition 3.41 to the group $H$ and the quotient group $H/c(G) \cong c(G/c(G))$ to conclude that
    $H$ is connected. Since it contains $c(G)$, we have $H = c(G)$. Hence $G/c(G)$ is totally disconnected.
    
    
    For a topological group $G$ denote by $Q(G)$ the quasi-component of the neutral element 1 of $G$ (i.e., the
    intersection of all clopen sets of $G$ containing 1) and call it quasi-component of $G$.


    \textbf{Proposition 3.43}.  For a topological group $G$ the quasi-component $Q(G)$ is a closed normal subgroup of $G$. The
    quasi-component of $x \in G$ coincides with the coset $xQ(G) = Q(G)x$.
    

    Proof. Let $x, y \in Q(G)$. To prove that $xy \in Q(G)$ we need to verify that $xy \in O$ for every clopen set $O$
    containing 1. Let $O$ be such a set, then $x, y \in O$. Obviously $Oy^{-1}$ is a clopen set containing 1, hence $x \in Oy^{-1}$.
    This implies $xy \in O$. Hence $Q(G)$ is stable under multiplication. For every clopen set $O$ containing 1 the set
    $O^{-1}$ has the same propriety, hence $Q(G)$ is stable also w.r.t. the operation $a \mapsto a^{-1}$. This implies that $Q(G)$ is
    a subgroup. Moreover, for every $a \in G$ and for every clopen set $O$ containing 1 also its image $aOa^{-1}$ under the
    conjugation is a clopen set containing 1. So $Q(G)$ is stable also under conjugation. Therefore $Q(G)$ is a normal
    subgroup. Finally, as an intersection of closen sets, $Q(G)$ is closed.


    \textbf{Remark 3.45}. It follows from Lemma 2.14 that $c(G) = Q(G)$ for every compact topological group $G$. Actually,
    this remains true also in the case of locally compact groups $G$ (cf. 4.22).
    
    
    In the next remark we discuss zero-dimensionality.    
    
    
    \textbf{Remark 3.45}. (a) It follows immediately from Proposition 3.16 that every linear group topology is zerodimensional; in particular, totally disconnected.


    (b) Every countable Hausdorff topological group is zero-dimensional (this is true for topological spaces as
    well).


    We shall see in the sequel that for locally compact abelian groups or compact groups the implication from item


    (a) can be inverted (see Theorem 4.18). On the other hand, the next example shows that local connectedness
    is essential.


    \textbf{Example 3.46}. The group $\mathbb{Q}/\mathbb{Z}$ is zero-dimensional but has no proper open subgroups.


    \subsection{Group topologies determined by sequences}


    Let $G$ be an abelian group and let $(a_n)$ be a sequence in $G$. The question of the existence of a Hausdorff group
    topology that makes the sequence $(a_n)$ converge to 0 is not only a mere curiosity. Indeed, assume that some
    Hausdorff group topology $\tau$ makes the sequence $(p_n)$ of all primes converge to zero. Then $p_n \to 0$ would yield
    $p_{n} - p_{n+1} \to 0$ in $\tau$ , so this sequence cannot contain infinitely many entries equal to 2. This would provide a
    very easy negative solution to the celebrated problem of the infinitude of twin primes (actually this argument
    would show that the shortest distance between two consecutive primes converges to $\infty$).


    \textbf{Definition 3.47}. [89] A sequence $A = {a_n}_n$ in an abelian group $G$ is called a $T$-sequence is there exists a
    Hausdorff group topology on $G$ such that $a_n \to 0.$ \footnote[2]{We shall see below that the sequence $(p_n)$ of all primes is not a $T$-sequence in the group $\mathbb{Z}$ (see Exercise 4.32). So the above
    mentioned possibility to resolve the problem of the infinitude of twin primes does not work.}


    Let $(a_n)$ be a $T$-sequence in an abelian group $G$. Hence the family ${\tau_i : i \in I}$ of Hausdorff group topologies
    on the group $G$ such that $a_n \to 0$ in $\tau_i$ is non-empty. Let $\tau = \sup_{i \in I} \tau_i$, then by Exercise 3.5 $a_n \to 0$ in $\tau$ as
    well. Clearly, this is the finest group topology in which $a_n$ converges to 0. This is why we denote it by $\tau_A$ or
    $\tau_{(a_n)}$.\footnote[3]{To simplify things we consider only sequences without repetition, hence the convergence to zero $a_n \to 0$ depends only on the
    set $A = {a_n}_n$, it does not depend on the enumeration of the sequence.}
    
    
        Before discussing the topology $\tau_{(a_n)}$ and how $T$-sequences can be described in general we consider a couple
    of examples:
    

    \textbf{Example 3.48}. (a) Let us see that the sequences $(n^2)$ and $(n^3)$ are not a $T$-sequence in $\mathbb{Z}$. Indeed, suppose
    for a contradiction that some Hausdorff group topology $\tau$ on $\mathbb{Z}$ makes $n^2$ converge to 0. Then $(n + 1)^2$
    converges to 0 as well. Taking the difference we conclude that $2n+1$ converges to 0 as well. Since obviously
    also $2n + 3$ converges to 0, we conclude, after substraction, that the constant sequence 2 converges to 0.
    This is a contradiction, since $\tau$ is Hausdroff. We leave the case $(n^3)$ as an exercise to the reader.
    
    
    (b) A similar argument proves that the sequence $P_d (n)$, where $P_d (x) \in \mathbb{Z}[x]$ is a fixed polynomial with
    $\deg P_d = d > 0$, is not a $T$-sequence in $\mathbb{Z}$.
    
    
    Protasov and Zelenyuk [88] established a number of nice properties of the finest group topology $\tau_{(a_n)}$ on $G$
    that makes $(a_n)$ converge to 0.


    For an abelian group $G$ and subsets $A_1, . . . , A_n . . .$ of $G$ we denote by $\pm A1 \pm . . . \pm A_n$ the set of all sums
    $g = g1 + . . . + gn$, where $g_i \in {0} \cup A_i \cup -A_i$ for every $i = 1, . . . , n$. Let
    
    
        $\pm A1 \pm . . . \pm A_n \pm . . . = \bigcup^{\infty}_{n=1} \pm A_1 \pm . . . \pm A_n$.
    
    
        If $A = \{a_n\}_n$ is a sequence in $G$, for $m \in \mathbb{N}$ denote by $A_m$ the “tail” ${a_{m}, a_{m+1}, . . .}$. For $k \in \mathbb{N}$ let
    $A(k, m) = \pm A_m \pm . . . \pm A_m$ (k times).
    

    \textbf{Remark 3.49}. The existence of a finest group topology $\tau_A$ on an abelian group $G$ that makes an arbitrary
    given sequence $A = {a_n}_n$ in $G$ converge to 0 is easy to prove as far as we are not interested on imposing the
    Hausdorff axiom. Indeed, as $a_n$ converges to 0 in the indiscrete topology, $\tau_A$ is simply the supremum of all
    group topologies $\tau$ on $G$ such that $a_n$ converges to 0 in $\tau$. This gives no idea on how this topology looks like.
    
    
    One can easily describe it as follows.
    
    
    Let $m_1, . . . , m_n, . . .$ be a sequence of natural numbers. Denote by $A(m_1, . . . , m_n, . . .)$ the set
    
    
    $\pm A_{m_1} ± . . . ± A_{m_n} \pm . . .$
    
    
    and by $\mathcal{B}_A$ the family of all sets $A(m_1, . . . , m_n, . . .)$ when $m_1, . . . , m_n, . . .$ vary in $\mathbb{N}^\mathbb{N}$. Then $\mathcal{B}_A$ is a filter
    base, satisfying the axioms of group topology. The group topology $\tau$ defined in this way satisfies the required
    conditions. Indeed, obviously $a_n \to 0$ in $(G, \tau)$ and $\tau$ contains any other group topology with this property.  
    Consequently, $\tau = \tau_A$.

    
    Note that


    $A(k, m) \subseteq A(m_1, . . . , m_n, . . .),$ (1)
    
    
    for every $k \in N$, where $m = \max \{m_1, . . . , m_k\}$. The sets $A(k, m)$, for $k, m \in \mathbb{N}$, form a filter base, but the
    filter they generate need not be the filter of neighborhoods of 0 in a group topology. The utility of this family
    becomes clear now.


    \textbf{Theorem 3.50}. A sequence $A = \{a_n\}_n$ in an abelian group $G$ is a $T$-sequence if


    $\bigcap^{\infty}_{m=1} A(k, m) = 0$ for every $k \in \mathbb{N}$. (2)


        Proof. Obviously the sequence $A = \{a_n\}_n$ is a $T$-sequence iff the topology $\tau_A$ is Hausdorff. Clearly, $\tau_A$ is
    Hausdorff iff $T^{\infty}_{m_1,...,m_n,...} A(m_1, . . . , m_n, . . .) = 0$. If $\tau_A$ is Hausdorff, then (2) holds by (1). It remains to see that
    (2) implies $T^{\infty}_{m_1,...,m_n,...} A(m_1, . . . , m_n, . . .) = 0$. First of all note that $A(m_1, . . . , m_n, . . .) \supseteq A(m^*_1, . . . , m^*_n, . . .)$,
    where $m^*_n = \max{m_1, . . . , m_n}$. Moreover, the sequence $(m^*_n)$ is increasing. Hence


    $\bigcap^{\infty}_{m_1,...,m_n,...}A(m_1, . . . , m_n, . . .) = \bigcap^{\infty}_{m^*_1,...,m^*_n,...}A(m^*_1, . . . , m^*_n, . . .)$,


        Since every infinite abelian group $G$ admits a non-discrete metrizable group topology, there exist non-trivial
    (i.e., having all members non-zero) $T$-sequences.


        A notion similar to $T$-sequence, but defined with respect to only topologies induced by characters, will be
    given in $\S$6.2. From many points of view it turns out to be easier to deal with than $T$-sequence. In particular,
    we shall see easy sufficient condition for a sequence of integers to be a $T$-sequence.

    
        We give without proof the following technical lemma that will be useful in $\S$6.2.


    \textbf{Lemma 3.51}. [89] For every $T$-sequence $A = \{a_n\}$ in $\mathbb{Z}$ there exists a sequence $\{b_n\}$ in $\mathbb{Z}$ such that for every
    choice of the sequence $(e_n)$, where $e_n \in \{0, 1\}$, the sequence $q_n$ defined by $q_{2n} = b_n + e_n$ and $q_{2n-1} = an$, is a
    $T$-sequence.


    \textbf{Exercise 3.52}. \begin{itemize}

        \item (a)* Prove that there exists a $T$-sequence $(a_n)$ in $\mathbb{Z}$ with $\lim_n \frac{a_{n+1}}{a_n} = 1$ [89] (see also Example
        6.12).

        \item (b)* Every sequence $(a_n)$ in $\mathbb{Z}$ with $\lim_n \frac{a_{n+1}}{a_n} = +\infty$ is a $T$-sequence [89, 7] (see Theorem 6.11)

        \item (c)* Every sequence (an) in Z such that $\lim_n \frac{a_{n+1}}{a_n} \in \mathbb{R}$ is transcendental is a $T$-sequence [89].

    \end{itemize}


    \subsection{Markov's problems}


    \subsubsection{The Zariski topology and the Markov topology}


        Let $G$ be a Hausdorff topological group, $a \in G$ and $n \in \mathbb{N}$. Then the set ${x \in G : x^n = a}$ is obviously closed
    in $G$. This simple fact motivated the following notions due to to Markov [76].
    
    
        A subset $S$ of a group $G$ is called:

    
        \begin{itemize}

            \item (a) elementary algebraic if there exist an integer $n > 0, a_1, . . . , a_n \in G$ and $\epsilon_1, . . . , \epsilon_n \in \{-1, 1\}$ such that


                $S = {x \in G : x^{\epsilon_1} a_1 x^{\epsilon_2} a2 . . . a_{n-1} x^{\epsilon_n} = a_n},$


            \item (b) algebraic if $S$ is an intersection of finite unions of elementary algebraic subsets,

            \item (c) unconditionally closed if $S$ is closed in \emph{every} Hausdorff group topology of $G$.

        \end{itemize}

        Since the family of all finite unions of elementary algebraic subsets is closed under finite unions and contains
    all finite sets, it is a base of closed sets of some $T_1$ topology $\mathfrak{Z}_G$ on $G$, called
    the \emph{Zariski topology}\footnote[4]{4Some authors call it also the verbal topology [20], we prefer here Zariski topology coined by most authors [10].}.
    Clearly, the ZG-clsoed sets are precisely the algebraic sets in G.
    
    
        Analogously, the family of all unconditionally closed subsets of $G$ coincides with the family of closed subsets
    of a $T_1$ topology $\mathfrak{M}_G$ on $G$, namely the infimum (taken in the lattice of all topologies on $G$) of all Hausdorff group
    topologies on $G$. We call $\mathfrak{M}_G$ the Markov topology of $G$. Note that $(G, \mathfrak{Z}_G)$ and $(G,\mathfrak{M}_G)$ are quasi-topological
    groups, i.e., the inversion and translations are continuous. Nevertheless, when $G$ is abelian $(G, \mathfrak{Z}_G)$ and $(G,\mathfrak{M}_G)$
    are not group topologies unless they are discrete.
    
    
        Since an elementary algebraic set of $G$ must be closed in every Hausdorff group topology on $G$, one always
    has $\mathfrak{Z}_G \subseteq \mathfrak{M}_G$. In 1944 Markov [76] asked if the equality $\mathfrak{Z}_G = \mathfrak{M}_G$ holds for every group $G$. He himself showed
    that the answer is positive in case $G$ is countable [76]. Moreover, in the same manuscript Markov attributes to
    Perel'man the fact that $\mathfrak{Z}_G = \mathfrak{M}_G$ for every Abelian group $G$ (a proof has never appeared in print until [37]).
    An example of a group $G$ with $\mathfrak{Z}_G \neq \mathfrak{M}_G$ was given by Gerchard Hesse [66].


    \subsubsection{The Markov topology of the symmetric group}


        Let $X$ be an infinite set. In the sequel we denote by $\tau_X$ the pointwise convergence topology of the infinite
    symmetric group $S(X)$ defined in $\S$3.2.4. It turns out that the Markov topology of $S(X)$ coincides with $\tau_X$:
    
    
    \textbf{Theorem 3.54} Then Markov topology on $S(X)$ coincides with the topology $\tau_X$ of pointwise convergence of
    $S(X)$.


        This theorem follows immediately from the following old result due to Gaughan.

    
    \textbf{Theorem 3.55}. ([36]) Every Hausdorff group topology of the infinite permutation group $S(X)$ contains the
    topology $\tau_X$.
    
    
        The proof of this theorem follows more or less the line of the proof exposed in [36, $\S$7.1] with several
    simplifications. The final stage of the proof is preceded by a number of claims (and their corollaries) and two
    facts about \emph{purely algebraic} properties of the group $S(X)$ (3.56 and 3.59). The claims and their corollaries are
    given with complete proofs. To give an idea about the proofs of the two algebraic facts, we prove the first one;
    the proof of the second one can be found in [36, Lemmas 7.1.4, 7.1.8] (actually, only a fragment of the proof of
    [36, Lemmas 7.1.8] is needed for the proof of item (b) of Fact 3.59).
    
    
        We say for a subset $A$ of $S(X)$ that $A$ is \emph{m}-transitive for some positive integer $m$ if for every $Y \subseteq X$ of
    size at most $m$ and every injection $f : Y \to X$ there exists $a \in A$ that extends $f$.
    \footnote[5]{Note that a countable subset $H$ of $S(X)$ cannot be transitive unless $X$ itself is countable.}
    The leading idea is that a transitive subset $A$ of $S(X)$ is placed “generically” in $S(X)$, whereas a non-tranisitve one is a subset of some
    subgroup of $S(X)$ that is a direct product $S(Y ) \times S(X / Y )$. (Here and in the sequel, for a subset $Y$ of $X$
    we tacitly identify the group $S(Y)$ with the subgroup of $S(X)$ consisting of all permutations of $S(X)$ that are
    identical on $X / Y$ .)
    
    
        The first fact concerns the stabilizers $S_x = S_\{x\} = {f \in S(X) : f(x) = x}$ of points $x \in X$. They consitute
    a prebase of the filter of neighborhoods of $id_X$ in $\tau_X$.


    \textbf{Fact 3.56}. For every $x \in X$ the subgroup $S_x of S(X)$ is maximal
        Proof. Assume $H$ is a subgroup of $S(X)$ properly containing $S_x$. To show that $H = S(X)$ take any $f \in S(X)$.
    If $y = f(x)$ coincides with $x$, then $f \in S_x \subseteq H$ and we are done. Assume $y \neq x$. Get $h \in H w/ S_x$. Then
    $z = h(x) \neq x$, so $x \notin \{z, y\}$. There exists $g \in S(X)$ such that $g(x) = x, g(y) = z$ and $g(z) = y$. Then
    $g \in S_x \subseteq H$ and $f(x) = g(h(x)) = y$, so $h^{-1} g^{-1}f(x) = x$ and $h^{-1} g^{-1}f \in S_x \cap G \subseteq H$. So $f \in ghH = H$.


    \textbf{Claim 3.57}. Let $T$ be a Hausdorff group topology on $S(X)$. If a subgroups of $S(X)$ of the form $S_x$ is T-closed,
    then it is also T-open.


        Proof. As $S_x$ is T-closed, for every fixed $y \neq x$ the set $V_y = {f \in S(X) : f(x) \neq y}$ is T-open and contains 1.
    So there exists a symmetric neighborhood $W$ of 1 in $T$ such that $W.W \subseteq V_y$. By the definition of $V_y$ this gives
    $W x \times \cap W y = \emptyset$. Then either $|X / Wx| = |X|$ or $|X / W y| = |X|$. Suppose this occurs with $x$, i.e., $|X / W x| = |X|$.


        Then one can find a permutation $f \in S(X)$ that sends $W x / \{x\}$ to the complement of $W x$ and $f(x) = x$. Such
    an $f$ satisfies:


        $fW f^{-1} \cap W \subseteq S_x$


        as $fW f^{-1}(x)$ meets $W x$ precisely in the singleton $\{x\}$ by the choice of $f$. This proves that $S_x$ is $T$-open.
    Analogous argument works for $S_y$ when $|X/W y| = |X|$.


    \textbf{Corollary 3.58} If $T$ be a Hausdorff group topology on $S(X)$ that does not contain $\tau_X$, then all subgroups of
    $S(X)$ of the form $S_x$ are T-dense.


        \emph{Proof.} Since the subgroups $S_x$ of $S(X)$ form a prebase of the filter of neighborhoods of $id_X$ in $S(X)$, out
    hypothesis implies that some subgroup $S_x$ is not $T$-open. By Claim 3.57 $S_x$ is not $T$-closed either. By Fact
    3.56 $S_x$ is $T$-dense. Since all subgroups of the form $S_y$ are conjugated, this implies that stabilizers $S_y$ are
    $T$-dense.


        This was the first step in the proof. The next step will be establishing that $S_{x,y}$ are never dense in any
    Hausdorff group topology on $S(X)$ (Corollary 3.62).


        In the sequel we need the subgroup $\tilde{S}_{x,y} := S_{x,y} \times S(\{x, y\})$ of $S(X)$ that contains $S_{x,y}$ as a subgroup of
    index 2. Note that $\tilde{S}_{x,y}$ is precisely the subgroup of all permutations in $S(X)$ that leave the doubleton $\{x, y\}$
    set-wise invariant.


    \textbf{Fact 3.59} For any doubleton $x, y$ in $X$ the following holds true:


    \begin{itemize}

        \item (a) the subgroup $\tilde{S}_{x,y}$ of $S(X)$ is maximal;

        \item (b) every proper subgroup of $S(X)$ properly containing $S_{x,y}$ coincides with one of the subgroups $S_x$, $S_y$ or $\tilde{S}_{x,y}$.

    \end{itemize}


    \textbf{Claim 3.60} Let $T$ be a Hausdroff group topology on $S(X)$, then there exists a $T$-nbd of 1 that is not 2-transitive.


        \emph{Proof.} Assume for a contradiction that all $T$-neighborhoods of $id_X$ that are 2-transitive. Fix distinct
    $u, v, w \in X$. We show now that the 3-cycle $(u, v, w) \in V$ for every arbitrarily fixed $T$-neighborhood of $id_X$. Indeed,
    choose a symmetric $T$-neighborhood $W$ of $id_X$ such that $W^2 \subseteq V$ . Let $f$ be the transposition $(uv)$. Then
    $U = fW f \cap W \in T$ is a neighborhood of 1 and $fUf = U$. Since $U$ is 2-transitive there exists $g \in U$ such that
    $g(u) = u$ and $g(v) = w$. Then $(u, v, w) = gfg^{-1}f \in W · (fUf) \subseteq W^2 \subseteq V$.


    \textbf{Claim 3.61} Let $T$ be a group topology on $S(X)$. Then


    \begin{itemize}

        \item (a)  every $T$-nbd $V$ of $id_X$ in $S(X)$ is transitive iff every stabilizer $S_x$ is $T$-dense;
        
        \item (b)  every $T$-nbd $V$ of $id_X$ in $S(X)$ is $m$-transitive iff every stabilizer $S_F$ with $|F| \leq m$ is $T$-dense.
    
    \end{itemize}


    \emph{Proof} Assume that some (hence all) $S_z$ is $T$-dense in $S(X)$. To prove that $V$ is transitive consider a pair
    $x, y \in X$. Let $t = (xy)$. By the $T$-density of $S_x$ the $T$-nbd $t^{-1}V$ of $t^{-1}$ meets $S_x$, i.e., for some $v \in V$ one has
    $t^{-1}v \in S_x$. Then $v \in tS_x$ obviously satisfies $vx = y$.
    

        A similar argument proves that transitivity of each $T$-nbd of 1 entails that every stabilizer $S_x$ is $T$-dense.
    (b) The proof in the case $m > 1$ is similar.
    
    
        What we really need further on (in particular, in the next corollary) is that the density of the stabilizers
    $S_{x,y$} imply that every $T$-nbd $V$ of $id_X$ in $S(X)$ is 2-transitive.


    \textbf{Corollary 3.62} Let $T$ be a Hausdroff group topology on $S(X)$. Then $S_{x,y}$ is $T$-dense for no pair $x, y$ in $X$.
    
    
    \emph{Proof.} Follows from claims 3.60 and 3.61


    \textbf{Proof of Theorem 3.55}. Assume for a contradiction that $T$ is a Hausdroff group topology on $S(X)$ that does
    not contain $\tau_X$. Then by corollaries 3.58 and 3.62 all subgroups of the form $S_x$ are $T$-dense and no subgroup
    of the form $S_{x,y}$ is $T$-dense. Now fix a pair $x, y \in X$ and let $G_{x,y}$ denote the $T$-closure of $S_{x,y}$. Then $G_{x,y}$ is a
    proper subgroup of $S(X)$ containing $S_{x,y}$. Since $S_x$ is dense, $G_{x,y}$ cannot contain $S_x$, so $S_x \cap G_{x,y}$ is a proper
    subgroup of $S_x$ containing $S_{x,y}$. By Claim 3.56 applied to $S_x = S(X / \{x\})$ and its subgroup $S_{x,y}$ (the stabilizer
    of $y$ in $S_x$), we conclude that $S_{x,y}$ is a maximal subgroup of $S_x$. Therefore, $S_x \cap G_{x,y} = S_{x,y}$. This shows that
    $S_{x,y}$ is a $T$-closed subgroup of $S_x$. By Claim 3.57 applied to $S_x = S(X / \{x\})$ and its subgroup $S_{x,y}$, we conclude
    that $S_{x,y}$ is a $T$-open subgroup of $S_x$. Since $S_x$ is dense in $S(X)$, we can claim that $G_{x,y}$ is a $T$-open subgroup
    of $S(X)$. Since $S_x$ is a proper dense subgroup of $S(X)$, it is clear that $S_x$ cannot contain $G_{x,y}$. Analogously, $S_y$
    cannot contain $G_{x,y}$ either. So $G_{x,y} \neq S_{x,y}$ is a proper subgroup of $S(X)$ containing $S_{x,y}$ that does not coincide
    with $S_x$ or $S_y$. Therefore $G_{x,y} = \tilde{S}_{x,y}$ by Fact 3.59. This proves that $\tilde{S}_{x,y}$ is $T$-open. Since all subgroups of the
    form $\tilde{S}_{x,y}$ are pairwise conjugated, we can claim that all subgroups $\tilde{S}_{x,y}$ is $T$-open.


        Now we can see that the stabilizers $S_F$ with $|F| > 2$ are $T$-open, as


        $S_F = \bigcap \{\tilde{S}_{x,y} : x, y \in F, x \neq y\}$.


        This proves that all basic neighborhoods $S_F$ of 1 in $\tau_X$ are $T$-open. In particular, also the subgroups $S_x$ are
    $T$-open, contrary to our hypothesis.


    \subsubsection{Existence of Hausdorff group topologies}


        According to Proposition 3.31 every infinite abelian group admits a non-discrete Hausdorff group topology, for
    example the Bohr topology. This gives immediately the following


    \textbf{Corollary} Every group with infinite center admits a non-discrete Hausdorff group topology


    \emph{Proof} The center $Z(G)$ of the group $G$ has a non-discrete Hausdorff group topology $\tau$ by the above remark.
    Now consider the family $\mathcal{B}$ of all sets of the form $aU$, where $a \in G$ and $U$ is a non-empty $\tau$-subset of $Z(G)$. It
    is easy to see that it is a base of a non-discrete Hausdorff group topology on $G$.


        In 1946 Markov set the problem of the existence of a (countably) infinite group $G$ that admits no Hausdorff
    group topology beyond the discrete one. Let us call such a group a \emph{Markov group}. Obviously, $G$ is a Markov
    group precisely when $\mathfrak{M}_G$ is discrete. A Markov group must have finite center by Corollary 3.63.
    

        According to Proposition 3.26, the closure of the neutral element of every topological group is always a
    normal subgroup of $G$. Therefore, a simple topological group is either Hausdorff, or indiscrete. So a simple
    Markov group $G$ admits only two group topologies, the discrete and the indiscrete ones.


        The equality $\mathfrak{Z}_G = \mathfrak{M}_G$ established by Markov in the countable case was intended to help in finding a
    countably infinite Markov group $G$. Indeed, a countable group $G$ is Markov precisely when $\mathfrak{Z}_G$ is discrete.
    Nevertheless, Markov failed in building a countable group $G$ with discrete Zariski topology; this was done much
    later, in 1980, by Ol0shanskii [78] who made use of the so called \emph{Adian groups} $A = A(m, n)$ (constructed by
    Adian to negatively resolve the famous 1902 Burnside problem on finitely generated groups of finite exponent).
    Let us sketch here Ol0shanskii's elegant short proof.


    \textbf{Example 3.64} [78] Let $m$ and $n$ be odd integers $\geq 665$, and let $A = A(m, n)$ be Adian’s group having the
    following properties


    \begin{itemize}

        \item (a) $A$ is generated by $n$-elements;

        \item (b) $A$ is torsion-free;

        \item (c) the center $C$ of $A$ is infinite cyclic

        \item (d) the quotient $A/C$ is infinite, of exponent $m$, i.e., $y^m \in C$ for every $y \in A$.\footnote[6]{i.e., the finitely generated infinite quotient A/C negatively resolves Burnside's problem.}
    
    \end{itemize}


        By (a) the group $A$ is countable. Denote by $C^m$ the subgroup ${c^m : c \in C}$ of $A$. Let us see that (b), (c) and
    (d) jointly imply that the Zariski topology of the infinite quotient $G = A/C^m$ is discrete (so $G$ is a countably
    infinite Markov group). Let $d$ be a generator of $C$. Then for every $x \in A/C$ one has $x^m \in C/C^m$. Indeed, if
    $x^m = d^{ms}$, then $(xd^{-s})^m = 1$ for some $s \in \mathbb{Z}$, so $xd^{-s} = 1$ and $x \in C$ by (b). Hence


    for every $u \in G / \{1\}$ there exists $a \in C/C^m$, such that either $u = a$ or $u^m = a$. (3)


        As $|C/C^m| = m$, every $u \in G/{1}$ is a solution of some of the $2(m - 1)$ equations in (3). Thus, $G/\{e\}$ is closed
    in the Zariski topology $\mathfrak{Z}_G$ of $G$. Therefore, $\mathfrak{Z}_G$ is discrete.


        Now we recall an example, due to Shelah [92], of an uncountable group which is non-topologizable. It
    appeared about a year or two earlier than the ZFC-example of Ol'shanskii exposed above.


    \textbf{Example 3.65}. [92] Under the assumption of \textbf{CH} there exists a group $G$ of size $\omega_1$ satisfying the following
    conditions (a) (with $m = 10000$) and (b) (with $n = 2$):
    

    \begin{itemize}

        \item (a) there exists $m \in N$ such that $A^m = G$ for every subset $A$ of $G$ with $|A| = |G|$;

        \item (b) for every subgroup $H$ of $G$ with $|H| < |G|$ there exist $n \in \mathbb{N}$ and $x_1, . . . , x_n \in G$ such that the intersection
        $\bigcup^n_{i=1} x^{-1}_i Hx_i$ is finite.

    \end{itemize}


    Let us see that $G$ is a Markov group (i.e., $\mathfrakM_G$ is discrete)\footnote[7]{Hesse [66] showed that the use of CH in Shelah's construction of a Markov group of size $\omega_1$ can be avoided.}. Assume $\mathcal{T}$ be a Hausdorff group topology on $G$. There
exists a $\mathcal{T}$-neighbourhood $V$ of $e_G$ with $V \neq G$. Choose a $\mathcal{T}$-neighbourhood $W$ of $e_G$ with $W^m \subseteq V$. Now $V \neq G$
and (a) yield $|W| < |G|$. Let $H = \langle W \rangle$. Then $|H| = |W| · \omega < |G|$. By (b) the intersection $O = \bigcap^n_{i=1} x^{-1}_i Hx_i$ is
finite for some $n \in N$ and elements $x_1, . . . , x_n \in G$. Since each $x^{-1}_i Hx_i$ is a $\mathcal{T}$-neighbourhood of $e_G$, this proves
that $e_G \in O \in \mathcal{T}$ . Since $T$ is Hausdorff, it follows that $\{e_G\}$ is $\mathccal(T)$-open, and therefore $\mathccal(T)$ is discrete.


    One can see that even the weaker form of (a) (with $m$ depending on $A \in [G]^{|G|}$), yields that every proper
subgroup of $G$ has size $< |G|$. In the case $|G| = \omega_1$, the groups with this property are known as Kurosh groups (in
particular, this is a \emph{Jonsson semigroup} of size $\omega_1$, i.e., an uncountable semigroup whose proper subsemigroups
are countable).


    Finally, this remarkable construction from [92] furnished also the first consistent example to a third open
problem. Namely, a closer look at the above argument shows that the group $G$ is simple. As $G$ has no maximal
subgroups, it shows also that taking Frattini subgroup\footnote[8]{the Frattini subgroup of a group $G$ is the intersection of all maximal subgroups of $G$.} “does not commute” with taking finite direct products
(indeed, $Fratt(G) = G$, while $Fratt(G \times G) = \Delta_G$ the “diagonal” subgroup of $G \times G$).


\subsubsection{Extension of group topologies}
    The problem of the existence of (Hausdorff non-discrete) group topologies can be considered also as a problem
of extension of (Hausdorff non-discrete) group topologies.


    The theory of extension of topological spaces is well understood. If a subset $Y$ of a set $X$ carries a topology
$\tau$, then it is easy to extend $\tau$ to a topology $\tau^*$ on $X$ such that $(Y, \tau)$ is a subspace of $(X, τ^*)$. The easiest way
to do it is to consider $X = Y \cup (X / Y )$ as a partition of the new space $(X, \tau^*)$ into clopen sets and define
the topology of $X / Y$ arbitrarily. Usually, one prefers to define the extension topology $\tau^*$ on $X$ in such a way
to have $Y$ dense in $X$. In such a case the extensions of a given space $(Y, \tau)$ can be described by means of
appropriate families of open filters of $Y$ (i.e., filters on $Y$ having a base of $\tau$-open sets).


    The counterpart of this problem for groups and group topologies is much more complicated because of the
presence of group structure. Indeed, let $H$ be a subgroup of a group $G$ and assume that $\tau$ is a group topology
of $H$. Now one has to build a group topology $\tau^*$ on $G$ such that $(H, \tau)$ is a topological subgroup of $(G, τ^*)$.
The first idea to extend $\tau$ is to imitate the first case of extension considered above by declaring the subgroup $H$
a $τ^*$-open topological subgroup of the new topological group $(G, τ^*)$. Let us note that this would immediately
determine the topology $τ^*$ in a unique way. Indeed, every coset $gH$ of $H$ must carry the topology transported
from $H$ to $gH$ by the translation $x \mapsto gx$, i.e., the $\tau^*$-open subsets of $gH$ must have the form $gU$, where $U$ is
an open subset of $(H, \tau )$. In other words, the family $\{gU : \emptyset \neq U \in \tau\}$ is a base of $τ^*$. This idea has worked in
the proof of Corollary 3.63 where $H$ was the center of $G$. Indeed, this idea works in the following more general
case.


\textbf{Lemma 3.66} Let $H$ be a subgroup of a group $G$ such that $G = Hc_G (G)$. Then for every group topology $\tau$ on
$H$ the above described topology $\tau^*$ is a group topology of $G$ such that $(H, \tau)$ is a topological subgroup of $(G, \tau^*)$.


    Proof. The first two axioms on the neighborhood base are easy to check. For the third one pick a basic $τ^*$-
neighborhood $U$ of 1 in $G$. Since $H$ is $\tau^*$-open, we can assume wlog that $U \subseteq H$, so $U$ is a τ -neighborhood of
1. Let $x \in G$. We have to produce a $τ^*$-neighborhood $V$ of 1 in $G$ such that $x^{-1} V x \subseteq U$. By our hypothesis
there exist $h \in H$, $z \in c_G (G)$, such that $x = hz$. Since $\tau$ is a group topology on $H$ there exist $V \in V_{H,\tau}$ (1) such
that $h^{-1} Vh \subseteq U$. Then


    $x^{-1} Vx = z^{-1} h^{-1} Vhz \subseteq z^{-1} Uz = U$


as $z \in c_G (G)$. This proves that $\tau^*$ is a group topology of $G$.


Clearly, the condition $G = Hc_G (G)$ is satisfied when $H$ is a central subgroup of $G$. It is satisfied also when
$H$ is a direct summand of $G$. On the other hand, subgroups $H$ satisfying $G = Hc_G (G)$ are normal.


    Two questions are in order here:


    \begin{itemize}

        \item is the condition $G = Hc_G (G)$ really necessary for the extension problems;

        \item is it possible to definite the extension $τ^*$ in a different way in order to have \emph{always} the possibility to
        extend a group topology?

    \end{itemize}


    Our next theorem shows that the difficulty of the extension problem are not hidden in the special features
of the extension $\tau^*$.


\textbf{Theorem 3.67}. Let $H$ be a normal subgroup of the group $G$ and let $\tau$ be a group topology on $H$. Then the
following are equivalent:


    \begin{itemize}

        \item (a) the extension $τ^*$ is a group topology on $G$;

        \item (b) $\tau$ can be extended to a group topology of $G$;

        \item (c) for every $x \in G$ the automorphism of $H$ induced by the conjugation by $x$ is $\tau$-continuous.

    \end{itemize}


\emph{Proof} The implication $(a) \to (b)$ is obvious, while the implication $(b) \to (c)$ follows from the fact that the
conjugations are continuous in any topological group. To prove the implication $(c) \to (a)$ assume now that
all automorphisms of $N$ induced by the conjugation by elements of $G$ are $\tau$-continuous. Take the filter of all
neighborhoods of 1 in $(H, τ^*)$ as a base of neighborhoods of 1 in the group topology $τ^*$ of $G$. This works since
the only axiom to check is to find for every $x \in G$ and every $\tau$-nbd $U$ of 1 a $τ^*$-neighborhood $V$ of 1 such that
$V^x:= x^{-1} V x \subseteq U$. Since we can choose $U, V$ contained in $H$, this immediately follows from our assumption of
$\tau$-continuity of the restrictions to $H$ of the conjugations in $G$.


    Now we give an example showing that the extension problem cannot be resolved for certain triples $G, H, \tau$
of a group $G$, its subgroup $H$ and a group topology $\tau$ on $H$.


\textbf{Example 3.68}. In order to produce an example when the extension is not possible we need to produce a triple
$G, H, \tau$ such that at least some conjugation by an element of $G$ is not $\tau$-continuous when considered as an
automorphism of $H$. The best tool to face this issue is the use of semi-direct products.


    Let us recall that for groups $K, H$ and a group homomorphism $\theta : K \to Aut(H)$ one defines the semi-direct
product $G = H \rtimes_\theta K$, where we shall identify $H$ with the subgroup $H \times \{1\}$ of $G$. In such a case, the conjugation  
in $G$ by an element $k$ of $K$ restricted to $H$ is precisely the automorphism $\theta(k)$ of $H$. Now consider a group
topology $\tau$ on $H$. According to Theorem 3.67 $\tau$ can be extended to a group topology of $G$ iff for every $k \in K$
the automorphism $\theta(k)$ of $H$ is $\tau$-continuous. (Indeed, every element $x \in G$ has the form $x = hk$, where $h \in H$
and $k \in K$; hence it remains to note that the conjugation by $x$ is composition of the (continuous) conjugation
by $h$ and the conjugation by $k$. )


    In order to produce the required example of a triple $G, H, \tau$ such that $\tau$ cannot be extended to $G$ it suffices
to find a group $K$ and a group homomorphism $\theta : K \to Aut(H)$ such that at least one of the automorphisms
$\theta(k)$ of $H$ is $\tau$-discontinuous. Of course, one can simplify the construction by taking the cyclic group $K_1 = \langle k \rangle$
instead of the whole group $K$, where $k \in K$ is chosen such that the automorphisms $\theta(k)$ of $H$ is $\tau$-discontinuous.
A further simplification can be arranged by taking $k$ in such a way that the automorphism $f = \theta(k)$ of $H$ is
also an involition, i.e., $f^2 = id_H$. Then $H$ will be an index two subgroup of $G$.


    Here is an example of a topological abelian group $(H, \tau)$ admitting a $\tau$-discontuous involition $f$. Then the
triple $G, H, \tau$ such that τ cannot be extended to $G$ is obtained by simply taking $G = H \rtimes \rangle f \langle$, where the involition
$f$ acts on $H$. Take as $(H, \tau)$ the torus group $\mathbb{T}$ with the usual topology. Then $\mathbb{T}$ is algebraically isomorphic to
$(\mathbb{Q}/\mathbb{Z}) \oplus_c \bigoplus \mathbb{Q}$, so $\mathbb{T}$ has $2^c$ many involutions. Of these only the involutions $\pm id_\mathbb{T}$  of Then $\mathbb{T}$  are continuous.


    Let us conclude now with a series of examples when the extension problem has always a positive solution.


\textbf{Example 3.69}. Let $p$ be a prime number. If the group of $p$-adic integers $N = \mathbb{Z}_p$ is a normal subgroup of
some group $G$, then the $p$-adic topology of $N$ can be extended to a group topology on $G$. Indeed, it suffices to
note that if $\xi : N \to N$ is an automorphism of $N$, then $\xi(p^n N) = p^n N$. Since the subgroups $p^n N$ define the
topology of $N$, this proves that every automorphism of $N$ is continuous. Now Theorem 3.67 applies.


    Clearly, the $p$-adic integers can be replaced by any topological group $N$ such that every automorphism of $N$
is continuous (e.g., products of the form $\Pi_p \mathbb{Z}^{kp}_p \times F_p$, where $k_p < \omega$ and $F_p$ is a finite abelian $p$-group)


\subsection{Cardinal invariants of topological groups}
Here we shall be interested in measuring the minimum size of a base (of neighborhoods of 1) in a topological
group $H$, as well as other cardinal functions related to $H$.


    It is important to relate the bases (of neighborhoods of 1) in $H$ to those of a subgroup $G$ of $H$.

\textbf{Exercise 3.70} If $G$ is a subgroup of a topological group $H$ and if $\mathcal{B}$ is a base (of neighborhoods of 1) in $H$ then
a base (of neighborhoods of 1) in $G$ is given by $\{U \cap G : U \in \mathcal{B}\}$.


    Now we consider the case when $G$ is a dense subgroup of $H$.


\textbf{Lemma 3.71} If G is a dense subgroup of a topological group $H$ and $\mathcal{B}$ is a base of neighborhoods of 1 in $G$,
then ${\bar{U}^H: U \in \mathcal{B}}$ is a base of neighborhoods of 1 in $H$.


\emph{Proof} Since the topological group $H$ is regular, the closed neighborhoods form a base at 1 in $H$. Hence for
a neighborhood $V \ni 1$ in $H$ one can find another neighborhood $V_0 \ni 1$ such that $\bar{V}_0 \subseteq V$. Since $G \cap V_0$ is a
neighborhood of 1 in $G$, there exists $U \in \mathcal{B}$ such that $U \subseteq G \cap V_0$. There exists also an open neighborhood $W$
of 1 in $H$ such that $U = W \cap G$. Obviously, one can choose $W \subseteq V_0$. Hence $\bar{U}^H = \bar{W}$ as $G$ is dense in $H$ and
$W$ is open in $H$. Thus $\bar{U}^H = \bar{W} \subseteq \bar{V}_0 \subseteq V$ is a neighborhood of 1 in $H$.


\textbf{Lemma 3.72} Let $G$ be a dense subgroup of a topological group $H$ and let $\mathcal{B}$ be a base of neighborhoods of 1 in
$H$. Then $\{gU : U \in \mathcal{B}, g \in G\}$ is a base of the topology of $H$.


\emph{Proof}. Let $x \in H$ and let $x \in O$ be an open set. Then there exists a $U \in \mathcal{U}$ symmetric with $xU^2 \subseteq O$. Pick a
$g \in G \cap xU$. Then $x \in gU \subseteq O$.


    For a topological group $G$ set $d(G) = min\{|X| : X \text{ is dense in } G\}$,


        $w(G) = min\{|\mathcal{B}| : \mathcal{B} \text{ is a base of } G\}$ and $\chi(G) = min\{|\mathcal{B}| : \mathcal{B} \text{ a base of neighborhoods of 1 in } G\}$.


\textbf{Lemma 3.73} Let $H$ be a subgroup of a topological group $G$. Then:
    \begin{itemize}

        \item (a) $w(H) \leq w(G)$ and $\chi(H) \leq \chi(G)$;
        
        \item (b) if $H$ is dense in $G$, then $w(G) = w(H)$ and $\chi(G) = \chi(H)$.

    \end{itemize}

\textbf{Lemma 3.74}. $w(G) = \chi(G) · d(G)$ for every topological group $G$.


\wmph{Proof} The inequality $w(G) \leq \chi(G)$ is obvious. To see that $w(G) \leq d(G)$ choose a base $\mathcal{B}$ of size $w(G)$ and for
every $U \in B$ pick a point $d_U \in U$. Then the set $D = {d_U : U \in \mathca;{B}}$ is dense in $G$ and $|D| \leq w(G)$. This proves
the inequality $w(G) \leq \chi(G) · d(G)$.


    The inequality $w(G) \leq \chi(G) · d(G)$ follows from the previous lemma.


    The cardinal invariants of the topological groups are cardinal numbers, say $\rho(G)$, associated to every
topological group $G$ such that if $G$ istopologically isomorphic to the topological group H, then $\rho(G) = \rho(H)$. For
example, the size $|G|$ is the simplest cardinal invariant of a topological group, it does not depend on the topology
of $G$. Other cardinal invariants are the weight $w(G)$, the character $\chi(G)$ and the density character $d(G)$ defined
above. Beyond the equality $w(G) = \chi(G) · d(G)$ proved in Lemma 3.74, one has also the following inequalities:


\textbf{Lemma 3.75} Let $G$ be a topological group. Then:

\begin{itemize}

    \item (a) $d(G) \leq q(G) \leq 2^{d{G}}$;
    
    \item (b) $G| \leq 2^{w(G)}$ if $G$ is  Hausdorff.

\end{itemize}


\emph{Proof.} (a) $d(G) ≤ w(G)$ has already been proved in Lemma 3.74 (a). To prove $w(G) \leq 2^{d(G)}$ note that $G$ is
regular, hence every open base $\mathcal{B}$ on $G$ contains a base $\mathcal{B}_r$ of the same size consisting of regular open sets \footnote[9]{an open set is said to be regular open if it coincides with the interior of its closure.}.
Let $\mathcal{B}$ be a base of $G$ of regular open sets and let $D$ be a dense subgroup of $G$ of size $d(G)$. If $U, V \in B$, with
$U \cap D = V \cap D$, then $\bar{U} = \bar{U \cap D} = \bar{V \cap D} = \bar{V}$. Being $U$ and $V$ regular open, the equality $\bar{U} = \bar{V}$ implies
$U = V$. Hence the map $U \mapsto U \cap D$ from $\mathcal{B}$ to the power set $P(D)$ is injective. Therefore $w(G) \leq 2^{d(G)}$.


    (b) To every point $x \in G$ assign the set $O_x = \{U \in B : x \in U\}$. Then the axiom $T_2$ guarantees that map
$x \mapsto O_x$ from $G$ to the power set $P(\mathcal{B})$ is injective. Therefore, $|G| \leq 2^{w(G)}$.


\textbf{Remark 3.76.} Two observations related to item (b) of the above lemma are in order here.


\begin{itemize}

    \item The equality in item (b) can be attained (see Theorem 4.46).
    
    \item One cannot remove Hausdorffness in item (b) (any large indiscrete group provides a counter-example).
    This dependence on separation axioms is due to that the presence of the size of the group in (b). We see
    in the next exercise that the Hausdorff axiom is not relevant as far as the other cardinal invariants are
    involved.

\end{itemize}


\textbf{Exercise 3.77} Let $G$ be a topological group. Prove that:

\begin{itemize}

    \item $w(G) = w(G/ \bar{\{1\}}), \chi(G) = \chi(G/ \bar{\{1\}})$ and $d(G) = d(G / \bar{\{1\}})$;
    
    \item $d(U) = D(G)$ for every non-empty open set $U$, if $G$ is Lindel¨off;

    \item $w(G) = \chi(G)$ if locally compact and $\sigma$-compact.

\end{itemize}


\subsection{Completeness and completion}


    A net $\{ g_\alpha \} \alpha \in A$ in a topological group $G$ is a Cauchy net if for every neighborhood $U$ of 1 in $G$ there exists
$\alpha_0 \in A$ such that $g^{-1}_\alpha g_\beta \in U$ and $g_\beta g^{-1}_\alpha \in U$ for every $\alpha, \beta > \alpha_0$.


\textbf{Exercise 3.78} Let $G$ be a dense subgroup of a topological group $H$. If $(g_\alpha)$ is a net in $G$ that converges to
some element $h \in H$, then $(g_\alpha)$ is a Cauchy net.


By the previous exercise, the convergent nets are Cauchy nets. A topological group $G$ is complete (in the
sense of Raikov) if every Cauchy net in $G$ converges in $G$. We omit the tedious proof of the next theorem.


\textbf{Theorem 3.79} For every topological Hausdorff group $G$ there exists a complete topological group $\tilde{G}$ and a
topological embedding $i : G \to \tilde{G}$ such that $i(G)$ is dense in $\tilde{G}$. Moreover, if $f : G \to H$ is a continuous
homomorphism and $H$ is a complete topological group, then there is a unique continuous homomorphism 
$\tilde{f} : \tilde{G} \to H$ with $f = \tilde{f} \circ i$.


Therefore every Hausdorff topological abelian group has a unique, up to topological isomorphisms, (Raikov-
)completion ($\tilde{G}, i$) and we can assume that $G$ is a dense subgroup of $\tilde{G}$.


\textbf{Definition 3.80} A net ${g_\alpha}_{\alpha \in A}$ in $G$ is a left [resp., right] Cauchy net if for \emph{every neighborhood} $U$ of 1 in $G$
there exists $\alpha_0 \in A$ such that $g^{-1}_\alpha g_\beta \in U$ [resp., $g^{-1}_\alpha g_\beta \in U$] for every $\alpha, \beta > \alpha_0$.


\textbf{Lemma 3.81} Let $G$ be a Hausdorff topological group. Every left (resp., right) Cauchy net in $G$ with a
convergent subnet is convergent.


\emph{Proof}. Let $\{g_\alpha \}_{\alpha \in A}$ be a left Cauchy net in $G$ and let $\{g_\beta\}_{\beta \in B}$ be a subnet convergent to $x \in G$, where $B$ is a
cofinal subset of $A$. Let $U$ be a neighborhood of 1 in $G$ and $V$ a symmetric neighborhood of 1 in $G$ such that
$V V \subseteq U$. Since $g_\beta \to x$, there exists $\beta_0 \in B$ such that $g_\beta \in xV$ for every $\beta > \beta_0$. On the other hand, there
exists $\alpha_0 \in A$ such that $\alpha_0 \geq \beta_0$ and $g^{-1}\alpja g\gamma \in V$ for every $\alpha, \gamma > \alpha_0$. With $\gamma = \beta_0$ we have $g_\alpha \in xV V \subseteq xU$ for
every $\alpha > \alpha_0$, that is $g_\alpha \to x$.


    A topological group $G$ is \emph{complete in the sense} of Weil if every left Cauchy net converges in $G$.


    Every Weil-complete group is also complete, but the converse does not hold in general. It is possible to
define the Weil-completion of a Hausdorff topological group in analogy with the Raikov-completion.


\textbf{Exercise 3.82} Prove that if a Hausdorff topological group $G$ admits a Weil-completion, then in $G$ the left
Cauchy and the right Cauchy nets coincide


\textbf{Exercise 3.83} Let X be an infinite set and let G = S(X) equipped with the topology described in §3.2.4. Prove
that:


\begin{itemize}

    \item a net  $\{f\alpha\}_{\alpha \in A}$ in $G$ is left Cauchy iff there exists $f \in XX$ so that $f_\alpha \to f$ in $X^X$, prove that such an $f$
    must necessarily be injective;
    
    \item  a net $\{f\alpha\}_{\alpha \in A}$ in $G$ is right Cauchy iff there exists $g \in X^X$ so that $f^{-1}_\alpha\to g$ in $X^X$;

    \item  the group $S(X)$ admits no Weil-completion. (Hint. Build a left Cauchy net in $S(X)$ that is not right
    Cauchy and use items (a) and (b), as well as the previous exercise.)

    \item $S(X)$ is Raikov-complete. (Hint. Use items (a) and (b).)
    

\end{itemize}


\textbf{Exercise 3.84} (a) Let $G$ be a linearly topologized group and let $\{N_i: i \in I\}$ be its system of neighborhoods
of 1 consisting of open normal subgroups. Then the completion of $G$ is isomorphic to the inverse limit
$lim_{\leftarrow} G/N_i$ of the discrete quotients $G/N_i$.


(b) Show that the completion in (a) is compact iff all $N_i$ have finite index in $G$.


(c) Let $p$ be a prime number. Prove that the completion of $\mathbb{Z}$ equipped with the p-adic topology (see Example
3.7) is the compact group $\mathbb{J}_p$ of p-adic integers.


(d) Prove that the completion of $\mathbb{Z}$ equipped with the natural topology (see Example 3.7) is isomorphic to
$\Pi_p \mathbb{J}_p$


\textbf{Exercise 3.85} Let $p$ be a prime number. Prove that:


    \begin{itemize}

        \item (a) $\mathbb{Z}$ admits a finest group topology $\tau$ such that $p^n$ converges to 0 in $\tau$ (this is $\tau_{(p^n)}$ in the notation of $\S$3.4);
    
        \item (b)* [89,88] (\mathbb{Z}, \tau)
        
        \item (c) conclude that $\tau$ is not metrizable.
        
    \end{itemize}

\textbf{Exercise 3.86} Let $G$ be a Hausdroff topologized group. Call a filter $\mathcal{F}$ on $G$ Cauchy if for every $U \in \mathcal{V}_G(1)$
there exists $g \in G$ such that $gU \in \mathcal{F}$. Prove that:


    \begin{itemize}

        \item (a)  a filter $\mathcal{F}$ on $G$ Cauchy iff for every $U \in \mathcal{V}_G(1)$ there exists $g \in G$ such that $U_g \in \mathcal{F}$.
    
        \item (b) if $\mathcal{F}$ is a Cauchy filter on $G$ and $x_F \in F$ for every $F \in \mathcal{F}$, then the net $\{x_F : F \in \mathcal{F}\}$ is a Cauchy net
        (here $\mathcal{F}$ is considered as a directed partially ordered set w.r.t. inclusion);
        
        \item (c) if $\{x_i: i \in I\}$ is a Cauchy net in $G$ and $Fi = \{x_j : j \in I, j \geq i\}$, then the family $\{F_i: i \in I\}$ is a filter
        base of a Cauchy filter on $G$;
        
        \item (d) $G$ is complete iff every Cauchy filter in $G$ converges.
        
    \end{itemize}


\section{Compactness and local compactness in topological groups}


    Clearly, a topological group $G$ is locally compact if there exists a compact neighborhood of $e_G$ in $G$ (compare
with Definition 2.10). We shall assume without explicitly mentioning it, that all locally compact groups are
Hausdorff.


    As an immediate consequence of Tychonov's theorem of compactness of products we obtain the following
the first example of a compact abelian group (it will become clear with the duality theorem that this is the
most general one).


\textbf{Remark 4.1}. Let us see that for every abelian group $G$ the group $G^* = Hom (G, \mathbb{S})$ is closed in the product
$S^G$, hence $G^*$ is compact. Consider the projections $π_x : \mathbb{S}^G \to \mathbb{T}$ for every $x \in G$ and the following equalities


    $G^* = \bigcap_{h,g \in G} \{f \in \mathbb{S}^G : f(h + g) = f(h)f(g)\} = \bigcap_{h,g \in G} \{f \in \mathbb{S}^G : \pi_{h+g}(f) = \pi_h(f) \pi_g (f)\}$


        $= \bigcap_{h,g \in G} \{f \in \mathbb{S}^G : (\pi^{-1}_{h+g} \pi_h \pi_g)(f) = 1\} = \bigcap_{h,g \in G} ker(\pi^{-1}_{h+g} \pi_h \pi_g)$


Since $\pi_x$ is continuous for every $x \in G$ and {1} is closed in $\mathbb{S}$, then all $ker(\pi^{-1}_{h+g} \pi_h \pi_g)$ are closed; so $Hom (G, \mathbb{S})$
is closed too.


The next lemma contains a well known useful fact - the existence of a “diagonal subnet”.


\textbf{Lemma 4.2} Let $G$ be an abelian group and let $N = {\chi_\alpha}_\alpha$ be a net in $G^*$. Then there exist χ ∈ G∗ and a
subnet $S = \{\chi_{\alpha\beta}\}_\beta$ of $N$ such that $χαβ(x) → χ(x)$ for every $x \in G$.


\emph{Proof.} By Tychonov's theorem, the group $\mathbb{S}^G$ endowed with the product topology is compact. Then $N$ has a
convergent (to $\chi$) subnet $\mathbb{S}$. Therefore $\chi_{\alpha \beta}(x) → \chi(x)$ for every $x \in G$ and $χ \in G^*$, because $G^*$ is closed in $\mathbb{S}^G$
by 4.1.


\subsection{Specific properties of (local) compactness}


Here we shall see the impact of local compactness in various directions (the open mapping theorem, preoperties
related to connectedness, etc.).


\textbf{Lemma 4.3}. Let $G$ be a topological group and let $C$ and $K$ be closed in subsets of $G$:


\begin{itemize}

    \item if $K$ is compact, then both $CK$ and $KC$ are closed
    
    \item if both $C$ and $K$ are compact, then $CK$ and $KC$ are compact;

    \item if $K$ is contained in an open subset $U$ of $G$, then there exists an open neighborhood $V$ of 1 such that
    $KV \subseteq U$.
    
\end{itemize}


\emph{Proof.} (a) Let $\{x_\alpha\}_{\alpha \in A}$ be a net in $CK$ such that $x_\alpha \to x_0 \in G$. It is sufficient to show that $x_0 \in CK$. For
every $\alpha \in A$ we have $x_\alpha = y_\alpha z_\alpha$, where $y_\alpha \in C$ and $z_\alpha \in K$. Since $K$ is compact, then there exist $z_0 \in K$
and a subnet $\{z_{\alpha \beta}\}_{\beta \in B}$ such that $z_{\alpha \beta} \to z_0$. Thus $(x_{\alpha \beta}, z_{\alpha \beta})_{\beta \in B}$ is a net in $G \times G$ which converges to $(x_0, z_0)$.
Therefore $y_{\alpha \beta} = x_{\alpha \beta} z^{-1}_{\alpha \beta}$ converges to $x_0 z^{-1}_0$ because the function $(x, y) \mapsto xy^{-1}$ is continuous. Since $y_{\alpha \beta} \in C$
for every $\beta \in B$ and $C$ is closed, $x_0 z^{-1}_0 \in C$. Now $x_0 = (x_0 z^{-1}_0) z_0 \in CK$. Analogously it is possible to prove
that $KC$ is closed.
        

    (b) The product $C \times K$ is compact by the Tychonov theorem and the function $(x, y) \mapsto xy$ is continuous
and maps $C \times K$ onto $CK$. Thus $CK$ is compact.


    (c) Let $C = G / U$. Then $C$ is a closed subset of $G$ disjoint with $K$. Therefore, for the compact subset $K^{-1}$
of $G$ one has $1 \notin K^{-1}C$. By (a) $K^{-1}C$ is closed, so there exists a symmetric neighborhood $V$ of 1 that misses
$K{-1}C$. Then $KV$ misses $C$ and consequently $KV$ is contained in $U$.


    Compactness of $K$ cannot be omitted in item (a). Indeed, $K = \mathbb{Z}$ and $C = \langle \sqrt{2} \rangle$ are closed subgroups of
$G = \mathbb{R}$ but the subgroup $K + C$ of $\mathbb{R}$ is dense (see Exercie 3.20 or Proposition 4.45).


\textbf{Lemma 4.4} Let $G$ be a topological group and $K$ a compact subgroup of $G$. Then the canonical projection
$\pi : G \to G/K$ is closed.


\emph{Proof.} Let $C$ be a closed subset of $G$. Then $CK$ is closed by Lemma 4.3 and so $U = G / CK$ is open. For every
$x \neq C$K, that is $\pi(x) \notin \pi(C), \pi(U)$ is an open neighborhood of $\pi(x)$ such that $\pi(U) \cap \pi(C)$ is empty. So $\pi(C)$
is closed.


\textbf{Lemma 4.5} Let $G$ be a topological group and let $H$ be a closed subgroup of $G$


\begin{enumerate}

    \item If $G$ is compact, then $G/H$ is compact.

    \item If $H$ and $G/H$ are compact, then $G$ is compact.

\end{enumerate}

\emph{Proof} (1) is obvious.


    (2) Let $\mathcal{F} = {F_\alpha : \alpha \in A}$ be a family of closed sets of $G$ with the finite intersection property. If $\pi : G \to G/H$
is the canonical projection, $\pi(F)$ is a family of closed subsets with the finite intersection property in $G/H$ by
Lemma 4.4. By the compactness of $G/H$ there exists $\pi (x) \in \pi (F_\alpha)$ for every $\alpha \in A$. So $x \in \bigcap_{\alpha \in A} F_\alpha H$. Let
$x = f_\alpha h_\alpha$ with $h_\alpha \in H$ and $f_\alpha \in F_alpha$. It is not restrictive to assume that $F$ is closed for finite intersections.
Define a partial order on $A$ by $\alpha \leq \alpha'$ if $F_\alpha \supseteq F_{\alpha'} $. Then $(A, \leq)$ is a right-filtered partially ordered set and so
$\{f_\alpha\}_{\alpha \in A}$ is a net in $G$. By the compactness of $H$ we can assume wlog that $h_\alpha$ converges to $h \in H$ (otherwise
pass to a convergent subnet). But then $f_\alpha = xh^{-1}_\alpha \to xh^{-1}$. Since $f_\alpha$ is contained definitively in $F_\alpha$, also the
limit $xh^{-1} \in F_\alpha$. So the intersection of all $F_\alpha$ is not empty.


\textbf{Lemma 4.6} Let $G$ be a locally compact group, $H$ be a closed subgroup of $G$ and $\pi : G \to G/H$ be the canonical
projection. Then:


\begin{enumerate}

    \item $G/H$ is locally compact too;

    \item If $C$ is a compact subset of $G/H$, then there exists a compact subset $K$ of $G$ such that $\pi(K) = C.$

\end{enumerate}


\emph{Proof} Let $U$ be an open neighborhood of 1 in $G$ with compact closure. Consider the open neighborhood $\pi (U)$
of 1 in $G/H$. Then $\pi \bar{(U)} \subseteq \bar{\pi (U)}$ by the continuity of $\pi$. Now $\pi \bar{(U)}$ is compact in $G/H$, which is Hausdorff,
and so $\pi \bar{(U)}$ is closed. Since $\pi(U)$ is dense in $\pi \bar{(U)}$, we have $\bar{\pi (U)} = \bar{\pi \bar{(U)}} = \pi(U)$. So $G/H$ is locally compact.


    (b) Let $U$ be an open neighborhood of 1 in $G$ with compact closure. Then $\{\pi(sU) : s \in G\}$ is an open
covering of $G/H$. Since $C$ is compact, a finite subfamily $\{\pi (s_i U) : i = 1, . . . , m\}$ covers $C$. Then we can take
$K = (s_1 U \cup · · · \cup s_m U) \cap \pi^{-1} (C)$.


\textbf{Lemma 4.7} A locally compact group is Weil-complete


\emph{Proof.} Let $U$ be a neighborhood of 1 in $G$ with compact closure and let ${g_\alpha}_{\alpha \in A}$ be a left Cauchy net in $G$.
Then there exists $\alpha_0 \in A$ such that $g^{-1}_\alpha g_\beta \in U$ for every $\alpha, \beta \leq \alpha_0$. In particular, $g_\beta \in g_{\alpha_0} U$ for every $\beta > \alpha_0$.
By the compactness of $g_{\alpha_0} \bar{U}$, we can conclude that there exists a convergent subnet $\{g_\beta\}_{\beta \in B}$ (for some cofinal
$B \subseteq A$) such that $g_\beta \to g \in G$. Then also $g_\alpha$ converges to $g$ by Lemma 3.81.


\textbf{Lemma 4.8} A locally compact countable group is discrete.


Proof. By the Baire category theorem 2.16 $G$ is of second category. Since $G = {g_1, . . . , g_n, . . . } = \bigcup^{\infty}_{n=1} \{g_n\}$, 
there exists n ∈ N+ such that Int $\{g_n\}$ is not empty and so $\{g_n\}$ is open.


    Now we prove the open mapping theorem for topological groups.


\textbf{Theorem 4.9 (Open mapping theorem).} Let $G$ and $H$ be locally compact topological groups and let $f$ be a
continuous homomorphism of $G$ onto $H$. If $G$ is $\sigma$-compact, then $f$ is open.


\emph{Proof}. Let $U$ be an open neighborhood of 1 in $G$. There exists an open symmetric neighborhood $V$ of 1 in
$G$ such that $\bar{VV} \subseteq U$ and $\bar{V}$ is compact. Since $G =\bigcup_{x \in G} xV$ and $G$ is Lindel¨off by Lemma 2.17, we have
$G =\bigcup^{\infty}_{n=1} x_n V$. Therefore $H =\bigcup^{\infty}_{n=1} h(x_n \bar{V})$, because $h$ is surjective. Put $y_n = h(x_n)$, hence $H = \bigcup^{\infty}_{n=1} y_n h(\bar{V})$
where each $h(V)$ is compact and so closed in $H$. Since $H$ is locally compact, Theorem 2.16 yields that there
exists $n \in \mathbb{N}_+$ such that Int $h(\bar{V})$ is not empty. So there exists a non-empty open subset $W$ of $H$ such that
$W \subseteq h(\bar{V})$. If $w \in W$, then $w \in h(\bar{V})$ and so $w = h(v)$ for some $v \in \bar{V} = \bar{V}^{-1}$. Hence


    $1 \in w^{-1}W \subseteq w^{-1}h(\bar{V}) = h(v^{-1})h(\bar{V}) \subseteq h(\bar{VV}) \subseteq h(U)$


and this implies that $h(U)$ is an open neighborhood of 1 in $H$.


    The following immediate corollary is frequently used:


\textbf{Corollary 4.10} If $f : G \to H$ is a continuous surjective homomorphism of Hausdorff topological groups and
$G$ is compact, then $f$ is open.


Now we introduce a special class of $\sigma$-compact groups that will play an essential role in determining the
structure of the locally compact abelian groups.


\textbf{Definition 4.11.} A group $G$ is compactly generated if there exists a compact subset $K$ of $G$ which generates
$G$, that is $G = \langle K \rangle =\bigcup^{\infty}_{n=1}(K \cup K^{-1})^n$.


\textbf{Lemma 4.12} If $G$ is a compactly generated group then $G$ is $\sigma$-compact.


\emph{Proof.} By the definition $G =\bigcup^{\infty}_{n=1}(K \cup K^{-1})^n$, where every $(K \cup K^{-1})^n$ is compact, since $K$ is compact.


    It should be emphasized that while $\sigma$-compactness is a purely topological property, being compactly
    generated involves essentially the algebraic structure of the group.


\textbf{Excercise 4.13.} (a) Give examples of $\sigma$-compact groups that are not compactly generated.


(b) Show that every connected locally compact group is compactly generated


\textbf{Lemma 4.14.} Let $G$ be a locally compact group.


\begin{enumerate}

    \item If $K$ a compact subset of $G$ and $U$ an open subset of $G$ such that $K \subseteq U$, then there exists an open
    neighborhood $V$ of 1 in $G$ such that $(KV) \cup (VK) \subseteq U$ and $\bar{(KV) \cup (VK)}$ is compact.
    
    \item If $G$ is compactly generated, then there exists an open neighborhood $U$ of 1 in $G$ such that $\bar{U}$ is compact
    and $U$ generates $G$.

\end{enumerate}


\emph{Proof.} (a) By Lemma 4.3 (c) there exists an open neighborhood $V$ of 1 in $G$ such that $(KV) \cup (VK) \subseteq U$.
Since $G$ is locally compact, we can choose $V$ with compact closure. Thus $K\bar{V}$ is compact by Lemma 4.3. Since
$KV \subseteq K\bar{V}$ , then $\bar{KV} \subseteq K \bar{V}$ and so $\bar{KV}$ is compact. Analogously $\bar{KV}$ is compact, so $\bar{(KV) \cup (VK)} = \bar{KV} \cup \bar{VK}$
is compact.


    (b) Let $K$ be a compact subset of $G$ such that $K$ generates $G$. So $K \cup \{1\}$ is compact and by (a) there exists
an open neighborhood $U$ of 1 in $G$ such that $U \supseteq K \cup \{1\}$ and $\bar{U}$ is compact.


    In the case of first countable topological groups Fujita and Shakmatov [49] have described the precise
relationship between $\sigma$-compactness and the property of being compactly generated.


\textbf{Theorem 4.15.} A metrizable topological group $G$ is compactly generated if and only if $G$ is $\sigma$-compact and, for
every open subgroup $H$ of $G$, there exists a finite set $F \subseteq G$ such that $F \cup H$ algebraically generates $G$ [49].


    This gives the following:


\textbf{Corollary 4.16} . A $\sigma$-compact metrizable group $G$ is compactly generated in each of the following cases (for the
definition of total boundedness see Definition 4.25):


\begin{itemize}

    \item $G$ has no open subgroups

    \item the completion $\tilde{G}$ is connected;

    \item $G$ is totally bounded.

\end{itemize}


    Moreover,


\textbf{Theorem 4.17.} A countable metrizable group is compactly generated iff it is algebraically generated by a
sequence (possibly eventually constant) converging to its neutral element.


    Examples showing that the various conditions above cannot be omitted can be found in [49].
The question when will a topological group contain a compactly generated dense subgroup is considered in
[50].


    Now we see that linearity and total disconnectedness of group topologies coincide for compact groups and
for locally compact abelian groups


\textbf{Theorem 4.18.} Every locally compact totally disconnected group has a base of neighborhoods of 1 consisting
of open subgroups. In particular, a locally compact totally disconnected group that is either abelian or compact
has linear topology.


    This can be derived from the followis more precise result:


\textbf{Theorem 4.19.} Let $G$ be a locally compact topological group and let $C = c(G)$. Then :


    \begin{itemize}

    \item (a) $C$ coincides with the intersection of all open subgroups of $G$;
    
    \item (b) if $G$ is totally disconnected, then every neighborhoodof 1 contains an open subgroup of $G$.

    \end{itemize}


    If $G$ is compact, then the open subgroups in items (a) and (b) can be chosen normal.


    \emph{Proof.} (a) follows from (b) as $G/C$ is totally disconnected hence the neutral element of $G/C$ is intersection of
open (resp. open normal) subgroups of $G/C$. Now the intersection of the inverse images, w.r.t. the canonical
homomorphism $G \to G/C$, of these subgroups coincides with $C$.


    (b) Let $G$ be a locally compact totally disconnted group. By Vedenissov's Theorem $G$ has a base $\mathcal{O}$ of clopen
symmetric compact neighborhoods of 1. Let $U \in \mathcal{O}$. The $U = \bar{U} = \bigcap_{V \in \mathcal{O}} UV$. Then every set $U · V$ is compact
by Lemma 4.3, hence closed. According to Lemma 2.14 there exist $V_1, . . . , V_n \in \mathcal{O}$ such that $U = \bigcap^n_{k=1} UV_k$.
Then for $V := U \cap \bigcap^n_{k=1} V_k$ one has $UV = U$. This implies also $VV \subseteq U$, $VVV \subseteq U$ etc. Since $V$ is symmetric,
the subgroup $H = \langle V \rangle$ is contained in $U$ as well. From $V \subseteq H$ one can deduce that $H$ is open (cf. 3.16). In
case $G$ is compact, note that the heart $H_G =\bigcap_{x \in G} x^{-1}Hx$ of $H$ is an open normal subgroup as the number of
all conjugates $x^-{1}Hx$ of $H$ is finite (being equal to $[G : N_G (H)] \leq [G : H] < \infty$). Hence $H_G$ is an open normal
subgroup of $G$ contained in $H$, hence also in $U$.


\textbf{Corollary 4.20} The quotient of a locally compact totally disconnected group is totally disconnected.


    \emph{Proof.} Let $G$ be a locally compact totally disconnected group and let $N$ be a closed normal subgroup of $G$. It
follows from the above theorem that $G$ has a linear topology. This yields that the quotient $G/N$ has a linear
topology too. Thus $G/N$ is totally disconnected.


\textbf{Corollary 4.21} The continuous homomorphic images of compact totally disconnected groups are totally disconnected.


    \emph{Proof.} Follows from the above corollary and the open mapping theorem.


    According to Example 3.46 none of the items (a) and (b) of the theorem remain true without the hypothesis
“locally compact”.


\textbf{Corollary 4.22} Let $G$ be a locally compact group. Then $Q(G) = c(G)$.


    \emph{Proof.} By item (a) of the above theorema $C(G)$ is an intersection of open subgroups, that are clopen being open
subgroups (cf. Proposizione 3.16). Hence $c(G)$ contains $Q(G)$ which in turn coincides with the intersection of
\emph{all} clopen sets of $G$ containing 1. The inclusion $C(G) \subseteq Q(G)$ is always true.


\subsection{Subgroups of the compact groups}
For a subset $E$ of an abelian group $G$ we set $E_{(2)} = E - E, E_{(4)} = E - E + E - E, E_{(6)} = E - E + E - E + E - E$
and so on.


    A subset $X$ of an abelian group $(G, +)$ is big\footnote[10]{Some authors use also the terminology large, relatively dense, or syndetically dense. This notion can be given for non-abelian
groups as well, but then both versions, left large and right large, do not coincide. This creates some technical difficulties that we
prefer to avoid since the second part of this section is relevant only for abelian groups. The first half, including the characterization
4.29, remains valid in the non-abelian case as well (since, fortunately, the “left” and “right” versions of total boundedness coincide).}
if there exists a finite subset $F$ of $G$ such that $G = X + F$.
Obviously, every non-empty set of a finite group is big; on the other hand, every big set in an infinite group is
necessarily infinite.


\textbf{Exercise 4.23} Let $B$ be an infinite subset of $\mathbb{Z}$. Show that $B$ is big iff the following two conditions hold:


\begin{itemize}

    \item $B$ is unbounded from above and from below;

    \item  if $B = \{b_n\}^{\infty}_{n=-\infty}$ is a one-to-one monotone enumeration of $B$ then the differences $b_{n+1} - b_n$ are bounded.

\end{itemize}


\textbf{Exercise 4.24.} (a) Assume $B_\nu$ is a big set of the group $G_\nu$ for $\nu = 1, 2, . . . , n$. Prove that $B_1 \times . . . \times B_n$ is
a big set of $G_1 \times . . . \tiems G_n$.


    (b) if $f : G \to H$ is a surjective group homomorphism and $B$ is a big subset of $H$, then $f^{-1}(B)$ is a big subset
    of $G$.


\textbf{Definition 4.25} A topological group $G$ is totally bounded if every open non-empty subset $U$ of $G$ is big. A
Hausdorff totally bounded group will be called precompact.


    Clearly, compact groups are precompact.


    Note that if $f$ in item (b) of 4.24 is not surjective, then the property may fail. The next proposition gives
an easy remedy to this.


\textbf{Proposition 4.26}. Let $A$ be an abelian group and let $B$ be a big subset of $A$. Then $(B - B) \cap H$ is big with
respect to $H$ for every subgroup $H$ of $A$.


    If $a \in A$ then there exists a sufficiently large positive integer $n$ such that $na \in B - B$.


    \emph{Proof.} There exists a finite subset $F$ of $A$ such that $B + F = A$. For every $f \in F$, if $(B + f) \cap H$ is not empty,
choose $a_f \in (B + f) \cap H$, and if $(B + f) \cap H$ is empty, choose an arbitrary $a_f \in H$. On the other hand, for
every $x \in H$ there exists $f \in F$ such that $x \in B + f$; since $a_f \in B + f$, we have $x - a_f \in B - B$ and so
$H \subseteq (B - B) \cap H + {a_f : f \in F}$, that is $(B - B) \cap H$ is big in $H$.


    For the last assertion it suffices to take $H = \langle a \rangle$. If $H$ is finite, then there is nothing to prove as $0 \in B - B$.
Otherwise $H \cong \mathbb{Z}$ so the first item of Exercise 4.23 applies.


Combining this proposition with item (b) of 4.24 we get:


\textbf{Corollary 4.27}. For every group homomorphism $f : G \to H$ and every big subset $B$ of $H$, the subset $f^{-1}(B-B)$
of $G$ is a big.


    Here comes the most important consequence of the above proposition.


\textbf{Corollary 4.28}. Subgroups of precompact groups are precompact. In particular, all subgroups of compact groups
are precompact.


    One can show that the precompact groups are precisely the subgroups of the compact groups. This requires
two steps as the next theorem shows:


\textbf{Theorem 4.29}. (a) A group having a dense precompact subgroup is necessarily precompact.


    (b) The compact groups are precisely the complete precompact groups.


    \emph{Proof.} (a) Indeed, assume that $H$ is a dense precompact subgroup of a group $G$. Then for every $U \in V_G(0)$
choose an open $V \in \mathcal{V}_G(0)$ with $V + V \subseteq U$. By the precompactness of $H$ there exists a finite set $F \subseteq H$ such
that $H = F + V \cap H$. Then
    

    $G = V + H \subseteq V + F + V \cap H \subseteq F + V + V \subseteq F + U$.


    (b) Compact groups are complete and precompact. To prove the other implication take a complete
precompact group $G$. To prove that $G$ is compact it sufficies to prove that every ultrafilre on $G$ converges. Assume
$\mathcal{U}$ is such an ultrafiler. We show first that it is a Cauchy filter. Indeed, if $U \in \mathcal{V}_G(0)$, then $U$ is a big set of $G$
so there exists $g_1, g_2, . . . , g_n \in G$ such that $G =\bigcup^n_{i=1} g_i + U$. Since $\mathcal{U}$ is an ultrafilter, $g_i + U \in \mathcal{U}$ for some $i$.
Hence $\mathcal{U}$ is a is a Cauchy filter. According to Exercise 3.86 $\mathcal{U}$ converges.


    In this way we have described the precompact groups internally (as the Hausdorff topological groups having
big non-empty open sets), or externally (as the subgroups of the compact groups).


    Now we adopt a different approach to describe the precompact groups, based on the use of characters. Our
first aim will be to see that the topologies induced by characters are always totally bounded.


\textbf{Proposition 4.30} If $A$ is an abelian group, $\delta > 0$ and $\chi_1, . . . , \chi_s \in A^*(s \in \mathbb{N}_+)$, then $U(\chi_1, . . . , \chi_s; \delta)$ is big in
A. Moreover for every $a \in A$ there exists a sufficiently large positive integer $n$ such that $na \in U(\chi_1, . . . , \chi_s; \delta)$.


    \emph{Proof.} Define $h : A \to \mathbb{T}^s$ such that $h(x) = (\chi_1(x), . . . , \chi_s(x))$ and


        $B = \{(z_1, ..., z_n) \in \mathbb{S}^S : |Arg z_i| < \frac{\delta}{2} \text{ for } i = 1, ..., s\} = \{z \in \mathbb{S} : |Arg z| \frac{\delta}{2} \}^8$.


    Then $B$ is big in $\mathbb{S}^s$ and by Proposition 4.26 the set $(B - B) \cap h(A)$ is big with respect to $h(A)$. Since

        $B - B \subseteq C = \{(z_1, . . . , z_s) \in \mathbb{S}^s: ||Arg z_i|| < \delta \text{ for } i = 1, . . . , s\}$,

    we have that $C \cap h(A)$ is big with respect to $h(A)$. Therefore $U(\chi_1, . . . , \chi_s; \delta) = h^{-1}(C)$ is big in $A$.
        
    
    The second statement follows from Proposition 4.26, since

        $U(\chi_1, ..., \chi_s; \frac{\delta}{2}) - U(\chi_1, ..., \chi_s; \frac{\delta}{2}) \subseteq U(\chi_1, ..., \chi_s; \delta)$.


\textbf{Corollary 4.31}. For an abelian group $G$ all topologies of the form $\mathcal{T}_H$, where $H \leq G^*$, are totally bounded.
Moreover, $T_H$ is precompact iff $H$ separates the points of $G$.


    It requires a considerable effort to prove that, conversely, every totally bounded group topology has the form
$\mathcal{T}_H$ for some $H$ (see Remark 6.3).


    It follows easily from Corollary 4.31 and Proposition 4.30 that for every neighborhood $E$ of 0 in the Bohr
topology (namely, a set $E$ containing a subset of the form $U(\chi_1, . . . , \chi_n; \epsilon)$ with characters $\chi_i: G \to \mathbb{S}$,
$i = 1, 2, . . . , n, \text{ and } \epsilon > 0)$ there exists a big set $B$ of $G$ such that $B_{(8)} \subseteq E$ (just take $B = U(\chi_1, . . . , \chi_n; \epsilon/8)$).
Surprisingly, the converse is also true. Namely, we shall obtain as a corollary of Folner's lemma that every set
$E$ satisfying $B_{(8)} \subseteq E$ for some big set $B$ of $G$ must be a neighborhood of 0 in the Bohr topology of $G$ (see
Corollary 5.8).


\textbf{Exercise 4.32}If $G$ is a countably infinite Hausdorff abelian group, then for every compact set $K$ in $G$ the set
K(2n)is big for no $n \in \mathbb{N}$.


    (Hint. By Lemma 4.3 every set $K_{(2n)}$ is compact. So if $K_{(2n)}$ were big for some $n$, then $G$ itself would be
compact. Now Lemma 4.8 applies.)


\textbf{Exercise 4.33.} Call a subset $S$ of an infinite abelian group $G$ small if there exist (necessarily distinct) elements
$g_1, g_2, . . . , g_n, . . .$ of $G$ such that $(g_n + S) \cap (g_m + S) = \neq$ whenever $m \neq n$.


\begin{itemize}

    \item (a) Show that a subset $S$ of $G$ such that $S - S$ is not big is necessarily small

    \item (b) Show that every finite subset is small.

    \item (c) Show that the group $\mathbb{Z}$ is not a finite union of small sets.

    \item (d) * Show that no infinite abelian group $G$ is a finite union of small sets.

    \item (e) If $S = (a_n)$ is a one-to-one $T$-sequence in an abelian group $G$, then for every $n \in \mathbb{N}$ the set $S_{(2n)}$ is small
    in $G$.

    \item (f) Show that the sequence $(p_n)$ of prime numbers in $\mathbb{Z}$ is not a $T$-sequence.

\end{itemize}


    (Hint. (d) Use a finitely additive invariant (Banach) measure on $G$. For (e) consider the (countable) subgroup
generated by $S$ and note that if $a_n \to 0$ in some Hausdorff group topology $\tau$ on $G$, then the set $S \cap \{0\}$ would
be compact in $\tau$ , so item (a) and Exercise 4.32 apply. For (f) use (e) and the fact that there exists a constant
$m$ such that every integer number is a sum of at most $m$ \footnote[11]{use the fact that according to the positive solution of the ternary Goldbach's conjecture a there exists a constant $C > 0$ such
that every odd integer $\geq C$ is a sum of three primes (see [96] for further details on Goldbach's conjecture).} prime numbers.)


\textbf{Exercise 4.34.} Show that for an infinite abelian group $G$ and a subgroup $H$ of $G$ the following are equivalent:

    \begin{itemize}

        \item (a) $H$ has infinite index;
        
        \item (b) $H$ is not big;
        
        \item (c) $H$ is small

    \end{itemize}


\textbf{Exercise 4.35.} * Every infinite abelian group has a small set of generators.


    This can be extended to arbitrary groups [30]. One can find in the literature also different (weaker) forms
of smallness ([4, 11]).


\textbf{Exercise 4.36}

    \begin{itemize}

        \item (a) If $f : G \to H$ is a continuous surjective homomorphism of topological groups, then $H$ is
        totally bounded whenever $G$ is totally bounded.        
        
        \item (b) Prove that a topological group $G$ is totally bounded iff $G/ \bar{\{1\}}$ is totally bounded.
        
        \item (c)  If $\{G_i: i \in I\}$ is a family of topological groups, then $\Pi_i G_i$ is totally bounded iff each $G_i$ is totally bounded.
        
        \item (d) Prove that every topological abelian group $G$ admits a “universal” totally bounded continuous surjective
        homomorphic image $q : G \to q(G)$ (i.e., every continuous homomorphsm $G \to P$, where $P$ is a totally
        bounded group, factors through $q$ \footnote[12]{in other words, the subcategory of all totally bounded groups forms an epireflective subcategory of the category of all topological
        groups.}).
        

    \end{itemize}

\subsection{Subgroups of $\mathbb{R}^n$}
Our main goal here is to prove that every closed subgroup of $\mathbb{R}^n$ is topologically isomorphic to $\mathbb{R}^s \times \mathbb{Z}^m$, with
$s, m \in \mathbb{N}$ and $s + m \leq n$. More precisely:


\textbf{Theorem 4.37.}Let $n \in \mathbb{N}_$+ and let $H$ be a closed subgroup of $\mathbb{R}^n$. Then there exist closed subgroups $V$ and $D$
of $\mathbb{R}^n$ such that $H = V + D \cong V \times D$, $V \cong \mathbb{R}^s$, $D \cong \mathbb{Z}^m$ and $s + m \leq n$.


The proof is split in several steps. Before starting it, we note the following curious dichotomy hidden in this
theorem:


\begin{itemize}

    \item the closed connected subgroups of $\mathbb{R}^n$ are always isomorphic to some $\mathbb{R}^s$ with $s \leq n$;
    
    \item the totally disconnected closed subgroups $D$ of $\mathbb{R}^n$ must be free and have free-rank $r_0 (D) \leq n$; in particular
    they are discrete.

\end{itemize}


In the general case, for every closed subgroup $H$ of $\mathbb{R}^n$ the connected component $c(H)$ is open in $H$ and
isomorphic to $\mathbb{R}^s$ for some $s \leq n$. Therefore, by the divisibility of $\mathbb{R}^s$ one can write $H = c(H) \times D$ for some
discrete subgroup $D$ of $H$ (see Corollary 2.8). Necessarily $r_0 (D) \leq n - s$ as $c(H) \cong \mathbb{R}^s$ contains a discrete
subgroup $D_1$ of rank $s$, so that $D_1 \times D$ will be a discrete subgroup of $\mathbb{R}^n$.


It is not hard to see that every discrete subgroup of $\mathbb{R}$ is cyclic (Exercise 3.20). The first part of the proof
consists in appropriately extending this property to discrete subgroups of $\mathbb{R}^n$ (see Proposition 4.39). The first
step is to see that the free-rank $r_0 (H)$ of a discrete subgroup $H$ of $\mathbb{R}^n$ coincides with the dimension of the
subspace of $\mathbb{R}^n$ generated by $H$.


\textbf{Lemma 4.38.} Let $H$ be a discrete subgroup of $\mathbb{R}^n$. If the elements $v_1, . . . , v_m$ of $H$ are $\mathbb{Q}$-linearly independent,
then they are also $\mathbb{R}$-linearly indipendent.


\emph{Proof.} Let $V \cong \mathbb{R}^k$ be the subspace of $\mathbb{R}^n$ generated by $H$. We can assume wlog that $V = \mathbb{R}^n$, i.e., $k = n$.
Hence we have to prove that the free-rank $m = r_0 (H)$ of $H$ coincides with $n$. Obviously $m \geq n$. We need to
prove that $m \leq n$. Let us fix $n$ $\mathbb{R}$-linearly independent vectors $v_1, . . . , v_n$ in $H$. It is enough to see that for
every $h \in H$ the vectors $v_1, . . . , v_n, h$ are not $\mathbb{Q}$-linearly independent. This would imply $m \leq n$. Let us note
first that we can assume wlog that $H \supseteq \mathbb{Z}^n$. Indeed, as $v_1, . . . , v_n$ are $\mathbb{R}$-linearly independent, there exists a
linear isomorphism $\alpha : \mathbb{R}^n \to \mathbb{R}^n$ with $\alpha(v_i) = e_i$ for $i = 1, 2, . . . , n$, where $e_1, . . . , e_n$ is the canonical base of
$\mathbb{R}^n$. Clearly, $\alpha(H)$ is still a discrete subgroup of $\mathbb{R}^n$ and the vectors $v_1, . . . , v_n, h$ are $\mathbb{Q}$-linearly independent iff
the vectors $e_1 = \alpha(v_1), . . . , e_n = \alpha(v_n), \alpha(h)$ are. The latter fact is equivalent to $\alpha(h) \neq \mathbb{Q}^n$. Therefore, arguing
for a contradiction, assume for simplicity that $H \supseteq \mathbb{Z}^n$ and there exists $h = (h^1, . . . , h^n) \in H$ such that


    $h \neq \mathbb{Q}^n$ (4)


By the discreteness of $H$ there exists an $\epsilon > 0$ with $max\{|h_i| : i = 1, 2, . . . , n\} \leq \epsilon$ for every
$0 \neq h = (h_1, . . . , h_n) \in H$. Represent the cube $C = [0, 1]^n$ as a finite union $\bigcup_i C_i$ of cubes $C_i$ of diameter $< \epsilon$ (e.g., take
them with faces parallel to the coordinate axes, although their precise position is completely irrelevant). For a
real number $r$ denote by $\{r\}$ the unique number $0 \leq x < 1$ such that $r - x \in \mathbb{Z}$. Then $(\{mv_1\}, . . . , \{mv_n\}) \neq (\{lh_1\}, . . . , \{lh_n\})$
for every positive $l \neq m$, since otherwise, $(m - l)h \in \mathbb{Z}^n$ with $m - l \neq 0$ in contradiction with
(4). Among the infinitely many points $a_m = (\{mh_1\}, . . . , \{mh_n\}) \in C$ there exist two $a_m \neq a_l$ belonging to the
same cube $C_i$. Hence, $|\{mh_j\} - \{lh_j\}| < \epsilon$ for every $j = 1, 2, . . . , n$. So there exists a $z = (z_1, . . . , z_n) \in \mathbb{Z}^n$,
such that $0 \neq (m - l)h - z \in H$ and $|(m - l)h_j - z_j | < \epsilon$ for every $j = 1, 2, . . . , n$, this contradicts the choice of
ε.


The aim of the next step is to see that the discrete subgroups of $\mathbb{R}^n$ are free.

\textbf{Proposition 4.39.} If $H$ is a discrete subgroup of $\mathbb{R}^n$, then $H$ is free and $r(H) \leq n$.


\emph{Proof.} In fact, let $m = r(H)$. By the definition of $r(H)$ there exist $m$ $\mathbb{Q}$-linearly independent vectors $v_1, . . . , v_m$
of $H$. By the previous lemma the vectors $v_1, . . . , v_m$ are also $\mathbb{R}$-linearly independent. Hence, $m \leq n$. Let
$V \cong \mathbb{R}^m$ be the subspace of Rn generated by $v_1, . . . , v_m$. Obviously, $H \subseteq V$ , since $H$ is contained in the
$\mathbb{Q}$-subspace of $\mathbb{R}^n$ generated by the free subgroup $F = \langle v_1, . . . , v_m \rangle di H$. Since $H$ is a discrete subgroup of $V$
too, we can argue with $V$ in place of $\mathbb{R}^n$. So, we can assume wlog that $m = n$ and $V = \mathbb{R}^n$. It suffices to see
that $H/F$ is finite. Then $H$ will be finitely generated and torsion-free, hence $H$ must be free.


    Since the vectors $v_1, . . . , v_n$ are linearly independent on $\mathbb{R}$ we can assume wlog that $H \supseteq \mathbb{Z}^n$. In fact, let
$\alpha : \mathbb{R}^n \to \mathbb{R}^n$ be the linear isomorphism with $\alpha(v_i) = e_i$ for $i = 1, 2, . . . , n$, where $e_1, . . . , e_n$ is the canonical base
of $\mathbb{R}^n$. Then $\alpha(H)$ is still a discrete subgroup of $\mathbb{R}^n, \mathbb{Z}^n = \alpha(F) \subseteq \alppha(H)$ and $H/F$ is finite iff $\alpha(H)/\alpha(F) \cong H/F$
is finite.


    In the sequel we assume $H \supseteq \mathbb{Z}^n = F$ for the sake of simplicity. To check that $H/F$ is finite consider the
canonical homomorphism $q : \mathbb{R}^n \to \mathbb{R}^n/\mathbb{Z}^n \cong \mathbb{T}^n$. According to Theorem 3.23, $q$ sends the closed subgroup $H$
onto a closed (hence compact) subgroup $q(H)$ of $\mathbb{T}^n$; moreover $H = q^{-1}(q(H))$, hence the restriction of $q$ to $H$
is open and $q(H)$ is discrete. Thus $q(H) \cong H/F$ is both compact and discrete, so $q(H)$ must be finite.


Now we are in position to prove Theorem 4.37. We advise the reader to review the warming exercise 3.20.


\textbf{Proof if Theorem 4.37.} Let $H \new 0$ a closed subgroup of $\mathbb{R}^n$. If $H$ discrete, then $H$ is free and generates a
linear subspace of $\mathbb{R}^n$ of dimension $r(H) \leq n$ by Proposition 4.39, so the assertion is true with $s = 0$.


    In case $H$ is not discrete we argue by induction on $n$. The case $n = 1$ is Exercise 3.20. Let $n > 1$ and assume
the theorem is true for $n - 1$. Consider the subset


    $M = \{u \in \mathbb{R}^n: \|u\| = 1 \text{ and } \exists \lambda \in (0, 1) \text{ with } \lambda u \in H\}$


of the unitary sphere $S$ in $\mathbb{R}^n$. For $u \in S$ let $N_u = \{r \in R : ru \in H\}$. Then $N_u$ is a closed subgroup of $\mathbb{R}$ and
$H \cap \mathbb{R}u = N_u u$. Our aim will be to find some $u \in S$ such that the whole line $\mathbb{R}u$ is contained in $H$. This will
allow us to use our inductive hypothesis. Since the proper closed subgroups of $\mathbb{R}$ are cyclic (see Exercise 3.20),
it suffices to find some $u \in S$ such that $N_u$ is not cyclic.


    \textbf{Case 1.} If $M = {u_1, . . . , u_n}$ is finite, then there exists an index $i$ such that $\lambda u_i \in H$ for infinitely many
$\lambda \in (0, 1)$. Then the closed subgroup $N_{u_i}$ cannot be cyclic, so $H$ contains to line $\mathbb{R}u_i$ and we are done.


    \textbf{Case 2.} Assume $M$ is infinite. By the assumption $H$ is not discrete there exists a sequence $u_n \in M$ such
that the corresponding $\lambda_n$, with $\lambda_n u_n \in H$, converge to 0. By the compactness of $S$ there exists a limit point
$u_0 \in S$ for the sequence $u_n \in M$. We can assume wlog that $u_n \to u_0$. Let $\epsilon > 0$ and let $\Delta_\epsilon$ be the open interval
$(\epsilon, 2\epsilon)$. As $\lambda_n \to 0$, there exists $n_0$ such that $\lambda_n < \epsilon$ for every $n \geq n_0$. Hence for every $n \geq n_0$ there exists an
appropriate $k_n \in \mathbb{N}$ with $\eta n = k_n \lambda_n ∈ \Delta_\epsilon$. Taking again a subsequence we can assume wlog that there exists
some $\xi_\epsilon \in \bar{\Delta_\epsilon}$ such that $\eta_n \to \xi_\epsilon$. Hence $\xi_\epsilon u_0 = lim_n k_n \lambda_n u_0 \in H$. This argument shows that $N_{u_0}$ contains
$\xi_\epsilon \in \bar{\Delta_\epsilon}$ with arbitrarily small $\epsilon$. Therefore, $N_{u_0}$ cannot be cyclic. Hence $H$ contains the line $\mathbb{R}u_0$.


    We proved in all cases that our assumption of non-discreteness of $H$ yields the existence of a line $L \cong \mathbb{R}$ as
a subgroup of $H$. Let $L' \cong \mathbb{R}^{n−-}$ be a subspace of $\mathbb{R}^n$ complementing $L$. Then $\mathbb{R}^n = L \times L'$ and the projection
$\mathbb{R}^n \to L'$ sends $H$ to a closed subgroup $H_1$ of $L'$ as $L \leq H$ (cf. 3.23 (b)). Moreover, $H = L \times H_1$ in view of
$L \leq H$ again. Now proceed by induction with the subgroup $H_1$ of $L' \cong \mathbb{R}^{n-1}$. This proves Theorem 4.37.


    The next corollary describes the quotients of $\textbb{R}^n$.


\textbf{Corollary 4.40} A quotient of $\mathbb{R}^n$ is isomorphic to $\mathbb{R}^k \times \mathbb{T^}m$, where $k + m \leq n$. In particular, a compact
quotient of $\mathbb{R}n$ is isomorphic to $mathbb{T}^m$ for some $m \leq n$.


\emph{Proof.} Let $H$ be a closed subgroup of $\mathbb{R}^n$. Then $H = V + D$, where $V, D$ are as in Theorem 4.37. If $s = dim V$
and $m = r_0 (D)$, then $s + m \leq n$. Let $V_1$ be the linear subspace of $\mathbb{R}^n$ spanned by $D$. Pick a complementing
subspace $V_2$ for the subspace $V + V_1$ and let $k = n - (s + m)$. Then $\mathbb{R}^n = V + V_1 + V_2$ is a factorization in
direct product. Therefore $\mathbb{R}^n/H \cong (V_1/D) \times V_2$. Since $dim V_1 = r_0 (D) = m$, one has $V_1 / D \cong \mathbb{T}^m$. Therefore,
$\mathbb{R}^n / H \cong \mathbb{T}^m \times \mathbb{R}^k$.


Let us denote by $(x|y)$ the usual scalar product in $\mathbb{R}^n$. Recall that every base $v_1, . . . , v_n di \mathbb{R}n$ admits a dual
base $v'_1 , . . . , v'_n$ defined by the relations $(v_i |v'_j ) = \delta_{ij}$. For a subgroup $H$ of $\mathbb{R}^n$ define the \emph{associated subgroup}
$H^{\uparrow}$ setting


    $H^{\uparrow} := \{u \in \mathbb{R}^n : (\forall x \in H)(x|u) \in \mathbb{Z}\}$


Then obviously ${(\mathbb{Z}^n)}^{\uparrow} =  \mathbb{Z}^n$


\textbf{Lemma 4.41} Let $H$ be a subgroup $di \mathbb{R}^n$. Then:

    \begin{enumerate}

        \item $H^{\uparrow}$ is a closed subgroup of $\mathbb{R}^n$ and the correspondence $H \mapsto H^\uparrow$ is decreasing;
        
        \item $(\bar{H})^\uparrow = H^{\uparrow}$

    \end{enumerate}

    \emph{Proof.} The map $\mathbb{R}^n \times \mathbb{R}^n \to \mathbb{R}$ defined by $(x, y) \mapsto (x|u)$ is continuous.
    
    
        (a) Let $q : R \to T = R/Z$ be the canonical homomorphism. Then for every fixed $a \in \mathbb{R}^n$ the assignment
    $x \mapsto (a|x) \mapsto f((a|x))$ is a continuous homomorphism $\chi_a : \mathbb{R}^n \to \mathbb{T}$. Hence the set
    $\chi^{-1}_h (0) = {u \in \mathbb{R}^n : (\forall h \in H)(h|u) ∈ Z}$ is closed in $\mathbb{R}^n$. Therefore $H^{\uparrow} =\bigcup_{h \in H} \chi^{-1}_h (0)$ is closed. The same equality proves that the
    correspondence $H \mapsto H^*$ is decreasing.
    
    
        (b) From the second part of (a) one has $(\bar{H})^\uparrow = H^{\uparrow}$. Suppose that $u \in H^{\uparrow}e x \in \bar{H}$. By the continuity of the
    map $\chi_x (u) = \chi_u(x)$, as a function of $x$, one can deduce that $\chi_x(u) = 0$, being $\chi_u(h) = 0$ for every $h \in H$.
    
    
        We study in the sequel the subgroup $H^{\uparrow}$ associated to a closed subgroup $H$ of $\mathbb{R}^n$. According to Theorem
    4.37 there exist a base $v_1, . . . , v_n$ of $\mathbb{R}^n$ and $k \leq n$, such that for some $0 \leq s \leq k H = V \oplus L$ where $V$ is the
    linear subspace generated by $v_1, . . . , v_s$ and $L = \langle v_{s+1}, . . . , v_k \rangle$. Let $v'_1    , . . . , v'_n$ be the dual base of $v_1, . . . , v_n$.
    

\textbf{Lemma 4.42} In the above notation the subgroup $H^{\uparrow}$ coincides with $\langle v'_{s+1}, . . . , v'_{k} \rangle + W$, where $W$ is the linear
subspace generated by $v'_{k+1}, . . . , v'_n$.


\emph{Proof.} Let $V'$ be the linear subspace generated by $v'_1, . . . , v'_s, V''$ the linear subspace generated by $v'_{s+1}, . . . , v'_k$
and $L' = v'_{s+1}, . . . , v'_k \rangle$. Then $L^{\uparrow} = V' + L' + W$, while $V^{\uparrow} = V'' + W$. Hence $H^{\uparrow} \leq L^{\uparrow} \cap V^{\uparrow} = L' + W$. On the
other hand, obviously $L' + W \leq H^{\uparrow}$.


\textbf{Corollario 4.43} $\bar{H} = (H^{\uparrow})^{\uparrow}$ for every subgroup $H$ of $\mathbb{R}^n$


\emph{Proof.} If $H$ is closed of the form $V+L$ in the notation of the previous lemma, then $H^{\uparrow} = L' + W$ with $v'_1, . . . , v'_n$,
$L'$ and $W$ defined as above. Now $H^{\uparrow} = L' + W$ is a closed subgroup of $\mathbb{R}^n$ by Lemma 4.41 and $v_1, . . . , v_n$ is a
dual base of $v'_1, . . . , v'_n$. Therefore, $H = V + L$ coincides with $(H^{\uparrow})^{\uparrow}$

\textbf{Lemma 4.44} Let $V$ be a hyperplain in $\mathbb{R}^n$ determined by the equation $\sum^n_{i=1} a_i x_i = 0$ such that there exists
at least one coefficient $a_i = 1$. Then the subgroup $H = V + \mathbb{Z}^n$ of $\mathbb{R}^n$ is not dense iff all the coefficients $a_i$ are
rational.


\emph{Proof.} We can assume wlog that $i = n$. Suppose that $H$ is not dense in $\mathbb{R}^n$. Then $H^{\uparrow} \neq 0$ by Corollary
4.43. Let $0 \neq z \in H^{\uparrow}$. Since $\mathbb{Z}^n \leq H$, one has $H^{\uparrow} \leq \mathbb{Z}^n = (\mathbb{Z}n)^{\uparrow}$, so $z \in \mathbb{Z}^n$. If $j < n$, then $a_j \in \mathbb{Q}$ as
$v = (0, . . . , 0, 1, 0, . . . , 0, -a_j ) \in V$


The next proposition is a particular case of the well-known Kronecker's theorem.


\textbf{Proposition 4.45} Let $v_1, . . . , v_n \in \mathbb{R}$. Then for $v = (v_1, . . . , v_n) \in \mathbb{R}^n$ the subgroup $\langle v \rangle + \mathbb{Z}^n$ of $\mathbb{R}^n$ is dense
iff $v_0 = 1, v_1, . . . , v_n \in \mathbb{R}$ are linearly independent as elements of the vector space $\mathbb{R}$ over $\mathbb{Q}$.


\emph{Proof.} Assume $v_0 = 1, v_1, . . . , v_n \in \mathbb{R}$ are linearly independent and let $H =\langle v \rangle + \mathbb{Z}^n$. Then $H^{\uparrow} \subseteq \mathbb{Z}^n = (\mathbb{Z}^n)^{\uparrow}$.
It is easy to see now that some $z \in \mathbb{Z}^n$ belongs to $(\langle v \rangle)^{\uparrow}$ iff $z = 0$. This proves that $H^{\uparrow} = 0$. Consequently $H$ is
dense in $\mathbb{R}^n$ by Corollary 4.43. If $\sum^n_{i=0} k_i v_i = 0$ is a non-trivial linear combination with $k_i \in \mathbb{Z}$, then the vector
$k = (k_1, . . . , k_n) \in \mathbb{Z}^n$ is non-zero and obviously $k \in H^{\uparrow}$. Thus $H^{\uparrow} \neq 0$, hence $H$ is not dense.


\textbf{Theorem 4.46} $\mathbb{T}^\mathfrak{c}$ is monothetic.


\emph{Proof.} Let $B$ be a Hamel base of $\mathbb{R}$ on $\mathbb{Q}$ that contains 1 and let $B_0 = B\{1}$. Applying the previous proposition
one can see that the element $x = (x_b)_{b \in B_0} \in \mathbb{T}^{B_0}$, defined by $x_b = b + \mathbb{Z} \in \mathbb{R}/\mathbb{Z} = \mathbb{T}$, is a generator of the group
$\mathbb{T}^{B_0}$. To conclude note that $|B_0| = |\mathbb{R}| = \mathfrak{c}$.


\textbf{Corollary 4.47} Let $C$ be a closed subgroup of $\mathbb{T}^n$. Then $C$ is isomorphic to $\mathbb{T}^s \to F$ where $s \leq n$ and $F$ is a
finite abelian group.


\emph{Proof.} Let $q : \mathbb{R}^n \to \mathbb{T}^n = \mathbb{R}^n / \mathbb{Z}^n$ be the canonical projection. If $C$ is a closed subgroup of $\mathbb{T}^n$, then $H = q^{-1}(C)$
is a closed subgroup of $\mathbb{R}^n$ that contains $\mathbb{Z}^n = ker q$. Hence $H$ is a direct product $H = V + D$ with $V \cong \mathbb{R^}s$
and $D \cong \mathbb{Z}^m$, where $s$ and $m$ satisfy $s + m = n$ as $\mathbb{Z}^n \leq H$. Since the restriction of $q$ to $H$ is open by Theorem
3.23, we conclude that the restriction of $q$ to $V$ is open as far as $V$ is open in $H$. Hence $q \upharpoonright_V : V \to q(V)$ is an
open surjective homomorphism and the subgroup $q(V )$ is open in $C$. Since $q(V )$ is also divisible, we can write
$C = q(V ) \times F$, where the subgroup $F$ of $C$ must be discrete. Since $C$ is compact, this implies that $F$ is finite.
On the other hand, as a compact quotient of $V \cong \mathbb{R}^s$ the group $q(V )$ is isomorphic to $\mathbb{T}^s$ by Corollary 4.40.
Therefore, $C \cong \mathbb{T}^s \times F$.


\textbf{Exercise 4.48} Determine for which of the following possible choices of the vector $v \in \mathbb{R}^4$


        $(\sqrt{2}, \sqrt{3}, \sqrt{5}, \sqrt{6}), (\sqrt{2}, \sqrt{3}, \sqrt{5}, \sqrt{7}), (\log{2}, \log{3}, \log{5}, \log{6}),$

        $(\log{2}, \log{3}, \log{5}, \log{7}), (\log{3}, \log{5}, \log{7}, \log{9}), (\log{5}, \log{7}, \log{9}, \log{11})$


    the subgroup $\langle v \rangle + \mathbb{Z}^4$ of $\mathbb{R}^4$ is dense.


\textbf{Exercise 4.49}

    \begin{itemize}
        
        \item (a) Prove that a subgroup $H$ of $\mathbb{T}$ is dense iff $H$ is infinite.

        \item (b) Determine the minimal (w.r.t. inclusion) dense subgroups $\mathbb{T}$.

        \item (c)* Determine the minimal (w.r.t. inclusion) dense subgroups $\mathbb{T}^2$

    \end{itemize}


\section{Folner's Theorem}
This section is entirely dedicated to Følner's theorem.


\subsection{Fourier theory for finite abelian groups}
In the sequel $G$ will be a finite abelian group, so $G^* \cong G$, so in particular $|G^*| = |G|$.


    Here we recall some well known properties of the scalar product in finite-dimensional complex spaces $V = \mathbb{C}^n$. 
Since our space will be “spanned” by a finite abelian group $G$ of size $n$ (i.e., $V = \mathbb{C}^G$), we have also an action
of $G$ on $V$ . We normalize the scalar product in a such way to let the vector $(1, 1, . . . , 1)$ (i. e., the constant
function 1) to have norm 1. The reader familiar with Haar integration may easily recognize in this the Haar
integral on $G$.


    Define the scalar product by


        $(f, g) = \frac{1}{|G|} \sum_{x \in G} f(x) \bar{g(x)}$.


Let us see first that the elements of the subset $G^*$ of $V$ are pairwise orthogonal and have norm 1:


\textbf{Proposition 5.1}. Let G be an abelian finite group and $\varphi, \chi \in G^*$, $x, y \in G$. Then:

    \begin{itemize}
 
        \item (a) $\frac{1}{|G|} \sum_{x \in G} \varphi(x) \bar{\chi(x)} = \{^{1 \text{ if } \varphi = \chi}_{0 \text{ if } \varphi \neq \chi};\}$

        \item (b) $\frac{1}{|G^*|} \sum_{x \in G^*} \chi(x) \bar{\chi(y)} = \{^{1 \text{ if } x = y}_{0 \text{ if } x \neq y};\}$

    \end{itemize}


\emph{Proof.} (a) If $\varphi = x$ then $\chi(x) \bar{\chi(x)} = \chi(x) \chi(x)^{-1} = 1$

    
    If $\varphi \neq \chi$ there exists $z \in G$ such that $\varphi(z) \neq \chi(z)$. THerefore the following equalities


    $\sum_{x \in G} \varphi(x) \bar{\chi(x)} = \frac{\varphi(z)}{\chi(z)} \sum_{x \in G} \varphi(x-z) \bar{\chi(x-z)} = \frac{\varphi(z)}{\chi(z)} \sum_{\chi \in G} \varphi(x) \bar{\chi(y)}$


imply that $\sum_{x \in F} \varphi(x)\bar{\chi(x)} = 0$


    (b) If $x = y$ then $\chi(x) \bar{\chi(x)} = \chi(x) \chi(x)^{-1} = 1$


    If $x \neq y$, by Corollary 2.7 there exists $\chi_0 \in G^*$ such that $\chi_0(x) \neq \chi_0(y)$. Now we can proceed as before,
that is


    $\sum_{x \in G^*} \chi(x) \bar{\chi(y)} = \frac{\chi_0 (x)}{\chi_0 (y)} \sum_{x \in G^*} (\chi \chi_0) (x) \bar{(\chi \chi_0)(y)} = \frac{\chi_0 (x)}{\chi_0 (y)} \sum_{\chi \in G^*} \chi(x) \bar{\chi(y)}$


yeilds $\sum){\chi \in G^*} \chi(x) \bar{\chi(y)} = 0$.


    If $G$ is a finite abelian group and $f$ is a complex valued function on $G$ then for every $\chi \in G^*$ we can define


        $c_\chi = (f,\chi) = \frac{1}{|G|} \sum_{x \in G} f(x) \bar{\chi(x)}$

    that is the \emph{Fourier coefficient} of $f$ corresponding to $\chi$.


    For complex valued functions $f,g$ on a finite abelian group $G$ define the $convolution$ 
$f * g$ by $(f * g)(x) = \frac{1}{|G|} \sum_{y \in G} \bar{f(y)} g(x + y)$.


\textbf{Proposition 5.2} Let $G$ be an abelian finite group and $f$ a complete valued function on $G$ with Fourier coefficients 
$c_\chi$ where $\chi \in G^*$. Then:

    \begin{itemize}

        \item (a) $f(x) = \sum_{\chi \in G^*} c_\chi \chi(x)$ for every $x \in G$;

        \item (b) if $\{a_\chi\}_{\chi \in G^*}$ is such that $f(x) = \sum_{\chi \in G^*} a_\chi \chi(x)$, then $a_\chi = c_\chi$ for every $\chi \in G^*$;

        \item (c) $\frac{1}{|G|} \sum_{x \in G^*} |f(x)|^2| = \sum_{\xhi \in G^*} |x_\chi^2|$; 

        \item (d) if $g$ is an other coomplex valued function on $G$ with Fourier coefficients $(d_\chi)_{\chi \in G^*}$, then $f * g$ has Fourier
        coefficients $(\bar{c_\chi} d_\chi)_{\chi \in G^*}$

    \end{itemize}

\{Proof.} (a) The definition of the coefficients $c_\chi$ yeilds

    $\sum_{\chi \in G^*} c_\chi \chi(x) = \sum_{\chi \in G^*} \frac{1}{|G|} \sum_{y \in G} f(y) \bar{\chi(y)} \chi(x)$\dots


    Computing $\sum_{\chi \in G^*} \bar{\chi (y)} \chi(x)$ with Proposition 5.1(b) we get $\sum_{\chi \in G^*} c_\chi \chi(x) = \frac{|G^*|}{|G|}f(x)$ for every $x \in G$. Now
$|G| = |G^*|$ gives $f(x) = \sum_{\chi \in G^*} c_\chi \chi(x)$ for every $x \in G$.


    (b) By Proposition 5.1 the definition of the coefficients $c_\chi$ and the relation $f(x) = \sum_{\chi \in G^*} a_\chi \chi(x)$


        $c_\chi = \frac{1}{|G|} \sum_{\varphi \in G^*} a_\varphi \sum_{\chi \in G} f(y)\bar{\chi(x)} = a_\chi$


    (d) By item (a) $g(x) = \sum_{\varphi \in G^*} d_\varphi \varphi(x)$ for every $x \in G$. Therefore
    

        $\sum_{y \in G} \bar{f(y)} g(x+y) = \sum_{y \in G} (\sum_{\chi \in G^*} \bar{c_\chi} \bar{\chi(y)}) (\sum_{\varphi \in G^*} d_\varphi \varphi(x) \varphi(y)) = $
            $ = \sum_{\chi \in G^*} \sum_{\varphi \in G^*} \bar{c_\chi} d_\chi \varphi(x) \sum_{y \in G} \bar{\chi(y)} \varphi(y) = |G| \sum_{\chi \in G^*} \bar{c_\chi} d_\chi \chi(x)$


    (c) It is sufficient to apply (d) with $g = f$ and let $x = 0$.


\textbf{Corollary 5.3} Let $G$ be a finite abelian group, $E$ be a non-empty subset of $G$ and let $f$ be the characteristic
function of $E$. Then for the convolution $g = f * f$ one has


    \begin{itemize}

        \item (a) $g(x) > 0$ iff $x \in E_{(2)}$;
        
        \item (b) $g(x) = \sum_{\chi \in G^*} |c_\chi|^2 \chi(x)$

    \end{itemize}


\emph{Proof} (a) $g(x) > 0$ if and only if there exists $y \in E$ with $x + y \in E$, that is $x \in E - E = E_{(2)}$.
(b) follows obviously from Proposition 5.2(d).


\subsection{Biogoliouboff and Folner Lemmas}


\textbf{Lemma 5.4 (Bogoliouboff)} If $F$ is a finite abelian group and $E$ is a non-empty subset of $F$, then
there exist $\chi_1, . . . , \chi_m \in F^*$, where $m = [(\frac{|F|}{|E|}^2)]$, such that $U(\chi_1, . . . , \chi_m ; \frac{\pi}{2}) \subseteq E_{(4)}$.


\emph{Proof} Let $f$ be the characteristic function of E. By Proposition 5.2(a) we have


    $f(x) = \sum_{\chi \in F^*} c_\chi \chi(x)$, with $c_\chi = \frac{1}{|F|} \sum_{x \in F} f(x) \bar{\chi(x)}$.  (1)


Define $g = f \circ f$ and $h = g * g$. The functions $f$ and $g = f * f$ have real values and by Corollary 5.3


    $g(x) = \sum_{\chi \in F^*} |c_\chi|^2 \chi(x)$ and $h(x) = \sum_{\chi \in F^*} |c_\chi|^4 \chi(x)$ for $x \in F$.  (2)


Moreover, $g(x) > 0$ if and only if $x \in E - E = E_{(2)}$. Analogously $h(x) > 0$ if and only if $x \in E_{(4)}$.


    By Proposition 5.2(c) $\sum_{\chi \in F^*} |c_\chi|^2 = \frac{|E|}{|F|}$. Set $a = \frac{|E|}{|F|}$ and order the Fourier coefficients of $f$ so that


        $|c_{\chi_0}| \geq |c_{\chi_1}| \geq \dots |c_{\chi_k}| \geq \dots$


(note that they are finitely many). Thus $\chi_0 = 1$ and $c_{\chi_0} = a$ by (1). Then $\sum^k_{i=0} |c_{\chi_i}|^2 \leq \sum_{\chi \in F^*} |c_\chi|^2 = a$ for
every $k \geq 0$. Consequently $(k + 1) |c_{\chi_k}|^2 \leq a$, so


        $|c_{\chi_k}| \leq \frac{a^2}{(k + 2)^2}$  (3)


Now let $m = [\frac{1}{a^2}]$. We are going to show now that with these $\chi_1, \dots, \chi_m \in F^*$ one has


    $h(x) > 0$ for every $x \in U(\chi_1, \dots, \chi_m; \frac{\pi}{2})$.  (4)


Clearly $Re\chi_k(x) \geq 0$ for $k = 1,2, \dots, m$ whenever $x \in U(\chi_1, \dots, \chi_m; \frac{\pi}{2})$ thus


    $|a^4 + \sum^m_{k = 0} |c_{\chi_k}|^4 \chi_k(x)| \geq Re(a^4 + \sum^m_{k=1} |c_{\chi_k}|^4 \chi_k (x) \geq a^4)$.  (5)


On the other hand, (3) yields


    $\sum_{k \geq m + 1} |c_{\chi_k}|^4 \leq \sum_{k \geq m + 1} \frac{a^2}{(k + 1)^2} < a^2 \sum_{k \geq m + 1} \frac{1}{k(k+1)} \leq \frac{a^2}{m+1}$. (6)


Since h has real values, (2), (5) and (6) givee


$h(x) = |h(x)| = |a^4 + |c_{\chi_1}|^4 \chi_1 (x) + \dots | \geq |a^4 + \sum^m_{k=1} |c_{\chi_k}|^4 \chi_k (c)| - \sum_{k \geq m + 1} |c_{\chi_k}|^4 \geq a^4 - \frac{a^2}{m+1} \geq a^2(a^2 - \frac{1}{m+1}) > 0$.


This proves (4). Therefore $U(\chi_1, \dots, \chi_m; \frac{\pi}{2}) \subseteq E_{(4)}$.



Let us note that the estimate for the number $m$ of characters is certainly non-optimal when $E$ is too small.
For example, when $E$ is just the singleton $\{0\}$, the upper bound given by the lemma is just $|F|^2$, while one
can certainly find at most $m = |F| - 1$ characters $\chi_1, . . . , \chi_m$ (namely, all non-trivial $\chi_i \in F^*$) such that
$U(\chi_1, . . . , \chi_m; \frac{\pi}{2}) = \{0\}$. For certain groups (e.g., $F = \mathbb{Z}^k_2$) one can find even a much smaller number (say
$m = \log_2|F|$). Nevertheless, in the cases relevant for the proof of Folner's theorem, namely when the subset $E$
is relatively large with respect to $F$, this estimate seems more reasonable.


    The next lemma will be needed in the following proofs.


\textbf{Lemma 5.5} Let $A$ be an abelian group and ${A_n}^{\infty}_{n=1}$ be a sequence of finite subsets of $A$ such that


    $\lim_{n \to \infty} \frac{|(A_n - a) \cap A_n|}{|A_n|} = 1$


for every $a \in A$. If $k$ is a positive integer and $V$ is a subset of A such that $k$ translates of $V$ cover $A$. then for
every $\varepsilon > 0$ there exists $N > 0$ such that


    $|V \cap A_n| > (\frac{1}{k} - \varepsilon) |A_n|$ (7)


for every $i = 1, \dots, k$. Since $A_n = \bigcup^k_{i=1} (a_i + V) \cap A_n$, for every $n$ there exists $i_n \in \{1, \dots, k\}$ such that


    $\frac{1}{k} |A_n| \leq |(a_{i_n} + V) \cap A_n| = |V \cap (A_n - a_{i_n})|$.


Since $V \cap (A_n - a_{i_n}) \subseteq (V \cap A_n) \cup ((A_n - a_{i_n}) / A_n)$  (7) yields


    $\frac{1}{k}|A_n| \leq |V \cap (A_n - a_{i_n})| \leq |V \cap A_n| + |(A_n - a_{i_n}) / A_n| < |V \cap A_n| + \varepsilon |A_n|$.



\textbf{Lemma 5.6 (Bogoliouboff-Folner lemma)}. Let $A$ be a finitely generated abelian group and let $r = r_0 (A)$. If
$k$ is a positive integer and $V$ is a subset of $A$ such that $k$ translates of $V$ cover $A$, then there exist $\rho_1, . . . , \rho_s \in A^*$,
where $s = 3_{2r}k^2$, such that $UA(\rho_1, . . . , \rho_s; \frac{\pi}{2}) \subseteq V_{(4)}$.


\emph{Proof.} By Theorem 2.1 we have $A \cong \mathbb{Z}^r \times F$, where $F$ is a finite abelian group; so we can identify $A$ with the
group $\mathbb{Z}^r \times F$. Define $A_n = (-n, n]^r \times F$, let $a = (a_1, . . . , a_r; f) \in \mathbb{Z}^r \times F$. Then $J_{ni} = (-n, n] \cap (-n-a_i, n-a_i]$
satisfies $|J_{ni}| \geq 2n - |a_i|$. In particular, $J_{ni} \neq ∅$ for every $n > n_0 = max{|a_i| : i = 1, 2, . . . , n}$. As
$(A_n-a) \cap A_n = \Pi^r_{i=1} J_{ni} \times F$, we have


    $|(A_n - a)\cap A_n| \geq |F| * \Pi^r_{i=0} (2n - |a_i|)$

or all $n > n_0$. Since $|A_n| = |F|(2n)^r$, we can apply Lemma 5.5. Thus for every $\varepsilon > 0$ we have


    $|V \cap A_n| > (\frac{1}{k} - \varepsilon) |A_n|$\dots


for every sufficiently large $n$. For $n$ with (8) define $G = A/(6n\mathbb{Z}^r)$ and $E = q(V \cap A_n)$ where $q$ is the canonical
projection of $A$ onto $G$. Observe that $q \upharpoonright_{A_n}$ is injective, as $(A_n - A_n) \cap ker q = \{0\}$. Then (8) gives


    $|E| = |V \cap A_n| > (\frac{1}{k} - \varepsilon) |A_n| = (\frac{1}{k} - \varepsilon) (An)^r |F|$


and so 


    $\frac{|G|}{|E|} \leq \frac{(6n)^r |F|}{(\frac{1}{k} - \varepsilon) (2n)^r |F|} = \frac{3^r k}{1 - k \varepsilon}$


Fix $\varepsilon > 0$ sufficiently small to have $[\frac{3^{2r}k^2}{(1-k \varepsilon)^2}] = 3^{2r}k^2$ and pick sufficiently large $n$ to have (8). Now apply the
Bogoliouboff Lemma 5.4 to find $s = 3^{2r}k^2$ characters $\xi_{1_n}, . . . , \xi_{s_n} \in G^*$ such that $U_G(\xi_{1_n}, . . . , \xi_{s_n}; \frac{\pi}{2}) \subseteq E_{(4)}$.
For $j = 1, . . . , s$ define $\varrho_{jn} = \xi_{jn} \circ \pi \in A^*$. If $a \in A_n \cap U_A(\varrho_{1n}, . . . , \varrho_{sn}; \frac{\ppi}{2})$ then $q(a) \in U_A(\xi_{1n}, . . . , \xi_{sn};\frac{\pi}{2}) \subseteq E(4)$
and so there exist $b_1, b_2, b_3, b_4 \in V \cap A_n$ and $c = (c_i) \in 6n \mathbb{Z}^r$ such that $a = b_1 - b_2 + b_3 - b_4 + c$. Now


    $c = a - b_1 + b_2 - b_3 + b_4 \in (A_n)_{(4)} + A_n$


implies $|c_i| \leq 5n$ for each $i$. So $c = 0$ as $6n$ divides $c_i$ for each $i$. Thus $a \in V_{(4)}$ and so


    $A_n \cap U_A (\varrho_{1n}, \dots, \varrho_{sn}; \frac{\pi}{2}) \subseteq V_{(4)}$  (9)


for all $n$ satisfying (8).


    By Lemma 4.2 there exists $\varrho_1, \dots, \varrho_s \in A^*$ and a subsequence $\{n_l\}_l$ of $\{n\}_{n \in \mathbb{N}_+}$ such that $\varrho_i (a) = lim_l \varrho_{in_l} (a)$
for every $i = 1, \dots, s$ and $a \in A$. We are going to prove now that


    $U_A (\varrho_1, \dots, \varrho_s; \frac{\pi}{2}) \subseteq V_{(4)}$  (10)


    Take $a \in U_A (\varrho_1, \dots, \varrho_s; \frac{\pi}{2})$. Since $A = \bigcup^{\infty}_{l=k}A_{n_l}$ for every $k \in \mathbb{N}_+$, there exists $n_0$ satisfying (8) and $a \in A_{n_0}$. 
As $\varrho_i(a) = \lim_l \varrho_{in_l}(a)$ for every $i = 1, \dots, s$, we can pick $l$ to have $n_l \geq n_0$ and $|Arg(\varrho_{in_l} (a))| < \pi/2$ for every
$i = 1, \dots, s,$ i.e., $a \in U_A (\varrho_{1n_l}, \dots, \varrho_{sn_l}; \frac{\pi}{2}) \cap A_{n_l}$. Now (9), applied to $n_l$, yields $a \in V_{(4)}$. This proves (10).


    Our next aim is to eliminate the dependence of the number $m$ of characters on the free rank of the group $A$
in Bogoliouboff - Folner's lemma. The price to pay for this is taking $V_{(8)}$ instead of $V_(4)$.


\textbf{Lemma 5.7 (Folner lemma)}. Let $A$ be an abelian group. If $k$ is a positive integer and $V$ be a subset of $A$ such
that $k$ translates of $V$ cover $A$, then there eexist $\chi_1, \dots, \chi_m \in A^*$, where $m = k^2$, such that $U_A (\chi_1, \dots, \chi_m; \frac{\pi}{2}) \subseteq V_{(8)}$ 


\emph{Proof}. We consider first the case when $A$ is finitely genereated. Let $r = r_0 (A)$. By Lemma 5.6 there exist 
$\varrho_1, \dots, \varrho_s \in A^*$, where $s = 3^{2r}k^2$, such that


    $U_A (\varrho_1, \dots, \varrho_s; \frac{\pi}{2}) \subseteq V_{(4)}$ 



    Since it is finitely generated, we can identify $A$ with $\mathbb{Z}^r \times F$, where $F$ is a finite abelian group. For $t \in \{1, \dots, r\}$define
a monomorphism $i_l : \mathbb{Z} \hookrightarrow A$ by letting


    $i_l (n) - (\underbrace{0, \dots, 0, n}_t, 0, \dots, 0; 0) \in A$


    Then each $κ_{jt} = \varrho_j \circ i_t$, where $j \in {1, . . . , s}, t \in {1, . . . , r}$, is a character of $\mathbb{Z}$. By Proposition 4.30 the subset


    $L = U_{\mathbb{Z}} (\{\kappa_{jt} : j = 1, \dots, s, t=1, \dots, r\}; \frac{\pi}{8r})$


of $\mathbb{Z}$ is infinite. Let $L^0 = \bigcup^r_{t=1} i_t (L)$, i.e., this is the set of all elements of $A$ of the form $\pm i_t (n)$ with $n \in L$ and 
$t \in \{1, \dots, r\}$. Then obviously $L^0 = -L^0 \subseteq U_A (\varrho_1, \dots, \varrho_s; \frac{\pi}{8r})$, therefor,


    $L^0_{(4r)} \subseteq U_A (\varrho_1, \dots, \varrho_s; \frac{\pi}{2}) \subseteq V_{(4)}$.  $(\lambda)$


    
    Define $A_n = (-n, n]r \times F$ and pick $\varepsilon > 0$ such that $\frac{k}{1-k\varepsilon}^2= k^2$. As in Lemma 5.6 $A_n$ satisfies the
hypotheses of Lemma 5.5 and so $|V \cap A_n| > (\frac{1}{k} - \varepsilon)|A_n|$ for sufficiently large $n$. Moreover, we choose this
sufficiently large n from L. Let $G_n = A/(2n \mathbb{Z}^r) \cong \mathbb{Z}^r_{2n} \times F$ and $E = q(A_n \cap V )$ where $q$ is the canonical
projection $A \to G_n$. Then $q \upharpoonright_{A_n}$ is injective as $(A_n - A_n) \cap ker q = 0$. So $q$ induces a bijection between $A_n$ and
$G_n$ on one hand, and between $V \cap A_n$ and $E$. Thus $|A_n| = |G_n| = (2n)^r |F|$, $|E| > (\frac{1}{k} - \varepsilon)|An|$ and so


    $(\frac{|Gn|}{|E|})^2 \leq (\frac{k}{\varepsilon k - 1})^2 \leq k^2$


    
    To the finite group $G_n$ apply the Bogoliouboff Lemma 5.4 to get $\xi_{1n}, \dots , \xi_{mn} \in G^*_n$, where $m = k^2$, such tha


    $U_{G_n} (\xi_{1n}, \dots, \xi_{mn}; \frac{\pi}{2}) \subseteq E_{(4)}$.

    
Let $\chi_{jn} = \xi_{jn} \circ q \in A^*$. If $a \in A_n \cap U_A(\chi_{1n}, . . . , \chi_{mn}; \frac{\pi/2})$, then $q(a) \in U_{G_n}(\xi_{1n}, . . . , \xi_{mn}; \frac{\pi}{2}) \subseteq E_{(4)}$. Therefore
there exist $b_1, b_2, b_3, b_4 \in A_n \cap V$ and $c = (c_i) \in 2n\mathbb{Z}^r$ such that $a = b_1 - b_2 + b_3 - b_4 + c$. Since $2n$ divides $c_i$ for
every $i$ and $|c_i| \leq 5n$, we conclude that $c_i \in {0, \pm 2n \pm 4n}$ for $i = 1, 2, . . . , r$. This means that $c$ can be written
as a sum of at most $4r$ elements of $L^0$. This gives $c ∈ L^0_{(4r)} \subseteq V(4)$ by $(\lambda)$, consequently $a \in V_{(8)}$. Therefore


    $A_n \cap U_A (\chi_{1n}, \dots, \chi_{mn}; \frac{\pi}{2}) \subseteq V_{(8)}$


for $n \in L$ sufficiently large $n$. By Lemma 4.2 there exist $\chi_1, . . . , \chi_m \in A^*$ and a subsequence $\{n_l\}_l$ of $\{n\}_{n \in \mathbb{N}_+}$
such that $\chi_j (a) = lim_l \chi_{jn_l}(a)$ for every $j = 1, . . . , m$ and for every $a \in A$. Being $A =\bigcup \{A_n : l > k, n_l \in L\}$ for
every $k \in \mathbb{N}_+$ we can conclude as above that $U_A (\chi_1, . . . , \chi_m; \frac{\pi}{2}) \subseteq V_{(8)}$.


    Consider now the general case. Let $g_1, . . . , g_k \in A $be such that $A =\bigcup^k_{i=1}(g_i + V)$. Suppose that $G$ is a
finitely generated subgroup of $A$ containing $g_1, . . . , g_k$. Then $G = \bigcup^k_{1=1}(g_i + V \cap G)$ and so $k$ translates of $V \cap G$
cover $G$. By the above argument and by Theorem 2.5 there exist $\varphi_{1G}, . . . , \varphi_{mG} \in G^*$, where $m = k^2$, such that


    $U_G (\varphi_{1G}, ...  \varphi_{mG}; \frac{\pi}{2}) \subseteq (V \cap G)_{(8)} \subseteq V_{(8)}$ (11)



    By Corollary 2.6 we can extend each $\varphi_{iG}$ to a character of $A$, so that we assume from now on $\varphi_{1G}, . . . , \varphi_{mG} \in A^*$
and 


    $G \cap U_A (\varphi_{1G}, ...  \varphi_{mG}; \frac{\pi}{2}) = U_A (\varphi_{1G}, ...  \varphi_{mG}; \frac{\pi}{2}) \subseteq V_{(8)}$ (12)


From (11) and (12) we conclude as before that $U_A (\chi_1, ..., \chi_m; \frac{\pi}{2}) \subseteq V_{(2)}$.

    
    As a corollary of Folner's lemma we obtain the following description of the neighborhoods of 0 in the Bohr
topology of $A$.


\textbf{Collary 5.8} For a subset $E$ of an abelian group $A$ the following are equivalent

    \begin{itemize}

        \item $E$ contains $V_{(8)}$ for some big subset $V$ of $A$;

        \item for every $n \in \mathbb{N}_+$ $E$ contains $V_{(2n)}$ for some big subset $V$ of $A$;

        \item $E$ is a neighborhood of 0 in the Bohr topology of $A$.

    \end{itemize}


\emph{Proof.}  The implication $(c) \Rightarrow (b)$ follows from Folner's lemma. The implication $(c) \Rightarrow (b)$ follows from Corollary
4.31 and Proposition 4.30.


    It follows from results of Folner [45] obtained by less elementary tools, that (b) can be replaced by the weaker
assumption $V_{(4)} \subseteq E$ (see also Ellis and Keynes [43] or Cotlar and Ricabarra [24] for further improvements).
Nevertheless the following old problems concerning the group $\mathbb{Z}$ is still open (see Cotlar and Ricabarra [24],
Ellis and Keynes [43], Følner [45], Glasner [54], Pestov [80, Question 1025] or Veech [94])


\textbf{Question 5.9.}  Does there exist a big set $V \subseteq \mathbb{Z}$ such that $V - V$ is not a neighborhood of 0 in the Bohr
topology of $G$?


    It is known that every infinite abelian group $G$ admits a big set with empty interior with respect to the Bohr
topology [4] (more precisely, these authors prove that every totally bounded group has a big subset with empty
interior)


\subsection{Prodanov's lemma and proof of Folner's theorem}


Let $C$ be a set in a real or complex vector space. Then $C$ is said to be convex if, for all $x, y \in C$ and all $t \in [0, 1],$
the point $(1 - t)x + ty \in C$.


    The next lemma, due to Prodanov [84], allows us to eliminate the discontinuous characters in uniform
approximations of continuous functions via linear combinations of characters


\textbf{Lemma 5.10 Prodanov's Lemma}. Let $G$ be a topological abelian group, let $U$ be an open subset of $G, f$ a
complex valued continuous function on $G$ and $M$ a convex closed subset of $\mathbb{C}$. Let $k \in \mathbb{N}_+$ and $\chi_1, . . . , \chi_k \in G'$.
Suppose that $c_1, . . . , c_k \in \mathbb{C}$ are such that $\sum^k_{j=1} c_j \chi_j (x) - f(x) \in M$ for every $x \in U$. If $\chi_{m_1}, . . . , \chi_{m_s}$, with
$m_1 < · · · < m_s, s \in \mathbb{N}, {m_1, . . . , m_s} \subseteq {1, . . . , k}$, are the continuous among $\chi_1, . . . , \chi_k$, then
$\sum^s_{i=1} c_{m_i} \chi_{m_i}(x)-f(x) \in M \text{ for every } x \in U.$


\emph{Proof.} Let $\chi_k \in G^*$ be discontinuous. Then it is discontinuous at 0. Consequently there exists a net ${x_\gamma}\gamma$ in
$G$ such that $lim_\gamma x_\gamma = 0$ and there exist $y_j = lim_\gamma \chi_j (x_\gamma)$ for all $j = 1, . . . , k$, but $y_k \neq 1$. Notice that always
$|y_j | = 1$. Moreover, $y_j = 1$ when $\chi_j$ is continuous because $x_\gamma \to 0$, so $y_j = lim \chi_j (x_\gamma) = 1$.


    Consider $\sum^k_{j=1} c_j \chi_j (x + tx_\gamma) - f(x + tx_\gamma)$, where $t \in \mathbb{Z}$. Since $lim_\gamma x_\gamma = 0$, we have $x + tx_\gamma \in U$ for every
$x \in U$ and for every sufficiently large $\gamma$. Thus $\sum^k_{j=1} c_j \chi_j (x)\chi_j (x_\gamma)^t - f(x + tx_\gamma) \in M$ and so passing to the
limit $\sum^k_{j=1} c_j \chi_j (x)y^t_j - f(x) \in M$, because $f$ is continuous and $M$ is closed.


    Take an arbitrary $n \in \mathbb{N}$. By the convexity of $M$ and the relation above for $t = 0, . . . , n$, we obtain


    $\frac{1}{n+1} \sum^n_{t=0} (\sum^k_{j=1}c_j \chi_j (x)y^t_j - f(x)) \in M$


Note that $\sum^n_{t=0} y^t_k = \frac{y^{n+1}_k - 1}{y_k - 1}$ because $y_k \neq 1$. Hence we get


    $\sum^{k-1}_{j=1} c_{jn} \chi_j (x) + \frac{c_k}{1+n} \frac{1-y^{n+1}_k}{1-y_k} \chi_k (x) - f(x) \in M$


for every $x \in U$, where $c_{jn} = \frac{\sum^n_{t=0} c_j y^t_j}{n+1}$. Now for every $j=1,2,...,k-1$


\begin{itemize}

    \item $|c_{jn}| \leq |c_j| \frac{\sum^n_{t=0} |y_j|^t}{n+1} = |c_j|$

    \item if $y_j=1$ then $c_{jn}=c_j$.

\end{itemize}


By the boundedness of the sequences ${c_{jn}}^\infty_{n=1} for j = 1, . . . , k - 1$, there exists a subsequence ${n_m}\infty_{m=1}$ such
that all limits $c'_j = lim_m c_{jn_m}$ exist for $j = 1, . . . , k - 1$. On the other hand, $|y_k| = 1$, so


    $lim_n \frac{c_k}{n+1} \frac{1-y^{n+1}_k}{1-y_k} = 0$


Taking the limit for $m \to \infty$ in


    $\sum^{k-1}_{j=1} c_{jn_m} \chi_j (x) + \frac{c_k}{1+n_m} \frac{1-y^{n_m+1}_k}{1-y_k} \chi k(x)-f(x) \in M$


gives


    $\sum^{k-1}_{j=1} c'_j \chi_j -f(x) \in M$ for $x \in U$; (13)


moreover $c'_j = c_j$ for every $j = 1, . . . , k - 1$ such that $\chi_j$ is continuous.


    The condition (13) is obtained by the hypothesis, removing the discontinuous character $\chi_k$ in such a way
that the coefficients of the continuous characters remain the same. Iterating this procedure, we can remove all
discontinuous characters among $\chi_1, . . . , \chi_k$.


    Now we give an (apparently) topology-free form of the local version of the Stone-WeierstraB theorem 2.19.


\textbf{Proposition 5.11} Let $G$ be an abelian group and $H$ be a group of characters of $G$. If $X$ is a subset of $G$ and
$f$ is a complex valued bounded function on $X$ then the following conditions are equivalent:


\begin{itemize}

    \item $f$ can be uniformly approximated on $X$ by a linear combination of elements of $H$ with complex coefficients;

    \item  for every $\varepsilon > 0$ there exist $\delta > 0$ and $\chi_1, . . . , \chi_m \in H$ such that $x - y \in U_G(\chi_1, . . . , \chi_m; \delta)$ yields
    $|f(x) - f(y)| < \varepsilon$ for every $x, y \in X$.

\end{itemize}


\emph{Proof.} $(a) \Rightarrow (b)$ Let $\varepsilon > 0$. By (a) there exist $c_1,...,c_m \in \mathbb(C)$ and $\chi_1,...,\chi_m \in H$ such that $\|\sum^m_{i=1} c_1 \chi_1 - f\|_\infty < \frac{\varepsilon}{4}$,
that is $|\sum^m_{i=l} c_l \chi_i| < \frac{\varepsilon}{4}$ for every $x \in X$.


    On the other hand note that $|\sum^m_{i=l} c_i \chi_i (y)| \leq \sum^m_{i=l} |c_i| * |\chi_i(x)-y_i(y)|$ and that 
$|\chi_i (x-y)-1|=|\chi_i (x) \chi_i (y)^{-1} - 1|=|\chi_i(x)-\chi_i(y)|$. If we take 


    $\delta = \frac{\varepsilon}{2m \max_{i=1,...,m}|c_i|}$


    then $x-y \in U(\chi_1, . . . , \chi_m; \delta)$ implies $\sum^m_{i=1} |c_i|*|\chi_i(x)-\chi_i(y)| < \frac{\varepsilon}{2}$ and so also $|\sum^m_{i=1} c_i \chi_i(x) - \sum^m_{i=1} c_i \chi_i(y)| < \frac{\varepsilon}{2}$.


    Consequently,


    $|f(x)-f(y)| \leq |f(x)-\sum^m_{i=1}c_i \chi_i (x)| + |\sum^m_{i=l} c_i \chi_i (x) \sum^m_{i=l} c_i \chi_i (y)| + |\sum^m_{i=l}c_i \chi_i (y)-f(y)| > \varepsilon$


$(b)\Rightarrow(a)$ Let $\beta X$ be the Cech-Stone compactification of $X$ endowed with the discrete topology. If $F : X \to \mathbb{C}$ is
bounded, there exists a unique continuous extension $F^\beta$ of $F$ to $\beta X$. Let $\mathcal{S}$ be the collection of all continuous
functions $g$ on $\beta X$ such that $g = \sum^n_{j=1} c_j \chi^\beta_j$ with $\chi_j \in H, c_j \in \mathbb{C}$ and $n \in \mathbb{N}_+$. Then $\mathcal{S}$ is a subalgebra
of $\mathcal{C}(\beta X, \mathbb{C})$ closed under conjugation and contains all constants. In fact in $\mathcal{S}$ we have $\chi^\beta_k \chi^\beta_j = (\chi_k \chi_j)^\beta$ by
definition and $\bar{\chi^\beta} = (\bar{\chi})^\beta$ because $\chi \bar{\chi} = 1$ and so $(\chi \bar{\chi})^\beta = \chi^\beta(\bar{\chi})^\beta = 1$, that is $(\bar{\chi})^\beta = (\chi^{-1})^\beta = \bar{\chi^\beta}$.


Now we will see that $\mathcal{S}$ separates the points of $\beta X$ separated by $f^{\beta}$, to apply the local Stone-WeierstraB
Theorem 2.19. Let $x, y \in \beta X$ and $f^{\beta}(x) \neq f^\beta(y)$. Consider two nets $\{x_i\}_i$ and ${y_i}_i$ in $X$ such that $x_i \to x$ and
$y_i \to y$. Since $f^\beta$ is continuous, we have $f^\beta(x) = lim f(x_i)$ and $f^\beta(y) = lim f(y_i)$. Along with $f^\beta(x) \neq f^\beta(y)$ this
implies that there exists $\varepsilon > 0$ such that $|f(x_i)-f(y_i)| \geq \varepsilon$ for every sufficiently large $i$. By the hypothesis there
exist $\delta > 0$ and $\chi_1, . . . , \chi_k \in H$ such that for every $u, v \in X$ if $u - v \in U_G(\chi_1, . . . , \chi_k; \delta)$ then $|f(u) - f(v)| < \varepsilon$.
Assume $\chi^\beta_j(x) = \chi^\beta_j(y)$ holds true for every $j = 1, . . . , k$. Then $x_i - y_i \in U_G(\chi_1, . . . , \chi_k; \delta)$ for every sufficiently
large $i$, this contradicts (a). So each pair of points of $\beta X$ separated by $f^\beta$ is also separated by $\mathcal{S}$. Since $\beta X$ is
compact, one can apply the local version of the Stone-WeierstraB Theorem 2.19 to $\mathcal{S}$ and $f^\beta$ and so $f^\beta$ can be
uniformly approximated by $\mathcal{S}$. To conclude note that if $g =\Sigma c_j \chi^\beta_j$ on $\beta X$ then $g \upharpoonright_X =\Sigma c_j \chi_j$.


The reader familiar with uniform spaces will note that item (b) is nothing else but uniform continuity of $f$
w.r.t. the uniformity on $X$ induced by the uniformity of the whole group $G$ determined by the topology $\mathcal{T}_H$.


\textbf{Theorem 5.12 (Folner theorem)} Let $G$ be a topological abelian group. If $k$ is a positive integer and $E$
is a subset of $G$ such that $k$ translates of $E$ cover $G$, then for every neighborhood $U$ of 0 in $G$ there exist
$\chi_1, . . . , \chi_m \in \hat{G}$, where $m = k^2$, and $\delta > 0$ such that $U_G(\chi_1, . . . , \chi_m; \delta) \subseteq U - U + E_{(8)}$.


\emph{Proof.} By Folner's lemma 5.7 there exist $\varphi_1, . . . , \varphi_m \in G^*$ such that $U_G(\varphi_1, . . . , \varphi_m; \frac{\pi}{2}) \subseteq E_{(8)}$, where the
characters $\varphi_j$ can be discontinuous. Our aim will be to replace these characters by continuous ones “enlarging”
$E_{(8)}$ to $U - U + E_{(8)}$.


It follows from Lemma 3.18 that $C := E_{(8)} + U \subseteq E_{(8)} + U - U$. Consider the open set $X = U \cup (G / C)$
and the function $f : X \to \mathbb{C}$ defined by


    $f(x)=\{^{0 \text{ if } x \in U}_{1 \text{ if } x \in G / C}$


Then $f$ is continuous as $X = U \bigcup (G / C)$ is a clopen partition of $X$.


    Let $H$ be the group generated by $\varphi_1, . . . , \varphi_m$. Take $x, y \in X$ with $x - y \in U_G(\varphi_1, . . . , \varphi_m; \frac{\pi}{2}) \subseteq E(8)$. So if
$y \in U$ then $x \in E_{(8)} + U$ and consequently $x \notin G / \bar{E_{(8)} + U}$, that is $x \in U$. In the same way it can be showed
that $x \in U$ yields $y \in U$. This gives $f(x) = f(y)$ by the definition of $f$. So by Proposition 5.11 one can uniformly
approximate $f$ on $X$ by characters of $H$. Hence one can find a finite number of $m$-uples $\tilde{j} = (j_1, . . . , j_m)$ of
integers and $c_{\tilde{j}} \in \mathbb{C}$ such that


    $|\sum_{\tilde{j}} c_{\tilde{j}} \varphi^{j_1}_1(x) * ... * \varphi^{j_m}_m (x) - f(x)| \leq \frac{1}{3}$ (13)


    holds for every $x \in X$. Since $X$ is open and $f$ is continuous, we can apply Lemma 5.10 to the convex closed set
$M = \{z \in \mathbb{C} : |z| \leq \frac{1}{3}\}$ and this permits us to assume that all products $\varphi^{j1}_1· . . . · \varphi^{jm}_m$ are continuous. Letting
$x = 0$ in (13) one gets $|\sum_{\tilde{j}}c_{\tilde{j}}| \leq \frac{1}{3}$, and consequently,


    $\frac{2}{3} \leq |\sum_\tilde{j} c_\tilde{j} - 1|$  (14)


    Let now Φ be the subgroup of H consisting of all continuous characters of H, i.e., Φ = H ∩ Gb. By Theorem
2.1 there exist $\chi_1, . . . , \chi_m \in \Phi$ that generate $\Phi$. Choose $\varepsilon > 0$ with $\varepsilon\sum_\tilde{j}|c_\tilde{j}| < \frac{1}{3}$. By the continuity of
$\chi_1, . . . , \chi_m \in \Phi$ there exists $\delta > 0$ such that $x \in U_G(\chi_1, . . . , \chi_m; \delta)$ implies $|\varphi^{j_1}_1(x) * ... * \varphi^{j_m}_m(x) - 1| \leq \varepsilon$ for all
summands $\varphi^{j_1}_1 * ... * \varphi^{j_m}_m$ in (13).


    To prove


    $U_G (\chi_1, ..., \chi_m; \delta) \subseteq U - U + E_{(8)}$


    assume for a contradiction that some $z \in U_G(\chi_1, . . . , \chi_m; \delta)$ and $z \neq U - U + E_{(8)}$. Since $C = \tilde{E_{(8)} + U} \subseteq E_{(8)} + U - U$,
then $z \in G / C \subseteq X$. Thus, by the definition of $f$, (13), (14) and $|\varphi^{j1}_1(z) * . . . * \varphi^{jm}_m (z) - 1| \leq \varepsilon$,
we have


    $\frac{2}{3} \leq |\sum_\tilde{j} c_{\tilde{j}} - 1| \leq |\sum_{\tilde{j}} c_{\tilde{j}} (1 - \varphi^{j_1}_1(z)) * ... * \varphi^{j_m}_m(z))| + |\sum_{\tilde{j}} c_{\tilde{j}} \varphi^{j_1}_1 (z) ... * \varphi^{j_m}_m(z))| \leq \varepsilon \sum_\tilde{j} |c_\tilde{j}| + \frac{1}{3}$


    These inequalities together give $\frac{2}{3} \leq \varepsilon \sum_{\tilde{j}}|c_{\tilde{j}}| + \frac{1}{3}$. This contradicts the choice of $\varepsilon$.


\section{Peter-Weyl's theorem and other applications of Folner's theorem}


In this section we prove Peter-Weyl's theorem using Folner's theorem.


\subsection{Precompact group topologies on abelian groups}


    Let us recall here that for an abelian group $G$ and a subgroup $H$ of $G^*$, the group topology $\mathcal{T}_H$ generated by $H$
is the coarsest group topology on $G$ that makes every character from $H$ continuous. We recall its description
and properties in the next proposition:


\textbf{Proposition 6.1}


    Let $G$ be an abelian group and let $H$ be a group of characters of $G$. A base of the neighborhoods
of 0 in $(G, \mathcal{T}_H)$ is given by the sets $U(\chi_1, . . . , \chi_m; \delta)$, where $\chi_1, . . . , \chi_m \in H$ and $\delta > 0$. Moreover $(G, \mathcal{T}_H)$ is a
Hausdorff if and only if $H$ separates the points of $G$.


    Now we can characterize the precompact topologies on abelian groups.


\textbf{Theorem 6.2} Let $(G, \tau)$ be an abelian group. The following conditions are equivalent:

    \begin{itemize}

        \item $\tau$ is precompact;

        \item $\tau$ is Hausdorff on $G$ and the neighborhoods of 0 in $G$ are big subsets;

        \item there exists a group $H$ of continuous characters of $G$ that separates the points of $G$ and such that $\tau = \mathcal{T}_H$.

    \begin{itemize}


    \emph{Proof.} (a)⇒(b) is the definition of precompact topology.
    
    
        $(b)\Rightarrow(c)$ If $H = \hat{(G, \tau )}$ then $\mathcal{T}_H \subseteq \tau$. Let $U$ and $V$ be open neighborhoods of 0 in $(G, \tau )$ such that $V_{(10)} \subseteq U$.
    Then $V$ is big and by Folner's Theorem 5.12 there exist continuous characters $\chi_1, . . . , \chi_m$ of $G$ such that
    $U_G(\chi_1, . . . , \chi_m; \delta) \subseteq V_{(10)} \subseteq U$ for some $\delta > 0$. Thus $U \in \mathcal{T}_H$ and $\tau \subseteq \mathcal{T}_H$.
    
    
        $(c)\Rightarrow(a)$ Even if this implication is contained in Corollary 4.31, we give a direct proof here. Let $i : G \to \mathbb{S}^H$
    be defined by $i(g) = i_g : H \to \mathbb{S}$ (if $g \in G$) with $i_g (\chi) = \chi (g)$ for every $\chi \in H$. Since $H$ separates the points
    of $G$, the function $i$ is injective. The product $\mathbb{S}^H$ endowed with the product topology is compact and so $i$ is
    a topological immersion by Proposition 6.1. The closure of $i(G)$ in $\mathbb{S}^H$ is compact and $\tilde{G}$ is isomorphic to it,
    hence $\tilde{G}$ is compact.


\textbf{Remark 6.3} The above theorem essentially belongs to Comfort and Ross [23]. It can be given in the following
simpler “Hausdorff-free” version: $\tau$ is totally bounded iff $\tau = \mathcal{T}_H$ for some group $H$ of continuous characters of
$G$.


\textbf{Corollary 6.4 (Peter-Weyl's theorem)}. If $G$ is a compact abelian group, then $\hat{G}$ separates the points of $G$.


    Proof. Let $\tau$ be the topology of $G$. By Theorem 6.2 there exists a group $H$ of continuous characters of G (i.e.,
$H \subseteq \hat{G}$) such that $\tau = \mathcal{T}_H$. Since $\tau \supseteq \mathcal{T}_{\bar{G}}$ and $H \subseteq \hat{G}$ we conclude that $H = \hat{G}$ separates the points of $G$.


    The next theorem will allow us to sharpen this property (see Corollary 6.6).


\textbf{Theorem 6.5} Let $G$ be an abelian group. Let $\mathcal{H}$ be the set of all groups of characters of $G$ separating the
points of $G$ and $\mathcal{P}$ be the set of all precompact group topologies on $G$. Then the function $T : \mathcal{H} \to \mathcal{P}$ which
associates to $H \in \mathcal{H}$ the topology $c\mathcal{T}_H \in \mathcal{P}$ is an order preserving bijection (if $H_1, H_2 \in \mathcal{H}$ then $T_{H_1} \subseteq T_{H_2}$ if and
only if $H_1 \subseteq H_2$).


\emph{Proof.} The equivalence $(a)\Leftrightarrow(c)$ of Theorem 6.2 yields that $\mathcal{T}_H \in \mathcal{P}$ for every $H \in \mathcal{H}$ and that $T$ is surjective.

    
    Let $H \in \mathcal{H}$ and suppose that $\chi \in \hat{(G, \mathcal{T}_H)}$. To show that $\chi \in H$ let $\varepsilon > 0$. Since $\chi$ is continuous in 0,
by Proposition 6.1 there exist $\chi_1, . . . , \chi_m \in H$ and $\delta > 0$ such that $|\chi(x) - 1| < \varepsilon$ for $x \in U(\chi_1, . . . , \chi_m; \delta)$.
Therefore for every $x, y \in G$ with $x - y \in U(\chi_1, . . . , \chi_m; \delta)$ we get $|\chi(x - y) - 1| < \varepsilon$, that is $|\chi(x) - \chi(y)| < \varepsilon$.
Apply now Proposition 5.11 to find $\chi_1, . . . , \chi_m \in H$ and $c_i, . . . , c_m \in \mathbb{C}$ such that $|\sum^m_{j=1} c_j \chi_j (x) - \chi(x)| \leq \frac{1}{2}$
for every $x \in G$. This yields $|\sum^m_{j=1} c_j \chi_j (x)\chi^{-1}(x) - 1| \leq \frac{1}{2}$.


    Suppose now that $\chi \neq H$. Then each $\chi_j \chi^{-1}$ in the previous condition is non-constant. Equip $G$ with the
indiscrete topology. Then each character $\chi_j \chi^{-1}$ is discontinuous. Applying Lemma 5.10 we get the inequality
1$ \leq \frac{1}{2}$, which is a contradiction. Therefore $\chi \in H$ and so $H = \hat{(G, \tau_H)}$ for every $H \in \mathcal{H}$.


    If $H_1, H_2 \in \mathcal{H}$ and $T_{H_1} = T_{H_2}$ then $H_1 = H_2$, so $T$ is a bijection.


    The last statement of the theorem is obvious.


    As a corollary of Theorem 6.5 we obtain the following important fact that completes Corollary 6.4. It will
be essentially used in the proof of the duality theorem.


\textbf{Corollary 6.6} If $(G, \tau)$ is a compact abelian group and $H \leq \hat{G}$ separates the points of $G$, then $H = \hat{G}$.


\emph{Proof.} By Theorem 6.2 it holds $\tau = \mathcal{T}_{\hat{b}}$. Since $\mathcal{T}_H \subseteq \mathcal{T}_{\hat{G}}$ by Theorem 6.5 and $\mathcal{T}_H$ is Hausdorff, then $\mathcal{T}_H = \mathcal{T}_{\hat{G}}$.
Now again Theorem 6.5 yields $H = \hat{G}$.


\textbf{Definition 6.7} An abelian topological group is elementary compact if it is topologically isomorphic to $\mathbb{T}^s \times F$,
where $n$ is a positive integer and $F$ is a finite abelian group.



%   End of current work.    %



\textbf{Proposition 6.8}
\subsection{Precompact group topologies determined by sequences}
\textbf{Proposition 6.9}
\textbf{Definition 6.10}
\textbf{Theorem 6.11}
\textbf{Example 6.12}
\textbf{Example 6.13}\textbf{Theorem 6.14}
\subsection{On the structure of compactly generated locally compact abelian groups}
\textbf{Lemma 6.15}
\textbf{Corollary 6.16}
\textbf{Proposition 6.17}
\textbf{Proposition 6.18}


\end{document}
